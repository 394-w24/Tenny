(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))i(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var HC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var kg={exports:{}},jl={},Ig={exports:{}},se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ao=Symbol.for("react.element"),jC=Symbol.for("react.portal"),WC=Symbol.for("react.fragment"),VC=Symbol.for("react.strict_mode"),ZC=Symbol.for("react.profiler"),$C=Symbol.for("react.provider"),GC=Symbol.for("react.context"),KC=Symbol.for("react.forward_ref"),YC=Symbol.for("react.suspense"),qC=Symbol.for("react.memo"),QC=Symbol.for("react.lazy"),nm=Symbol.iterator;function XC(t){return t===null||typeof t!="object"?null:(t=nm&&t[nm]||t["@@iterator"],typeof t=="function"?t:null)}var Pg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Ng=Object.assign,Lg={};function ns(t,e,n){this.props=t,this.context=e,this.refs=Lg,this.updater=n||Pg}ns.prototype.isReactComponent={};ns.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ns.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Rg(){}Rg.prototype=ns.prototype;function rd(t,e,n){this.props=t,this.context=e,this.refs=Lg,this.updater=n||Pg}var sd=rd.prototype=new Rg;sd.constructor=rd;Ng(sd,ns.prototype);sd.isPureReactComponent=!0;var im=Array.isArray,Og=Object.prototype.hasOwnProperty,od={current:null},Ag={key:!0,ref:!0,__self:!0,__source:!0};function Mg(t,e,n){var i,s={},o=null,l=null;if(e!=null)for(i in e.ref!==void 0&&(l=e.ref),e.key!==void 0&&(o=""+e.key),e)Og.call(e,i)&&!Ag.hasOwnProperty(i)&&(s[i]=e[i]);var c=arguments.length-2;if(c===1)s.children=n;else if(1<c){for(var d=Array(c),p=0;p<c;p++)d[p]=arguments[p+2];s.children=d}if(t&&t.defaultProps)for(i in c=t.defaultProps,c)s[i]===void 0&&(s[i]=c[i]);return{$$typeof:Ao,type:t,key:o,ref:l,props:s,_owner:od.current}}function JC(t,e){return{$$typeof:Ao,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ad(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ao}function eT(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var rm=/\/+/g;function Vu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eT(""+t.key):e.toString(36)}function Da(t,e,n,i,s){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var l=!1;if(t===null)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case Ao:case jC:l=!0}}if(l)return l=t,s=s(l),t=i===""?"."+Vu(l,0):i,im(s)?(n="",t!=null&&(n=t.replace(rm,"$&/")+"/"),Da(s,e,n,"",function(p){return p})):s!=null&&(ad(s)&&(s=JC(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(rm,"$&/")+"/")+t)),e.push(s)),1;if(l=0,i=i===""?".":i+":",im(t))for(var c=0;c<t.length;c++){o=t[c];var d=i+Vu(o,c);l+=Da(o,e,n,d,s)}else if(d=XC(t),typeof d=="function")for(t=d.call(t),c=0;!(o=t.next()).done;)o=o.value,d=i+Vu(o,c++),l+=Da(o,e,n,d,s);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return l}function pa(t,e,n){if(t==null)return t;var i=[],s=0;return Da(t,i,"","",function(o){return e.call(n,o,s++)}),i}function tT(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var dt={current:null},za={transition:null},nT={ReactCurrentDispatcher:dt,ReactCurrentBatchConfig:za,ReactCurrentOwner:od};se.Children={map:pa,forEach:function(t,e,n){pa(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return pa(t,function(){e++}),e},toArray:function(t){return pa(t,function(e){return e})||[]},only:function(t){if(!ad(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};se.Component=ns;se.Fragment=WC;se.Profiler=ZC;se.PureComponent=rd;se.StrictMode=VC;se.Suspense=YC;se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nT;se.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var i=Ng({},t.props),s=t.key,o=t.ref,l=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,l=od.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(d in e)Og.call(e,d)&&!Ag.hasOwnProperty(d)&&(i[d]=e[d]===void 0&&c!==void 0?c[d]:e[d])}var d=arguments.length-2;if(d===1)i.children=n;else if(1<d){c=Array(d);for(var p=0;p<d;p++)c[p]=arguments[p+2];i.children=c}return{$$typeof:Ao,type:t.type,key:s,ref:o,props:i,_owner:l}};se.createContext=function(t){return t={$$typeof:GC,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:$C,_context:t},t.Consumer=t};se.createElement=Mg;se.createFactory=function(t){var e=Mg.bind(null,t);return e.type=t,e};se.createRef=function(){return{current:null}};se.forwardRef=function(t){return{$$typeof:KC,render:t}};se.isValidElement=ad;se.lazy=function(t){return{$$typeof:QC,_payload:{_status:-1,_result:t},_init:tT}};se.memo=function(t,e){return{$$typeof:qC,type:t,compare:e===void 0?null:e}};se.startTransition=function(t){var e=za.transition;za.transition={};try{t()}finally{za.transition=e}};se.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};se.useCallback=function(t,e){return dt.current.useCallback(t,e)};se.useContext=function(t){return dt.current.useContext(t)};se.useDebugValue=function(){};se.useDeferredValue=function(t){return dt.current.useDeferredValue(t)};se.useEffect=function(t,e){return dt.current.useEffect(t,e)};se.useId=function(){return dt.current.useId()};se.useImperativeHandle=function(t,e,n){return dt.current.useImperativeHandle(t,e,n)};se.useInsertionEffect=function(t,e){return dt.current.useInsertionEffect(t,e)};se.useLayoutEffect=function(t,e){return dt.current.useLayoutEffect(t,e)};se.useMemo=function(t,e){return dt.current.useMemo(t,e)};se.useReducer=function(t,e,n){return dt.current.useReducer(t,e,n)};se.useRef=function(t){return dt.current.useRef(t)};se.useState=function(t){return dt.current.useState(t)};se.useSyncExternalStore=function(t,e,n){return dt.current.useSyncExternalStore(t,e,n)};se.useTransition=function(){return dt.current.useTransition()};se.version="18.2.0";Ig.exports=se;var P=Ig.exports;const xt=Oo(P);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iT=P,rT=Symbol.for("react.element"),sT=Symbol.for("react.fragment"),oT=Object.prototype.hasOwnProperty,aT=iT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lT={key:!0,ref:!0,__self:!0,__source:!0};function bg(t,e,n){var i,s={},o=null,l=null;n!==void 0&&(o=""+n),e.key!==void 0&&(o=""+e.key),e.ref!==void 0&&(l=e.ref);for(i in e)oT.call(e,i)&&!lT.hasOwnProperty(i)&&(s[i]=e[i]);if(t&&t.defaultProps)for(i in e=t.defaultProps,e)s[i]===void 0&&(s[i]=e[i]);return{$$typeof:rT,type:t,key:o,ref:l,props:s,_owner:aT.current}}jl.Fragment=sT;jl.jsx=bg;jl.jsxs=bg;kg.exports=jl;var B=kg.exports,zc={},Dg={exports:{}},Lt={},zg={exports:{}},Fg={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,G){var b=N.length;N.push(G);e:for(;0<b;){var Z=b-1>>>1,ee=N[Z];if(0<s(ee,G))N[Z]=G,N[b]=ee,b=Z;else break e}}function n(N){return N.length===0?null:N[0]}function i(N){if(N.length===0)return null;var G=N[0],b=N.pop();if(b!==G){N[0]=b;e:for(var Z=0,ee=N.length,ve=ee>>>1;Z<ve;){var ae=2*(Z+1)-1,q=N[ae],K=ae+1,nt=N[K];if(0>s(q,b))K<ee&&0>s(nt,q)?(N[Z]=nt,N[K]=b,Z=K):(N[Z]=q,N[ae]=b,Z=ae);else if(K<ee&&0>s(nt,b))N[Z]=nt,N[K]=b,Z=K;else break e}}return G}function s(N,G){var b=N.sortIndex-G.sortIndex;return b!==0?b:N.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var d=[],p=[],g=1,_=null,v=3,T=!1,S=!1,k=!1,D=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(N){for(var G=n(p);G!==null;){if(G.callback===null)i(p);else if(G.startTime<=N)i(p),G.sortIndex=G.expirationTime,e(d,G);else break;G=n(p)}}function R(N){if(k=!1,C(N),!S)if(n(d)!==null)S=!0,ge(z);else{var G=n(p);G!==null&&Qe(R,G.startTime-N)}}function z(N,G){S=!1,k&&(k=!1,E(j),j=-1),T=!0;var b=v;try{for(C(G),_=n(d);_!==null&&(!(_.expirationTime>G)||N&&!de());){var Z=_.callback;if(typeof Z=="function"){_.callback=null,v=_.priorityLevel;var ee=Z(_.expirationTime<=G);G=t.unstable_now(),typeof ee=="function"?_.callback=ee:_===n(d)&&i(d),C(G)}else i(d);_=n(d)}if(_!==null)var ve=!0;else{var ae=n(p);ae!==null&&Qe(R,ae.startTime-G),ve=!1}return ve}finally{_=null,v=b,T=!1}}var A=!1,U=null,j=-1,oe=5,Q=-1;function de(){return!(t.unstable_now()-Q<oe)}function Oe(){if(U!==null){var N=t.unstable_now();Q=N;var G=!0;try{G=U(!0,N)}finally{G?Tt():(A=!1,U=null)}}else A=!1}var Tt;if(typeof w=="function")Tt=function(){w(Oe)};else if(typeof MessageChannel<"u"){var qe=new MessageChannel,Un=qe.port2;qe.port1.onmessage=Oe,Tt=function(){Un.postMessage(null)}}else Tt=function(){D(Oe,0)};function ge(N){U=N,A||(A=!0,Tt())}function Qe(N,G){j=D(function(){N(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){S||T||(S=!0,ge(z))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):oe=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return n(d)},t.unstable_next=function(N){switch(v){case 1:case 2:case 3:var G=3;break;default:G=v}var b=v;v=G;try{return N()}finally{v=b}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,G){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var b=v;v=N;try{return G()}finally{v=b}},t.unstable_scheduleCallback=function(N,G,b){var Z=t.unstable_now();switch(typeof b=="object"&&b!==null?(b=b.delay,b=typeof b=="number"&&0<b?Z+b:Z):b=Z,N){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=b+ee,N={id:g++,callback:G,priorityLevel:N,startTime:b,expirationTime:ee,sortIndex:-1},b>Z?(N.sortIndex=b,e(p,N),n(d)===null&&N===n(p)&&(k?(E(j),j=-1):k=!0,Qe(R,b-Z))):(N.sortIndex=ee,e(d,N),S||T||(S=!0,ge(z))),N},t.unstable_shouldYield=de,t.unstable_wrapCallback=function(N){var G=v;return function(){var b=v;v=G;try{return N.apply(this,arguments)}finally{v=b}}}})(Fg);zg.exports=Fg;var uT=zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bg=P,Nt=uT;function M(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Ug=new Set,io={};function Qi(t,e){Zr(t,e),Zr(t+"Capture",e)}function Zr(t,e){for(io[t]=e,t=0;t<e.length;t++)Ug.add(e[t])}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Fc=Object.prototype.hasOwnProperty,cT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,sm={},om={};function hT(t){return Fc.call(om,t)?!0:Fc.call(sm,t)?!1:cT.test(t)?om[t]=!0:(sm[t]=!0,!1)}function dT(t,e,n,i){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fT(t,e,n,i){if(e===null||typeof e>"u"||dT(t,e,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ft(t,e,n,i,s,o,l){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=i,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=l}var tt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){tt[t]=new ft(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];tt[e]=new ft(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){tt[t]=new ft(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){tt[t]=new ft(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){tt[t]=new ft(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){tt[t]=new ft(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){tt[t]=new ft(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){tt[t]=new ft(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){tt[t]=new ft(t,5,!1,t.toLowerCase(),null,!1,!1)});var ld=/[\-:]([a-z])/g;function ud(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ld,ud);tt[e]=new ft(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ld,ud);tt[e]=new ft(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ld,ud);tt[e]=new ft(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){tt[t]=new ft(t,1,!1,t.toLowerCase(),null,!1,!1)});tt.xlinkHref=new ft("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){tt[t]=new ft(t,1,!1,t.toLowerCase(),null,!0,!0)});function cd(t,e,n,i){var s=tt.hasOwnProperty(e)?tt[e]:null;(s!==null?s.type!==0:i||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fT(e,n,s,i)&&(n=null),i||s===null?hT(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,i=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,i?t.setAttributeNS(i,e,n):t.setAttribute(e,n))))}var Dn=Bg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ma=Symbol.for("react.element"),vr=Symbol.for("react.portal"),yr=Symbol.for("react.fragment"),hd=Symbol.for("react.strict_mode"),Bc=Symbol.for("react.profiler"),Hg=Symbol.for("react.provider"),jg=Symbol.for("react.context"),dd=Symbol.for("react.forward_ref"),Uc=Symbol.for("react.suspense"),Hc=Symbol.for("react.suspense_list"),fd=Symbol.for("react.memo"),$n=Symbol.for("react.lazy"),Wg=Symbol.for("react.offscreen"),am=Symbol.iterator;function Ts(t){return t===null||typeof t!="object"?null:(t=am&&t[am]||t["@@iterator"],typeof t=="function"?t:null)}var Re=Object.assign,Zu;function zs(t){if(Zu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Zu=e&&e[1]||""}return`
`+Zu+t}var $u=!1;function Gu(t,e){if(!t||$u)return"";$u=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(p){var i=p}Reflect.construct(t,[],e)}else{try{e.call()}catch(p){i=p}t.call(e.prototype)}else{try{throw Error()}catch(p){i=p}t()}}catch(p){if(p&&i&&typeof p.stack=="string"){for(var s=p.stack.split(`
`),o=i.stack.split(`
`),l=s.length-1,c=o.length-1;1<=l&&0<=c&&s[l]!==o[c];)c--;for(;1<=l&&0<=c;l--,c--)if(s[l]!==o[c]){if(l!==1||c!==1)do if(l--,c--,0>c||s[l]!==o[c]){var d=`
`+s[l].replace(" at new "," at ");return t.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",t.displayName)),d}while(1<=l&&0<=c);break}}}finally{$u=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?zs(t):""}function pT(t){switch(t.tag){case 5:return zs(t.type);case 16:return zs("Lazy");case 13:return zs("Suspense");case 19:return zs("SuspenseList");case 0:case 2:case 15:return t=Gu(t.type,!1),t;case 11:return t=Gu(t.type.render,!1),t;case 1:return t=Gu(t.type,!0),t;default:return""}}function jc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case yr:return"Fragment";case vr:return"Portal";case Bc:return"Profiler";case hd:return"StrictMode";case Uc:return"Suspense";case Hc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case jg:return(t.displayName||"Context")+".Consumer";case Hg:return(t._context.displayName||"Context")+".Provider";case dd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case fd:return e=t.displayName||null,e!==null?e:jc(t.type)||"Memo";case $n:e=t._payload,t=t._init;try{return jc(t(e))}catch{}}return null}function mT(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jc(e);case 8:return e===hd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ci(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Vg(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _T(t){var e=Vg(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),i=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(l){i=""+l,o.call(this,l)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(l){i=""+l},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function _a(t){t._valueTracker||(t._valueTracker=_T(t))}function Zg(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),i="";return t&&(i=Vg(t)?t.checked?"true":"false":t.value),t=i,t!==n?(e.setValue(t),!0):!1}function Ya(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Wc(t,e){var n=e.checked;return Re({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function lm(t,e){var n=e.defaultValue==null?"":e.defaultValue,i=e.checked!=null?e.checked:e.defaultChecked;n=ci(e.value!=null?e.value:n),t._wrapperState={initialChecked:i,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function $g(t,e){e=e.checked,e!=null&&cd(t,"checked",e,!1)}function Vc(t,e){$g(t,e);var n=ci(e.value),i=e.type;if(n!=null)i==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(i==="submit"||i==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Zc(t,e.type,n):e.hasOwnProperty("defaultValue")&&Zc(t,e.type,ci(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function um(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var i=e.type;if(!(i!=="submit"&&i!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Zc(t,e,n){(e!=="number"||Ya(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Fs=Array.isArray;function Ar(t,e,n,i){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&i&&(t[n].defaultSelected=!0)}else{for(n=""+ci(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,i&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function $c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(M(91));return Re({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function cm(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(M(92));if(Fs(n)){if(1<n.length)throw Error(M(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ci(n)}}function Gg(t,e){var n=ci(e.value),i=ci(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),i!=null&&(t.defaultValue=""+i)}function hm(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Kg(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Gc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Kg(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ga,Yg=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,i,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,i,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ga=ga||document.createElement("div"),ga.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ga.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ro(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var js={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gT=["Webkit","ms","Moz","O"];Object.keys(js).forEach(function(t){gT.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),js[e]=js[t]})});function qg(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||js.hasOwnProperty(t)&&js[t]?(""+e).trim():e+"px"}function Qg(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var i=n.indexOf("--")===0,s=qg(n,e[n],i);n==="float"&&(n="cssFloat"),i?t.setProperty(n,s):t[n]=s}}var vT=Re({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kc(t,e){if(e){if(vT[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(M(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(M(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(M(61))}if(e.style!=null&&typeof e.style!="object")throw Error(M(62))}}function Yc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qc=null;function pd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qc=null,Mr=null,br=null;function dm(t){if(t=Do(t)){if(typeof Qc!="function")throw Error(M(280));var e=t.stateNode;e&&(e=Gl(e),Qc(t.stateNode,t.type,e))}}function Xg(t){Mr?br?br.push(t):br=[t]:Mr=t}function Jg(){if(Mr){var t=Mr,e=br;if(br=Mr=null,dm(t),e)for(t=0;t<e.length;t++)dm(e[t])}}function ev(t,e){return t(e)}function tv(){}var Ku=!1;function nv(t,e,n){if(Ku)return t(e,n);Ku=!0;try{return ev(t,e,n)}finally{Ku=!1,(Mr!==null||br!==null)&&(tv(),Jg())}}function so(t,e){var n=t.stateNode;if(n===null)return null;var i=Gl(n);if(i===null)return null;n=i[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(t=t.type,i=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!i;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(M(231,e,typeof n));return n}var Xc=!1;if(Rn)try{var Ss={};Object.defineProperty(Ss,"passive",{get:function(){Xc=!0}}),window.addEventListener("test",Ss,Ss),window.removeEventListener("test",Ss,Ss)}catch{Xc=!1}function yT(t,e,n,i,s,o,l,c,d){var p=Array.prototype.slice.call(arguments,3);try{e.apply(n,p)}catch(g){this.onError(g)}}var Ws=!1,qa=null,Qa=!1,Jc=null,wT={onError:function(t){Ws=!0,qa=t}};function ET(t,e,n,i,s,o,l,c,d){Ws=!1,qa=null,yT.apply(wT,arguments)}function CT(t,e,n,i,s,o,l,c,d){if(ET.apply(this,arguments),Ws){if(Ws){var p=qa;Ws=!1,qa=null}else throw Error(M(198));Qa||(Qa=!0,Jc=p)}}function Xi(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function iv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function fm(t){if(Xi(t)!==t)throw Error(M(188))}function TT(t){var e=t.alternate;if(!e){if(e=Xi(t),e===null)throw Error(M(188));return e!==t?null:t}for(var n=t,i=e;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(i=s.return,i!==null){n=i;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return fm(s),t;if(o===i)return fm(s),e;o=o.sibling}throw Error(M(188))}if(n.return!==i.return)n=s,i=o;else{for(var l=!1,c=s.child;c;){if(c===n){l=!0,n=s,i=o;break}if(c===i){l=!0,i=s,n=o;break}c=c.sibling}if(!l){for(c=o.child;c;){if(c===n){l=!0,n=o,i=s;break}if(c===i){l=!0,i=o,n=s;break}c=c.sibling}if(!l)throw Error(M(189))}}if(n.alternate!==i)throw Error(M(190))}if(n.tag!==3)throw Error(M(188));return n.stateNode.current===n?t:e}function rv(t){return t=TT(t),t!==null?sv(t):null}function sv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=sv(t);if(e!==null)return e;t=t.sibling}return null}var ov=Nt.unstable_scheduleCallback,pm=Nt.unstable_cancelCallback,ST=Nt.unstable_shouldYield,xT=Nt.unstable_requestPaint,De=Nt.unstable_now,kT=Nt.unstable_getCurrentPriorityLevel,md=Nt.unstable_ImmediatePriority,av=Nt.unstable_UserBlockingPriority,Xa=Nt.unstable_NormalPriority,IT=Nt.unstable_LowPriority,lv=Nt.unstable_IdlePriority,Wl=null,dn=null;function PT(t){if(dn&&typeof dn.onCommitFiberRoot=="function")try{dn.onCommitFiberRoot(Wl,t,void 0,(t.current.flags&128)===128)}catch{}}var Xt=Math.clz32?Math.clz32:RT,NT=Math.log,LT=Math.LN2;function RT(t){return t>>>=0,t===0?32:31-(NT(t)/LT|0)|0}var va=64,ya=4194304;function Bs(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ja(t,e){var n=t.pendingLanes;if(n===0)return 0;var i=0,s=t.suspendedLanes,o=t.pingedLanes,l=n&268435455;if(l!==0){var c=l&~s;c!==0?i=Bs(c):(o&=l,o!==0&&(i=Bs(o)))}else l=n&~s,l!==0?i=Bs(l):o!==0&&(i=Bs(o));if(i===0)return 0;if(e!==0&&e!==i&&!(e&s)&&(s=i&-i,o=e&-e,s>=o||s===16&&(o&4194240)!==0))return e;if(i&4&&(i|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=i;0<e;)n=31-Xt(e),s=1<<n,i|=t[n],e&=~s;return i}function OT(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function AT(t,e){for(var n=t.suspendedLanes,i=t.pingedLanes,s=t.expirationTimes,o=t.pendingLanes;0<o;){var l=31-Xt(o),c=1<<l,d=s[l];d===-1?(!(c&n)||c&i)&&(s[l]=OT(c,e)):d<=e&&(t.expiredLanes|=c),o&=~c}}function eh(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function uv(){var t=va;return va<<=1,!(va&4194240)&&(va=64),t}function Yu(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Mo(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xt(e),t[e]=n}function MT(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var i=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Xt(n),o=1<<s;e[s]=0,i[s]=-1,t[s]=-1,n&=~o}}function _d(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var i=31-Xt(n),s=1<<i;s&e|t[i]&e&&(t[i]|=e),n&=~s}}var pe=0;function cv(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var hv,gd,dv,fv,pv,th=!1,wa=[],Jn=null,ei=null,ti=null,oo=new Map,ao=new Map,Yn=[],bT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mm(t,e){switch(t){case"focusin":case"focusout":Jn=null;break;case"dragenter":case"dragleave":ei=null;break;case"mouseover":case"mouseout":ti=null;break;case"pointerover":case"pointerout":oo.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ao.delete(e.pointerId)}}function xs(t,e,n,i,s,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:i,nativeEvent:o,targetContainers:[s]},e!==null&&(e=Do(e),e!==null&&gd(e)),t):(t.eventSystemFlags|=i,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function DT(t,e,n,i,s){switch(e){case"focusin":return Jn=xs(Jn,t,e,n,i,s),!0;case"dragenter":return ei=xs(ei,t,e,n,i,s),!0;case"mouseover":return ti=xs(ti,t,e,n,i,s),!0;case"pointerover":var o=s.pointerId;return oo.set(o,xs(oo.get(o)||null,t,e,n,i,s)),!0;case"gotpointercapture":return o=s.pointerId,ao.set(o,xs(ao.get(o)||null,t,e,n,i,s)),!0}return!1}function mv(t){var e=Oi(t.target);if(e!==null){var n=Xi(e);if(n!==null){if(e=n.tag,e===13){if(e=iv(n),e!==null){t.blockedOn=e,pv(t.priority,function(){dv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fa(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=nh(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var i=new n.constructor(n.type,n);qc=i,n.target.dispatchEvent(i),qc=null}else return e=Do(n),e!==null&&gd(e),t.blockedOn=n,!1;e.shift()}return!0}function _m(t,e,n){Fa(t)&&n.delete(e)}function zT(){th=!1,Jn!==null&&Fa(Jn)&&(Jn=null),ei!==null&&Fa(ei)&&(ei=null),ti!==null&&Fa(ti)&&(ti=null),oo.forEach(_m),ao.forEach(_m)}function ks(t,e){t.blockedOn===e&&(t.blockedOn=null,th||(th=!0,Nt.unstable_scheduleCallback(Nt.unstable_NormalPriority,zT)))}function lo(t){function e(s){return ks(s,t)}if(0<wa.length){ks(wa[0],t);for(var n=1;n<wa.length;n++){var i=wa[n];i.blockedOn===t&&(i.blockedOn=null)}}for(Jn!==null&&ks(Jn,t),ei!==null&&ks(ei,t),ti!==null&&ks(ti,t),oo.forEach(e),ao.forEach(e),n=0;n<Yn.length;n++)i=Yn[n],i.blockedOn===t&&(i.blockedOn=null);for(;0<Yn.length&&(n=Yn[0],n.blockedOn===null);)mv(n),n.blockedOn===null&&Yn.shift()}var Dr=Dn.ReactCurrentBatchConfig,el=!0;function FT(t,e,n,i){var s=pe,o=Dr.transition;Dr.transition=null;try{pe=1,vd(t,e,n,i)}finally{pe=s,Dr.transition=o}}function BT(t,e,n,i){var s=pe,o=Dr.transition;Dr.transition=null;try{pe=4,vd(t,e,n,i)}finally{pe=s,Dr.transition=o}}function vd(t,e,n,i){if(el){var s=nh(t,e,n,i);if(s===null)sc(t,e,i,tl,n),mm(t,i);else if(DT(s,t,e,n,i))i.stopPropagation();else if(mm(t,i),e&4&&-1<bT.indexOf(t)){for(;s!==null;){var o=Do(s);if(o!==null&&hv(o),o=nh(t,e,n,i),o===null&&sc(t,e,i,tl,n),o===s)break;s=o}s!==null&&i.stopPropagation()}else sc(t,e,i,null,n)}}var tl=null;function nh(t,e,n,i){if(tl=null,t=pd(i),t=Oi(t),t!==null)if(e=Xi(t),e===null)t=null;else if(n=e.tag,n===13){if(t=iv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return tl=t,null}function _v(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kT()){case md:return 1;case av:return 4;case Xa:case IT:return 16;case lv:return 536870912;default:return 16}default:return 16}}var Qn=null,yd=null,Ba=null;function gv(){if(Ba)return Ba;var t,e=yd,n=e.length,i,s="value"in Qn?Qn.value:Qn.textContent,o=s.length;for(t=0;t<n&&e[t]===s[t];t++);var l=n-t;for(i=1;i<=l&&e[n-i]===s[o-i];i++);return Ba=s.slice(t,1<i?1-i:void 0)}function Ua(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ea(){return!0}function gm(){return!1}function Rt(t){function e(n,i,s,o,l){this._reactName=n,this._targetInst=s,this.type=i,this.nativeEvent=o,this.target=l,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ea:gm,this.isPropagationStopped=gm,this}return Re(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ea)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ea)},persist:function(){},isPersistent:Ea}),e}var is={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wd=Rt(is),bo=Re({},is,{view:0,detail:0}),UT=Rt(bo),qu,Qu,Is,Vl=Re({},bo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ed,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Is&&(Is&&t.type==="mousemove"?(qu=t.screenX-Is.screenX,Qu=t.screenY-Is.screenY):Qu=qu=0,Is=t),qu)},movementY:function(t){return"movementY"in t?t.movementY:Qu}}),vm=Rt(Vl),HT=Re({},Vl,{dataTransfer:0}),jT=Rt(HT),WT=Re({},bo,{relatedTarget:0}),Xu=Rt(WT),VT=Re({},is,{animationName:0,elapsedTime:0,pseudoElement:0}),ZT=Rt(VT),$T=Re({},is,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GT=Rt($T),KT=Re({},is,{data:0}),ym=Rt(KT),YT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XT(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QT[t])?!!e[t]:!1}function Ed(){return XT}var JT=Re({},bo,{key:function(t){if(t.key){var e=YT[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ua(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?qT[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ed,charCode:function(t){return t.type==="keypress"?Ua(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ua(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eS=Rt(JT),tS=Re({},Vl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wm=Rt(tS),nS=Re({},bo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ed}),iS=Rt(nS),rS=Re({},is,{propertyName:0,elapsedTime:0,pseudoElement:0}),sS=Rt(rS),oS=Re({},Vl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aS=Rt(oS),lS=[9,13,27,32],Cd=Rn&&"CompositionEvent"in window,Vs=null;Rn&&"documentMode"in document&&(Vs=document.documentMode);var uS=Rn&&"TextEvent"in window&&!Vs,vv=Rn&&(!Cd||Vs&&8<Vs&&11>=Vs),Em=" ",Cm=!1;function yv(t,e){switch(t){case"keyup":return lS.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function wv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wr=!1;function cS(t,e){switch(t){case"compositionend":return wv(e);case"keypress":return e.which!==32?null:(Cm=!0,Em);case"textInput":return t=e.data,t===Em&&Cm?null:t;default:return null}}function hS(t,e){if(wr)return t==="compositionend"||!Cd&&yv(t,e)?(t=gv(),Ba=yd=Qn=null,wr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return vv&&e.locale!=="ko"?null:e.data;default:return null}}var dS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!dS[t.type]:e==="textarea"}function Ev(t,e,n,i){Xg(i),e=nl(e,"onChange"),0<e.length&&(n=new wd("onChange","change",null,n,i),t.push({event:n,listeners:e}))}var Zs=null,uo=null;function fS(t){Ov(t,0)}function Zl(t){var e=Tr(t);if(Zg(e))return t}function pS(t,e){if(t==="change")return e}var Cv=!1;if(Rn){var Ju;if(Rn){var ec="oninput"in document;if(!ec){var Sm=document.createElement("div");Sm.setAttribute("oninput","return;"),ec=typeof Sm.oninput=="function"}Ju=ec}else Ju=!1;Cv=Ju&&(!document.documentMode||9<document.documentMode)}function xm(){Zs&&(Zs.detachEvent("onpropertychange",Tv),uo=Zs=null)}function Tv(t){if(t.propertyName==="value"&&Zl(uo)){var e=[];Ev(e,uo,t,pd(t)),nv(fS,e)}}function mS(t,e,n){t==="focusin"?(xm(),Zs=e,uo=n,Zs.attachEvent("onpropertychange",Tv)):t==="focusout"&&xm()}function _S(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zl(uo)}function gS(t,e){if(t==="click")return Zl(e)}function vS(t,e){if(t==="input"||t==="change")return Zl(e)}function yS(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var tn=typeof Object.is=="function"?Object.is:yS;function co(t,e){if(tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var s=n[i];if(!Fc.call(e,s)||!tn(t[s],e[s]))return!1}return!0}function km(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Im(t,e){var n=km(t);t=0;for(var i;n;){if(n.nodeType===3){if(i=t+n.textContent.length,t<=e&&i>=e)return{node:n,offset:e-t};t=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=km(n)}}function Sv(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Sv(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function xv(){for(var t=window,e=Ya();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Ya(t.document)}return e}function Td(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wS(t){var e=xv(),n=t.focusedElem,i=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Sv(n.ownerDocument.documentElement,n)){if(i!==null&&Td(n)){if(e=i.start,t=i.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,o=Math.min(i.start,s);i=i.end===void 0?o:Math.min(i.end,s),!t.extend&&o>i&&(s=i,i=o,o=s),s=Im(n,o);var l=Im(n,i);s&&l&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==l.node||t.focusOffset!==l.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),o>i?(t.addRange(e),t.extend(l.node,l.offset)):(e.setEnd(l.node,l.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ES=Rn&&"documentMode"in document&&11>=document.documentMode,Er=null,ih=null,$s=null,rh=!1;function Pm(t,e,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rh||Er==null||Er!==Ya(i)||(i=Er,"selectionStart"in i&&Td(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),$s&&co($s,i)||($s=i,i=nl(ih,"onSelect"),0<i.length&&(e=new wd("onSelect","select",null,e,n),t.push({event:e,listeners:i}),e.target=Er)))}function Ca(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Cr={animationend:Ca("Animation","AnimationEnd"),animationiteration:Ca("Animation","AnimationIteration"),animationstart:Ca("Animation","AnimationStart"),transitionend:Ca("Transition","TransitionEnd")},tc={},kv={};Rn&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function $l(t){if(tc[t])return tc[t];if(!Cr[t])return t;var e=Cr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in kv)return tc[t]=e[n];return t}var Iv=$l("animationend"),Pv=$l("animationiteration"),Nv=$l("animationstart"),Lv=$l("transitionend"),Rv=new Map,Nm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mi(t,e){Rv.set(t,e),Qi(e,[t])}for(var nc=0;nc<Nm.length;nc++){var ic=Nm[nc],CS=ic.toLowerCase(),TS=ic[0].toUpperCase()+ic.slice(1);mi(CS,"on"+TS)}mi(Iv,"onAnimationEnd");mi(Pv,"onAnimationIteration");mi(Nv,"onAnimationStart");mi("dblclick","onDoubleClick");mi("focusin","onFocus");mi("focusout","onBlur");mi(Lv,"onTransitionEnd");Zr("onMouseEnter",["mouseout","mouseover"]);Zr("onMouseLeave",["mouseout","mouseover"]);Zr("onPointerEnter",["pointerout","pointerover"]);Zr("onPointerLeave",["pointerout","pointerover"]);Qi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Qi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Qi("onBeforeInput",["compositionend","keypress","textInput","paste"]);Qi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Qi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),SS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Us));function Lm(t,e,n){var i=t.type||"unknown-event";t.currentTarget=n,CT(i,e,void 0,t),t.currentTarget=null}function Ov(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var i=t[n],s=i.event;i=i.listeners;e:{var o=void 0;if(e)for(var l=i.length-1;0<=l;l--){var c=i[l],d=c.instance,p=c.currentTarget;if(c=c.listener,d!==o&&s.isPropagationStopped())break e;Lm(s,c,p),o=d}else for(l=0;l<i.length;l++){if(c=i[l],d=c.instance,p=c.currentTarget,c=c.listener,d!==o&&s.isPropagationStopped())break e;Lm(s,c,p),o=d}}}if(Qa)throw t=Jc,Qa=!1,Jc=null,t}function Ce(t,e){var n=e[uh];n===void 0&&(n=e[uh]=new Set);var i=t+"__bubble";n.has(i)||(Av(e,t,2,!1),n.add(i))}function rc(t,e,n){var i=0;e&&(i|=4),Av(n,t,i,e)}var Ta="_reactListening"+Math.random().toString(36).slice(2);function ho(t){if(!t[Ta]){t[Ta]=!0,Ug.forEach(function(n){n!=="selectionchange"&&(SS.has(n)||rc(n,!1,t),rc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Ta]||(e[Ta]=!0,rc("selectionchange",!1,e))}}function Av(t,e,n,i){switch(_v(e)){case 1:var s=FT;break;case 4:s=BT;break;default:s=vd}n=s.bind(null,e,n,t),s=void 0,!Xc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),i?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function sc(t,e,n,i,s){var o=i;if(!(e&1)&&!(e&2)&&i!==null)e:for(;;){if(i===null)return;var l=i.tag;if(l===3||l===4){var c=i.stateNode.containerInfo;if(c===s||c.nodeType===8&&c.parentNode===s)break;if(l===4)for(l=i.return;l!==null;){var d=l.tag;if((d===3||d===4)&&(d=l.stateNode.containerInfo,d===s||d.nodeType===8&&d.parentNode===s))return;l=l.return}for(;c!==null;){if(l=Oi(c),l===null)return;if(d=l.tag,d===5||d===6){i=o=l;continue e}c=c.parentNode}}i=i.return}nv(function(){var p=o,g=pd(n),_=[];e:{var v=Rv.get(t);if(v!==void 0){var T=wd,S=t;switch(t){case"keypress":if(Ua(n)===0)break e;case"keydown":case"keyup":T=eS;break;case"focusin":S="focus",T=Xu;break;case"focusout":S="blur",T=Xu;break;case"beforeblur":case"afterblur":T=Xu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=vm;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=jT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=iS;break;case Iv:case Pv:case Nv:T=ZT;break;case Lv:T=sS;break;case"scroll":T=UT;break;case"wheel":T=aS;break;case"copy":case"cut":case"paste":T=GT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=wm}var k=(e&4)!==0,D=!k&&t==="scroll",E=k?v!==null?v+"Capture":null:v;k=[];for(var w=p,C;w!==null;){C=w;var R=C.stateNode;if(C.tag===5&&R!==null&&(C=R,E!==null&&(R=so(w,E),R!=null&&k.push(fo(w,R,C)))),D)break;w=w.return}0<k.length&&(v=new T(v,S,null,n,g),_.push({event:v,listeners:k}))}}if(!(e&7)){e:{if(v=t==="mouseover"||t==="pointerover",T=t==="mouseout"||t==="pointerout",v&&n!==qc&&(S=n.relatedTarget||n.fromElement)&&(Oi(S)||S[On]))break e;if((T||v)&&(v=g.window===g?g:(v=g.ownerDocument)?v.defaultView||v.parentWindow:window,T?(S=n.relatedTarget||n.toElement,T=p,S=S?Oi(S):null,S!==null&&(D=Xi(S),S!==D||S.tag!==5&&S.tag!==6)&&(S=null)):(T=null,S=p),T!==S)){if(k=vm,R="onMouseLeave",E="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(k=wm,R="onPointerLeave",E="onPointerEnter",w="pointer"),D=T==null?v:Tr(T),C=S==null?v:Tr(S),v=new k(R,w+"leave",T,n,g),v.target=D,v.relatedTarget=C,R=null,Oi(g)===p&&(k=new k(E,w+"enter",S,n,g),k.target=C,k.relatedTarget=D,R=k),D=R,T&&S)t:{for(k=T,E=S,w=0,C=k;C;C=dr(C))w++;for(C=0,R=E;R;R=dr(R))C++;for(;0<w-C;)k=dr(k),w--;for(;0<C-w;)E=dr(E),C--;for(;w--;){if(k===E||E!==null&&k===E.alternate)break t;k=dr(k),E=dr(E)}k=null}else k=null;T!==null&&Rm(_,v,T,k,!1),S!==null&&D!==null&&Rm(_,D,S,k,!0)}}e:{if(v=p?Tr(p):window,T=v.nodeName&&v.nodeName.toLowerCase(),T==="select"||T==="input"&&v.type==="file")var z=pS;else if(Tm(v))if(Cv)z=vS;else{z=_S;var A=mS}else(T=v.nodeName)&&T.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&(z=gS);if(z&&(z=z(t,p))){Ev(_,z,n,g);break e}A&&A(t,v,p),t==="focusout"&&(A=v._wrapperState)&&A.controlled&&v.type==="number"&&Zc(v,"number",v.value)}switch(A=p?Tr(p):window,t){case"focusin":(Tm(A)||A.contentEditable==="true")&&(Er=A,ih=p,$s=null);break;case"focusout":$s=ih=Er=null;break;case"mousedown":rh=!0;break;case"contextmenu":case"mouseup":case"dragend":rh=!1,Pm(_,n,g);break;case"selectionchange":if(ES)break;case"keydown":case"keyup":Pm(_,n,g)}var U;if(Cd)e:{switch(t){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else wr?yv(t,n)&&(j="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(j="onCompositionStart");j&&(vv&&n.locale!=="ko"&&(wr||j!=="onCompositionStart"?j==="onCompositionEnd"&&wr&&(U=gv()):(Qn=g,yd="value"in Qn?Qn.value:Qn.textContent,wr=!0)),A=nl(p,j),0<A.length&&(j=new ym(j,t,null,n,g),_.push({event:j,listeners:A}),U?j.data=U:(U=wv(n),U!==null&&(j.data=U)))),(U=uS?cS(t,n):hS(t,n))&&(p=nl(p,"onBeforeInput"),0<p.length&&(g=new ym("onBeforeInput","beforeinput",null,n,g),_.push({event:g,listeners:p}),g.data=U))}Ov(_,e)})}function fo(t,e,n){return{instance:t,listener:e,currentTarget:n}}function nl(t,e){for(var n=e+"Capture",i=[];t!==null;){var s=t,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=so(t,n),o!=null&&i.unshift(fo(t,o,s)),o=so(t,e),o!=null&&i.push(fo(t,o,s))),t=t.return}return i}function dr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Rm(t,e,n,i,s){for(var o=e._reactName,l=[];n!==null&&n!==i;){var c=n,d=c.alternate,p=c.stateNode;if(d!==null&&d===i)break;c.tag===5&&p!==null&&(c=p,s?(d=so(n,o),d!=null&&l.unshift(fo(n,d,c))):s||(d=so(n,o),d!=null&&l.push(fo(n,d,c)))),n=n.return}l.length!==0&&t.push({event:e,listeners:l})}var xS=/\r\n?/g,kS=/\u0000|\uFFFD/g;function Om(t){return(typeof t=="string"?t:""+t).replace(xS,`
`).replace(kS,"")}function Sa(t,e,n){if(e=Om(e),Om(t)!==e&&n)throw Error(M(425))}function il(){}var sh=null,oh=null;function ah(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var lh=typeof setTimeout=="function"?setTimeout:void 0,IS=typeof clearTimeout=="function"?clearTimeout:void 0,Am=typeof Promise=="function"?Promise:void 0,PS=typeof queueMicrotask=="function"?queueMicrotask:typeof Am<"u"?function(t){return Am.resolve(null).then(t).catch(NS)}:lh;function NS(t){setTimeout(function(){throw t})}function oc(t,e){var n=e,i=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(i===0){t.removeChild(s),lo(e);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=s}while(n);lo(e)}function ni(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Mm(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var rs=Math.random().toString(36).slice(2),cn="__reactFiber$"+rs,po="__reactProps$"+rs,On="__reactContainer$"+rs,uh="__reactEvents$"+rs,LS="__reactListeners$"+rs,RS="__reactHandles$"+rs;function Oi(t){var e=t[cn];if(e)return e;for(var n=t.parentNode;n;){if(e=n[On]||n[cn]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Mm(t);t!==null;){if(n=t[cn])return n;t=Mm(t)}return e}t=n,n=t.parentNode}return null}function Do(t){return t=t[cn]||t[On],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Tr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(M(33))}function Gl(t){return t[po]||null}var ch=[],Sr=-1;function _i(t){return{current:t}}function Se(t){0>Sr||(t.current=ch[Sr],ch[Sr]=null,Sr--)}function Ee(t,e){Sr++,ch[Sr]=t.current,t.current=e}var hi={},lt=_i(hi),yt=_i(!1),Ui=hi;function $r(t,e){var n=t.type.contextTypes;if(!n)return hi;var i=t.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===e)return i.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=e[o];return i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function wt(t){return t=t.childContextTypes,t!=null}function rl(){Se(yt),Se(lt)}function bm(t,e,n){if(lt.current!==hi)throw Error(M(168));Ee(lt,e),Ee(yt,n)}function Mv(t,e,n){var i=t.stateNode;if(e=e.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var s in i)if(!(s in e))throw Error(M(108,mT(t)||"Unknown",s));return Re({},n,i)}function sl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hi,Ui=lt.current,Ee(lt,t),Ee(yt,yt.current),!0}function Dm(t,e,n){var i=t.stateNode;if(!i)throw Error(M(169));n?(t=Mv(t,e,Ui),i.__reactInternalMemoizedMergedChildContext=t,Se(yt),Se(lt),Ee(lt,t)):Se(yt),Ee(yt,n)}var Tn=null,Kl=!1,ac=!1;function bv(t){Tn===null?Tn=[t]:Tn.push(t)}function OS(t){Kl=!0,bv(t)}function gi(){if(!ac&&Tn!==null){ac=!0;var t=0,e=pe;try{var n=Tn;for(pe=1;t<n.length;t++){var i=n[t];do i=i(!0);while(i!==null)}Tn=null,Kl=!1}catch(s){throw Tn!==null&&(Tn=Tn.slice(t+1)),ov(md,gi),s}finally{pe=e,ac=!1}}return null}var xr=[],kr=0,ol=null,al=0,bt=[],Dt=0,Hi=null,xn=1,kn="";function Pi(t,e){xr[kr++]=al,xr[kr++]=ol,ol=t,al=e}function Dv(t,e,n){bt[Dt++]=xn,bt[Dt++]=kn,bt[Dt++]=Hi,Hi=t;var i=xn;t=kn;var s=32-Xt(i)-1;i&=~(1<<s),n+=1;var o=32-Xt(e)+s;if(30<o){var l=s-s%5;o=(i&(1<<l)-1).toString(32),i>>=l,s-=l,xn=1<<32-Xt(e)+s|n<<s|i,kn=o+t}else xn=1<<o|n<<s|i,kn=t}function Sd(t){t.return!==null&&(Pi(t,1),Dv(t,1,0))}function xd(t){for(;t===ol;)ol=xr[--kr],xr[kr]=null,al=xr[--kr],xr[kr]=null;for(;t===Hi;)Hi=bt[--Dt],bt[Dt]=null,kn=bt[--Dt],bt[Dt]=null,xn=bt[--Dt],bt[Dt]=null}var It=null,kt=null,Ie=!1,$t=null;function zv(t,e){var n=zt(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function zm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,It=t,kt=ni(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,It=t,kt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hi!==null?{id:xn,overflow:kn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=zt(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,It=t,kt=null,!0):!1;default:return!1}}function hh(t){return(t.mode&1)!==0&&(t.flags&128)===0}function dh(t){if(Ie){var e=kt;if(e){var n=e;if(!zm(t,e)){if(hh(t))throw Error(M(418));e=ni(n.nextSibling);var i=It;e&&zm(t,e)?zv(i,n):(t.flags=t.flags&-4097|2,Ie=!1,It=t)}}else{if(hh(t))throw Error(M(418));t.flags=t.flags&-4097|2,Ie=!1,It=t}}}function Fm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;It=t}function xa(t){if(t!==It)return!1;if(!Ie)return Fm(t),Ie=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ah(t.type,t.memoizedProps)),e&&(e=kt)){if(hh(t))throw Fv(),Error(M(418));for(;e;)zv(t,e),e=ni(e.nextSibling)}if(Fm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(M(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){kt=ni(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}kt=null}}else kt=It?ni(t.stateNode.nextSibling):null;return!0}function Fv(){for(var t=kt;t;)t=ni(t.nextSibling)}function Gr(){kt=It=null,Ie=!1}function kd(t){$t===null?$t=[t]:$t.push(t)}var AS=Dn.ReactCurrentBatchConfig;function Vt(t,e){if(t&&t.defaultProps){e=Re({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var ll=_i(null),ul=null,Ir=null,Id=null;function Pd(){Id=Ir=ul=null}function Nd(t){var e=ll.current;Se(ll),t._currentValue=e}function fh(t,e,n){for(;t!==null;){var i=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,i!==null&&(i.childLanes|=e)):i!==null&&(i.childLanes&e)!==e&&(i.childLanes|=e),t===n)break;t=t.return}}function zr(t,e){ul=t,Id=Ir=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(_t=!0),t.firstContext=null)}function Bt(t){var e=t._currentValue;if(Id!==t)if(t={context:t,memoizedValue:e,next:null},Ir===null){if(ul===null)throw Error(M(308));Ir=t,ul.dependencies={lanes:0,firstContext:t}}else Ir=Ir.next=t;return e}var Ai=null;function Ld(t){Ai===null?Ai=[t]:Ai.push(t)}function Bv(t,e,n,i){var s=e.interleaved;return s===null?(n.next=n,Ld(e)):(n.next=s.next,s.next=n),e.interleaved=n,An(t,i)}function An(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Gn=!1;function Rd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Uv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Pn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ii(t,e,n){var i=t.updateQueue;if(i===null)return null;if(i=i.shared,ue&2){var s=i.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),i.pending=e,An(t,n)}return s=i.interleaved,s===null?(e.next=e,Ld(i)):(e.next=s.next,s.next=e),i.interleaved=e,An(t,n)}function Ha(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_d(t,n)}}function Bm(t,e){var n=t.updateQueue,i=t.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=l:o=o.next=l,n=n.next}while(n!==null);o===null?s=o=e:o=o.next=e}else s=o=e;n={baseState:i.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:i.shared,effects:i.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function cl(t,e,n,i){var s=t.updateQueue;Gn=!1;var o=s.firstBaseUpdate,l=s.lastBaseUpdate,c=s.shared.pending;if(c!==null){s.shared.pending=null;var d=c,p=d.next;d.next=null,l===null?o=p:l.next=p,l=d;var g=t.alternate;g!==null&&(g=g.updateQueue,c=g.lastBaseUpdate,c!==l&&(c===null?g.firstBaseUpdate=p:c.next=p,g.lastBaseUpdate=d))}if(o!==null){var _=s.baseState;l=0,g=p=d=null,c=o;do{var v=c.lane,T=c.eventTime;if((i&v)===v){g!==null&&(g=g.next={eventTime:T,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var S=t,k=c;switch(v=e,T=n,k.tag){case 1:if(S=k.payload,typeof S=="function"){_=S.call(T,_,v);break e}_=S;break e;case 3:S.flags=S.flags&-65537|128;case 0:if(S=k.payload,v=typeof S=="function"?S.call(T,_,v):S,v==null)break e;_=Re({},_,v);break e;case 2:Gn=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,v=s.effects,v===null?s.effects=[c]:v.push(c))}else T={eventTime:T,lane:v,tag:c.tag,payload:c.payload,callback:c.callback,next:null},g===null?(p=g=T,d=_):g=g.next=T,l|=v;if(c=c.next,c===null){if(c=s.shared.pending,c===null)break;v=c,c=v.next,v.next=null,s.lastBaseUpdate=v,s.shared.pending=null}}while(!0);if(g===null&&(d=_),s.baseState=d,s.firstBaseUpdate=p,s.lastBaseUpdate=g,e=s.shared.interleaved,e!==null){s=e;do l|=s.lane,s=s.next;while(s!==e)}else o===null&&(s.shared.lanes=0);Wi|=l,t.lanes=l,t.memoizedState=_}}function Um(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var i=t[e],s=i.callback;if(s!==null){if(i.callback=null,i=n,typeof s!="function")throw Error(M(191,s));s.call(i)}}}var Hv=new Bg.Component().refs;function ph(t,e,n,i){e=t.memoizedState,n=n(i,e),n=n==null?e:Re({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Yl={isMounted:function(t){return(t=t._reactInternals)?Xi(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var i=ht(),s=si(t),o=Pn(i,s);o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,s),e!==null&&(Jt(e,t,s,i),Ha(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var i=ht(),s=si(t),o=Pn(i,s);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=ii(t,o,s),e!==null&&(Jt(e,t,s,i),Ha(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ht(),i=si(t),s=Pn(n,i);s.tag=2,e!=null&&(s.callback=e),e=ii(t,s,i),e!==null&&(Jt(e,t,i,n),Ha(e,t,i))}};function Hm(t,e,n,i,s,o,l){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(i,o,l):e.prototype&&e.prototype.isPureReactComponent?!co(n,i)||!co(s,o):!0}function jv(t,e,n){var i=!1,s=hi,o=e.contextType;return typeof o=="object"&&o!==null?o=Bt(o):(s=wt(e)?Ui:lt.current,i=e.contextTypes,o=(i=i!=null)?$r(t,s):hi),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Yl,t.stateNode=e,e._reactInternals=t,i&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=o),e}function jm(t,e,n,i){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,i),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,i),e.state!==t&&Yl.enqueueReplaceState(e,e.state,null)}function mh(t,e,n,i){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs=Hv,Rd(t);var o=e.contextType;typeof o=="object"&&o!==null?s.context=Bt(o):(o=wt(e)?Ui:lt.current,s.context=$r(t,o)),s.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(ph(t,e,o,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Yl.enqueueReplaceState(s,s.state,null),cl(t,n,s,i),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function Ps(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(M(309));var i=n.stateNode}if(!i)throw Error(M(147,t));var s=i,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(l){var c=s.refs;c===Hv&&(c=s.refs={}),l===null?delete c[o]:c[o]=l},e._stringRef=o,e)}if(typeof t!="string")throw Error(M(284));if(!n._owner)throw Error(M(290,t))}return t}function ka(t,e){throw t=Object.prototype.toString.call(e),Error(M(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Wm(t){var e=t._init;return e(t._payload)}function Wv(t){function e(E,w){if(t){var C=E.deletions;C===null?(E.deletions=[w],E.flags|=16):C.push(w)}}function n(E,w){if(!t)return null;for(;w!==null;)e(E,w),w=w.sibling;return null}function i(E,w){for(E=new Map;w!==null;)w.key!==null?E.set(w.key,w):E.set(w.index,w),w=w.sibling;return E}function s(E,w){return E=oi(E,w),E.index=0,E.sibling=null,E}function o(E,w,C){return E.index=C,t?(C=E.alternate,C!==null?(C=C.index,C<w?(E.flags|=2,w):C):(E.flags|=2,w)):(E.flags|=1048576,w)}function l(E){return t&&E.alternate===null&&(E.flags|=2),E}function c(E,w,C,R){return w===null||w.tag!==6?(w=pc(C,E.mode,R),w.return=E,w):(w=s(w,C),w.return=E,w)}function d(E,w,C,R){var z=C.type;return z===yr?g(E,w,C.props.children,R,C.key):w!==null&&(w.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$n&&Wm(z)===w.type)?(R=s(w,C.props),R.ref=Ps(E,w,C),R.return=E,R):(R=Ga(C.type,C.key,C.props,null,E.mode,R),R.ref=Ps(E,w,C),R.return=E,R)}function p(E,w,C,R){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=mc(C,E.mode,R),w.return=E,w):(w=s(w,C.children||[]),w.return=E,w)}function g(E,w,C,R,z){return w===null||w.tag!==7?(w=Fi(C,E.mode,R,z),w.return=E,w):(w=s(w,C),w.return=E,w)}function _(E,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=pc(""+w,E.mode,C),w.return=E,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ma:return C=Ga(w.type,w.key,w.props,null,E.mode,C),C.ref=Ps(E,null,w),C.return=E,C;case vr:return w=mc(w,E.mode,C),w.return=E,w;case $n:var R=w._init;return _(E,R(w._payload),C)}if(Fs(w)||Ts(w))return w=Fi(w,E.mode,C,null),w.return=E,w;ka(E,w)}return null}function v(E,w,C,R){var z=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return z!==null?null:c(E,w,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case ma:return C.key===z?d(E,w,C,R):null;case vr:return C.key===z?p(E,w,C,R):null;case $n:return z=C._init,v(E,w,z(C._payload),R)}if(Fs(C)||Ts(C))return z!==null?null:g(E,w,C,R,null);ka(E,C)}return null}function T(E,w,C,R,z){if(typeof R=="string"&&R!==""||typeof R=="number")return E=E.get(C)||null,c(w,E,""+R,z);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case ma:return E=E.get(R.key===null?C:R.key)||null,d(w,E,R,z);case vr:return E=E.get(R.key===null?C:R.key)||null,p(w,E,R,z);case $n:var A=R._init;return T(E,w,C,A(R._payload),z)}if(Fs(R)||Ts(R))return E=E.get(C)||null,g(w,E,R,z,null);ka(w,R)}return null}function S(E,w,C,R){for(var z=null,A=null,U=w,j=w=0,oe=null;U!==null&&j<C.length;j++){U.index>j?(oe=U,U=null):oe=U.sibling;var Q=v(E,U,C[j],R);if(Q===null){U===null&&(U=oe);break}t&&U&&Q.alternate===null&&e(E,U),w=o(Q,w,j),A===null?z=Q:A.sibling=Q,A=Q,U=oe}if(j===C.length)return n(E,U),Ie&&Pi(E,j),z;if(U===null){for(;j<C.length;j++)U=_(E,C[j],R),U!==null&&(w=o(U,w,j),A===null?z=U:A.sibling=U,A=U);return Ie&&Pi(E,j),z}for(U=i(E,U);j<C.length;j++)oe=T(U,E,j,C[j],R),oe!==null&&(t&&oe.alternate!==null&&U.delete(oe.key===null?j:oe.key),w=o(oe,w,j),A===null?z=oe:A.sibling=oe,A=oe);return t&&U.forEach(function(de){return e(E,de)}),Ie&&Pi(E,j),z}function k(E,w,C,R){var z=Ts(C);if(typeof z!="function")throw Error(M(150));if(C=z.call(C),C==null)throw Error(M(151));for(var A=z=null,U=w,j=w=0,oe=null,Q=C.next();U!==null&&!Q.done;j++,Q=C.next()){U.index>j?(oe=U,U=null):oe=U.sibling;var de=v(E,U,Q.value,R);if(de===null){U===null&&(U=oe);break}t&&U&&de.alternate===null&&e(E,U),w=o(de,w,j),A===null?z=de:A.sibling=de,A=de,U=oe}if(Q.done)return n(E,U),Ie&&Pi(E,j),z;if(U===null){for(;!Q.done;j++,Q=C.next())Q=_(E,Q.value,R),Q!==null&&(w=o(Q,w,j),A===null?z=Q:A.sibling=Q,A=Q);return Ie&&Pi(E,j),z}for(U=i(E,U);!Q.done;j++,Q=C.next())Q=T(U,E,j,Q.value,R),Q!==null&&(t&&Q.alternate!==null&&U.delete(Q.key===null?j:Q.key),w=o(Q,w,j),A===null?z=Q:A.sibling=Q,A=Q);return t&&U.forEach(function(Oe){return e(E,Oe)}),Ie&&Pi(E,j),z}function D(E,w,C,R){if(typeof C=="object"&&C!==null&&C.type===yr&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case ma:e:{for(var z=C.key,A=w;A!==null;){if(A.key===z){if(z=C.type,z===yr){if(A.tag===7){n(E,A.sibling),w=s(A,C.props.children),w.return=E,E=w;break e}}else if(A.elementType===z||typeof z=="object"&&z!==null&&z.$$typeof===$n&&Wm(z)===A.type){n(E,A.sibling),w=s(A,C.props),w.ref=Ps(E,A,C),w.return=E,E=w;break e}n(E,A);break}else e(E,A);A=A.sibling}C.type===yr?(w=Fi(C.props.children,E.mode,R,C.key),w.return=E,E=w):(R=Ga(C.type,C.key,C.props,null,E.mode,R),R.ref=Ps(E,w,C),R.return=E,E=R)}return l(E);case vr:e:{for(A=C.key;w!==null;){if(w.key===A)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(E,w.sibling),w=s(w,C.children||[]),w.return=E,E=w;break e}else{n(E,w);break}else e(E,w);w=w.sibling}w=mc(C,E.mode,R),w.return=E,E=w}return l(E);case $n:return A=C._init,D(E,w,A(C._payload),R)}if(Fs(C))return S(E,w,C,R);if(Ts(C))return k(E,w,C,R);ka(E,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(E,w.sibling),w=s(w,C),w.return=E,E=w):(n(E,w),w=pc(C,E.mode,R),w.return=E,E=w),l(E)):n(E,w)}return D}var Kr=Wv(!0),Vv=Wv(!1),zo={},fn=_i(zo),mo=_i(zo),_o=_i(zo);function Mi(t){if(t===zo)throw Error(M(174));return t}function Od(t,e){switch(Ee(_o,e),Ee(mo,t),Ee(fn,zo),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Gc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Gc(e,t)}Se(fn),Ee(fn,e)}function Yr(){Se(fn),Se(mo),Se(_o)}function Zv(t){Mi(_o.current);var e=Mi(fn.current),n=Gc(e,t.type);e!==n&&(Ee(mo,t),Ee(fn,n))}function Ad(t){mo.current===t&&(Se(fn),Se(mo))}var Ne=_i(0);function hl(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lc=[];function Md(){for(var t=0;t<lc.length;t++)lc[t]._workInProgressVersionPrimary=null;lc.length=0}var ja=Dn.ReactCurrentDispatcher,uc=Dn.ReactCurrentBatchConfig,ji=0,Le=null,He=null,$e=null,dl=!1,Gs=!1,go=0,MS=0;function it(){throw Error(M(321))}function bd(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!tn(t[n],e[n]))return!1;return!0}function Dd(t,e,n,i,s,o){if(ji=o,Le=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ja.current=t===null||t.memoizedState===null?FS:BS,t=n(i,s),Gs){o=0;do{if(Gs=!1,go=0,25<=o)throw Error(M(301));o+=1,$e=He=null,e.updateQueue=null,ja.current=US,t=n(i,s)}while(Gs)}if(ja.current=fl,e=He!==null&&He.next!==null,ji=0,$e=He=Le=null,dl=!1,e)throw Error(M(300));return t}function zd(){var t=go!==0;return go=0,t}function un(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?Le.memoizedState=$e=t:$e=$e.next=t,$e}function Ut(){if(He===null){var t=Le.alternate;t=t!==null?t.memoizedState:null}else t=He.next;var e=$e===null?Le.memoizedState:$e.next;if(e!==null)$e=e,He=t;else{if(t===null)throw Error(M(310));He=t,t={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},$e===null?Le.memoizedState=$e=t:$e=$e.next=t}return $e}function vo(t,e){return typeof e=="function"?e(t):e}function cc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=He,s=i.baseQueue,o=n.pending;if(o!==null){if(s!==null){var l=s.next;s.next=o.next,o.next=l}i.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,i=i.baseState;var c=l=null,d=null,p=o;do{var g=p.lane;if((ji&g)===g)d!==null&&(d=d.next={lane:0,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null}),i=p.hasEagerState?p.eagerState:t(i,p.action);else{var _={lane:g,action:p.action,hasEagerState:p.hasEagerState,eagerState:p.eagerState,next:null};d===null?(c=d=_,l=i):d=d.next=_,Le.lanes|=g,Wi|=g}p=p.next}while(p!==null&&p!==o);d===null?l=i:d.next=c,tn(i,e.memoizedState)||(_t=!0),e.memoizedState=i,e.baseState=l,e.baseQueue=d,n.lastRenderedState=i}if(t=n.interleaved,t!==null){s=t;do o=s.lane,Le.lanes|=o,Wi|=o,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hc(t){var e=Ut(),n=e.queue;if(n===null)throw Error(M(311));n.lastRenderedReducer=t;var i=n.dispatch,s=n.pending,o=e.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do o=t(o,l.action),l=l.next;while(l!==s);tn(o,e.memoizedState)||(_t=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,i]}function $v(){}function Gv(t,e){var n=Le,i=Ut(),s=e(),o=!tn(i.memoizedState,s);if(o&&(i.memoizedState=s,_t=!0),i=i.queue,Fd(qv.bind(null,n,i,t),[t]),i.getSnapshot!==e||o||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,yo(9,Yv.bind(null,n,i,s,e),void 0,null),Ye===null)throw Error(M(349));ji&30||Kv(n,e,s)}return s}function Kv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Yv(t,e,n,i){e.value=n,e.getSnapshot=i,Qv(e)&&Xv(t)}function qv(t,e,n){return n(function(){Qv(e)&&Xv(t)})}function Qv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!tn(t,n)}catch{return!0}}function Xv(t){var e=An(t,1);e!==null&&Jt(e,t,1,-1)}function Vm(t){var e=un();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vo,lastRenderedState:t},e.queue=t,t=t.dispatch=zS.bind(null,Le,t),[e.memoizedState,t]}function yo(t,e,n,i){return t={tag:t,create:e,destroy:n,deps:i,next:null},e=Le.updateQueue,e===null?(e={lastEffect:null,stores:null},Le.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(i=n.next,n.next=t,t.next=i,e.lastEffect=t)),t}function Jv(){return Ut().memoizedState}function Wa(t,e,n,i){var s=un();Le.flags|=t,s.memoizedState=yo(1|e,n,void 0,i===void 0?null:i)}function ql(t,e,n,i){var s=Ut();i=i===void 0?null:i;var o=void 0;if(He!==null){var l=He.memoizedState;if(o=l.destroy,i!==null&&bd(i,l.deps)){s.memoizedState=yo(e,n,o,i);return}}Le.flags|=t,s.memoizedState=yo(1|e,n,o,i)}function Zm(t,e){return Wa(8390656,8,t,e)}function Fd(t,e){return ql(2048,8,t,e)}function ey(t,e){return ql(4,2,t,e)}function ty(t,e){return ql(4,4,t,e)}function ny(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function iy(t,e,n){return n=n!=null?n.concat([t]):null,ql(4,4,ny.bind(null,e,t),n)}function Bd(){}function ry(t,e){var n=Ut();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&bd(e,i[1])?i[0]:(n.memoizedState=[t,e],t)}function sy(t,e){var n=Ut();e=e===void 0?null:e;var i=n.memoizedState;return i!==null&&e!==null&&bd(e,i[1])?i[0]:(t=t(),n.memoizedState=[t,e],t)}function oy(t,e,n){return ji&21?(tn(n,e)||(n=uv(),Le.lanes|=n,Wi|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,_t=!0),t.memoizedState=n)}function bS(t,e){var n=pe;pe=n!==0&&4>n?n:4,t(!0);var i=uc.transition;uc.transition={};try{t(!1),e()}finally{pe=n,uc.transition=i}}function ay(){return Ut().memoizedState}function DS(t,e,n){var i=si(t);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},ly(t))uy(e,n);else if(n=Bv(t,e,n,i),n!==null){var s=ht();Jt(n,t,i,s),cy(n,e,i)}}function zS(t,e,n){var i=si(t),s={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(ly(t))uy(e,s);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var l=e.lastRenderedState,c=o(l,n);if(s.hasEagerState=!0,s.eagerState=c,tn(c,l)){var d=e.interleaved;d===null?(s.next=s,Ld(e)):(s.next=d.next,d.next=s),e.interleaved=s;return}}catch{}finally{}n=Bv(t,e,s,i),n!==null&&(s=ht(),Jt(n,t,i,s),cy(n,e,i))}}function ly(t){var e=t.alternate;return t===Le||e!==null&&e===Le}function uy(t,e){Gs=dl=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function cy(t,e,n){if(n&4194240){var i=e.lanes;i&=t.pendingLanes,n|=i,e.lanes=n,_d(t,n)}}var fl={readContext:Bt,useCallback:it,useContext:it,useEffect:it,useImperativeHandle:it,useInsertionEffect:it,useLayoutEffect:it,useMemo:it,useReducer:it,useRef:it,useState:it,useDebugValue:it,useDeferredValue:it,useTransition:it,useMutableSource:it,useSyncExternalStore:it,useId:it,unstable_isNewReconciler:!1},FS={readContext:Bt,useCallback:function(t,e){return un().memoizedState=[t,e===void 0?null:e],t},useContext:Bt,useEffect:Zm,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Wa(4194308,4,ny.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Wa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Wa(4,2,t,e)},useMemo:function(t,e){var n=un();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var i=un();return e=n!==void 0?n(e):e,i.memoizedState=i.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},i.queue=t,t=t.dispatch=DS.bind(null,Le,t),[i.memoizedState,t]},useRef:function(t){var e=un();return t={current:t},e.memoizedState=t},useState:Vm,useDebugValue:Bd,useDeferredValue:function(t){return un().memoizedState=t},useTransition:function(){var t=Vm(!1),e=t[0];return t=bS.bind(null,t[1]),un().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var i=Le,s=un();if(Ie){if(n===void 0)throw Error(M(407));n=n()}else{if(n=e(),Ye===null)throw Error(M(349));ji&30||Kv(i,e,n)}s.memoizedState=n;var o={value:n,getSnapshot:e};return s.queue=o,Zm(qv.bind(null,i,o,t),[t]),i.flags|=2048,yo(9,Yv.bind(null,i,o,n,e),void 0,null),n},useId:function(){var t=un(),e=Ye.identifierPrefix;if(Ie){var n=kn,i=xn;n=(i&~(1<<32-Xt(i)-1)).toString(32)+n,e=":"+e+"R"+n,n=go++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=MS++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},BS={readContext:Bt,useCallback:ry,useContext:Bt,useEffect:Fd,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:cc,useRef:Jv,useState:function(){return cc(vo)},useDebugValue:Bd,useDeferredValue:function(t){var e=Ut();return oy(e,He.memoizedState,t)},useTransition:function(){var t=cc(vo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:$v,useSyncExternalStore:Gv,useId:ay,unstable_isNewReconciler:!1},US={readContext:Bt,useCallback:ry,useContext:Bt,useEffect:Fd,useImperativeHandle:iy,useInsertionEffect:ey,useLayoutEffect:ty,useMemo:sy,useReducer:hc,useRef:Jv,useState:function(){return hc(vo)},useDebugValue:Bd,useDeferredValue:function(t){var e=Ut();return He===null?e.memoizedState=t:oy(e,He.memoizedState,t)},useTransition:function(){var t=hc(vo)[0],e=Ut().memoizedState;return[t,e]},useMutableSource:$v,useSyncExternalStore:Gv,useId:ay,unstable_isNewReconciler:!1};function qr(t,e){try{var n="",i=e;do n+=pT(i),i=i.return;while(i);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:s,digest:null}}function dc(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function _h(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var HS=typeof WeakMap=="function"?WeakMap:Map;function hy(t,e,n){n=Pn(-1,n),n.tag=3,n.payload={element:null};var i=e.value;return n.callback=function(){ml||(ml=!0,kh=i),_h(t,e)},n}function dy(t,e,n){n=Pn(-1,n),n.tag=3;var i=t.type.getDerivedStateFromError;if(typeof i=="function"){var s=e.value;n.payload=function(){return i(s)},n.callback=function(){_h(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){_h(t,e),typeof i!="function"&&(ri===null?ri=new Set([this]):ri.add(this));var l=e.stack;this.componentDidCatch(e.value,{componentStack:l!==null?l:""})}),n}function $m(t,e,n){var i=t.pingCache;if(i===null){i=t.pingCache=new HS;var s=new Set;i.set(e,s)}else s=i.get(e),s===void 0&&(s=new Set,i.set(e,s));s.has(n)||(s.add(n),t=tx.bind(null,t,e,n),e.then(t,t))}function Gm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Km(t,e,n,i,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Pn(-1,1),e.tag=2,ii(n,e,1))),n.lanes|=1),t)}var jS=Dn.ReactCurrentOwner,_t=!1;function ct(t,e,n,i){e.child=t===null?Vv(e,null,n,i):Kr(e,t.child,n,i)}function Ym(t,e,n,i,s){n=n.render;var o=e.ref;return zr(e,s),i=Dd(t,e,n,i,o,s),n=zd(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(Ie&&n&&Sd(e),e.flags|=1,ct(t,e,i,s),e.child)}function qm(t,e,n,i,s){if(t===null){var o=n.type;return typeof o=="function"&&!Gd(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,fy(t,e,o,i,s)):(t=Ga(n.type,null,i,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&s)){var l=o.memoizedProps;if(n=n.compare,n=n!==null?n:co,n(l,i)&&t.ref===e.ref)return Mn(t,e,s)}return e.flags|=1,t=oi(o,i),t.ref=e.ref,t.return=e,e.child=t}function fy(t,e,n,i,s){if(t!==null){var o=t.memoizedProps;if(co(o,i)&&t.ref===e.ref)if(_t=!1,e.pendingProps=i=o,(t.lanes&s)!==0)t.flags&131072&&(_t=!0);else return e.lanes=t.lanes,Mn(t,e,s)}return gh(t,e,n,i,s)}function py(t,e,n){var i=e.pendingProps,s=i.children,o=t!==null?t.memoizedState:null;if(i.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ee(Nr,St),St|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Ee(Nr,St),St|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=o!==null?o.baseLanes:n,Ee(Nr,St),St|=i}else o!==null?(i=o.baseLanes|n,e.memoizedState=null):i=n,Ee(Nr,St),St|=i;return ct(t,e,s,n),e.child}function my(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function gh(t,e,n,i,s){var o=wt(n)?Ui:lt.current;return o=$r(e,o),zr(e,s),n=Dd(t,e,n,i,o,s),i=zd(),t!==null&&!_t?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,Mn(t,e,s)):(Ie&&i&&Sd(e),e.flags|=1,ct(t,e,n,s),e.child)}function Qm(t,e,n,i,s){if(wt(n)){var o=!0;sl(e)}else o=!1;if(zr(e,s),e.stateNode===null)Va(t,e),jv(e,n,i),mh(e,n,i,s),i=!0;else if(t===null){var l=e.stateNode,c=e.memoizedProps;l.props=c;var d=l.context,p=n.contextType;typeof p=="object"&&p!==null?p=Bt(p):(p=wt(n)?Ui:lt.current,p=$r(e,p));var g=n.getDerivedStateFromProps,_=typeof g=="function"||typeof l.getSnapshotBeforeUpdate=="function";_||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==i||d!==p)&&jm(e,l,i,p),Gn=!1;var v=e.memoizedState;l.state=v,cl(e,i,l,s),d=e.memoizedState,c!==i||v!==d||yt.current||Gn?(typeof g=="function"&&(ph(e,n,g,i),d=e.memoizedState),(c=Gn||Hm(e,n,c,i,v,d,p))?(_||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(e.flags|=4194308)):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=i,e.memoizedState=d),l.props=i,l.state=d,l.context=p,i=c):(typeof l.componentDidMount=="function"&&(e.flags|=4194308),i=!1)}else{l=e.stateNode,Uv(t,e),c=e.memoizedProps,p=e.type===e.elementType?c:Vt(e.type,c),l.props=p,_=e.pendingProps,v=l.context,d=n.contextType,typeof d=="object"&&d!==null?d=Bt(d):(d=wt(n)?Ui:lt.current,d=$r(e,d));var T=n.getDerivedStateFromProps;(g=typeof T=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(c!==_||v!==d)&&jm(e,l,i,d),Gn=!1,v=e.memoizedState,l.state=v,cl(e,i,l,s);var S=e.memoizedState;c!==_||v!==S||yt.current||Gn?(typeof T=="function"&&(ph(e,n,T,i),S=e.memoizedState),(p=Gn||Hm(e,n,p,i,v,S,d)||!1)?(g||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(i,S,d),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(i,S,d)),typeof l.componentDidUpdate=="function"&&(e.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),e.memoizedProps=i,e.memoizedState=S),l.props=i,l.state=S,l.context=d,i=p):(typeof l.componentDidUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&v===t.memoizedState||(e.flags|=1024),i=!1)}return vh(t,e,n,i,o,s)}function vh(t,e,n,i,s,o){my(t,e);var l=(e.flags&128)!==0;if(!i&&!l)return s&&Dm(e,n,!1),Mn(t,e,o);i=e.stateNode,jS.current=e;var c=l&&typeof n.getDerivedStateFromError!="function"?null:i.render();return e.flags|=1,t!==null&&l?(e.child=Kr(e,t.child,null,o),e.child=Kr(e,null,c,o)):ct(t,e,c,o),e.memoizedState=i.state,s&&Dm(e,n,!0),e.child}function _y(t){var e=t.stateNode;e.pendingContext?bm(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bm(t,e.context,!1),Od(t,e.containerInfo)}function Xm(t,e,n,i,s){return Gr(),kd(s),e.flags|=256,ct(t,e,n,i),e.child}var yh={dehydrated:null,treeContext:null,retryLane:0};function wh(t){return{baseLanes:t,cachePool:null,transitions:null}}function gy(t,e,n){var i=e.pendingProps,s=Ne.current,o=!1,l=(e.flags&128)!==0,c;if((c=l)||(c=t!==null&&t.memoizedState===null?!1:(s&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),Ee(Ne,s&1),t===null)return dh(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(l=i.children,t=i.fallback,o?(i=e.mode,o=e.child,l={mode:"hidden",children:l},!(i&1)&&o!==null?(o.childLanes=0,o.pendingProps=l):o=Jl(l,i,0,null),t=Fi(t,i,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=wh(n),e.memoizedState=yh,t):Ud(e,l));if(s=t.memoizedState,s!==null&&(c=s.dehydrated,c!==null))return WS(t,e,l,i,c,s,n);if(o){o=i.fallback,l=e.mode,s=t.child,c=s.sibling;var d={mode:"hidden",children:i.children};return!(l&1)&&e.child!==s?(i=e.child,i.childLanes=0,i.pendingProps=d,e.deletions=null):(i=oi(s,d),i.subtreeFlags=s.subtreeFlags&14680064),c!==null?o=oi(c,o):(o=Fi(o,l,n,null),o.flags|=2),o.return=e,i.return=e,i.sibling=o,e.child=i,i=o,o=e.child,l=t.child.memoizedState,l=l===null?wh(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=t.childLanes&~n,e.memoizedState=yh,i}return o=t.child,t=o.sibling,i=oi(o,{mode:"visible",children:i.children}),!(e.mode&1)&&(i.lanes=n),i.return=e,i.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=i,e.memoizedState=null,i}function Ud(t,e){return e=Jl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ia(t,e,n,i){return i!==null&&kd(i),Kr(e,t.child,null,n),t=Ud(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WS(t,e,n,i,s,o,l){if(n)return e.flags&256?(e.flags&=-257,i=dc(Error(M(422))),Ia(t,e,l,i)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=i.fallback,s=e.mode,i=Jl({mode:"visible",children:i.children},s,0,null),o=Fi(o,s,l,null),o.flags|=2,i.return=e,o.return=e,i.sibling=o,e.child=i,e.mode&1&&Kr(e,t.child,null,l),e.child.memoizedState=wh(l),e.memoizedState=yh,o);if(!(e.mode&1))return Ia(t,e,l,null);if(s.data==="$!"){if(i=s.nextSibling&&s.nextSibling.dataset,i)var c=i.dgst;return i=c,o=Error(M(419)),i=dc(o,i,void 0),Ia(t,e,l,i)}if(c=(l&t.childLanes)!==0,_t||c){if(i=Ye,i!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(i.suspendedLanes|l)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,An(t,s),Jt(i,t,s,-1))}return $d(),i=dc(Error(M(421))),Ia(t,e,l,i)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=nx.bind(null,t),s._reactRetry=e,null):(t=o.treeContext,kt=ni(s.nextSibling),It=e,Ie=!0,$t=null,t!==null&&(bt[Dt++]=xn,bt[Dt++]=kn,bt[Dt++]=Hi,xn=t.id,kn=t.overflow,Hi=e),e=Ud(e,i.children),e.flags|=4096,e)}function Jm(t,e,n){t.lanes|=e;var i=t.alternate;i!==null&&(i.lanes|=e),fh(t.return,e,n)}function fc(t,e,n,i,s){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:s}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=i,o.tail=n,o.tailMode=s)}function vy(t,e,n){var i=e.pendingProps,s=i.revealOrder,o=i.tail;if(ct(t,e,i.children,n),i=Ne.current,i&2)i=i&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Jm(t,n,e);else if(t.tag===19)Jm(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}i&=1}if(Ee(Ne,i),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&hl(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),fc(e,!1,s,n,o);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&hl(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}fc(e,!0,n,null,o);break;case"together":fc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Va(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Mn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wi|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(M(153));if(e.child!==null){for(t=e.child,n=oi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=oi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function VS(t,e,n){switch(e.tag){case 3:_y(e),Gr();break;case 5:Zv(e);break;case 1:wt(e.type)&&sl(e);break;case 4:Od(e,e.stateNode.containerInfo);break;case 10:var i=e.type._context,s=e.memoizedProps.value;Ee(ll,i._currentValue),i._currentValue=s;break;case 13:if(i=e.memoizedState,i!==null)return i.dehydrated!==null?(Ee(Ne,Ne.current&1),e.flags|=128,null):n&e.child.childLanes?gy(t,e,n):(Ee(Ne,Ne.current&1),t=Mn(t,e,n),t!==null?t.sibling:null);Ee(Ne,Ne.current&1);break;case 19:if(i=(n&e.childLanes)!==0,t.flags&128){if(i)return vy(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),Ee(Ne,Ne.current),i)break;return null;case 22:case 23:return e.lanes=0,py(t,e,n)}return Mn(t,e,n)}var yy,Eh,wy,Ey;yy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Eh=function(){};wy=function(t,e,n,i){var s=t.memoizedProps;if(s!==i){t=e.stateNode,Mi(fn.current);var o=null;switch(n){case"input":s=Wc(t,s),i=Wc(t,i),o=[];break;case"select":s=Re({},s,{value:void 0}),i=Re({},i,{value:void 0}),o=[];break;case"textarea":s=$c(t,s),i=$c(t,i),o=[];break;default:typeof s.onClick!="function"&&typeof i.onClick=="function"&&(t.onclick=il)}Kc(n,i);var l;n=null;for(p in s)if(!i.hasOwnProperty(p)&&s.hasOwnProperty(p)&&s[p]!=null)if(p==="style"){var c=s[p];for(l in c)c.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else p!=="dangerouslySetInnerHTML"&&p!=="children"&&p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(io.hasOwnProperty(p)?o||(o=[]):(o=o||[]).push(p,null));for(p in i){var d=i[p];if(c=s!=null?s[p]:void 0,i.hasOwnProperty(p)&&d!==c&&(d!=null||c!=null))if(p==="style")if(c){for(l in c)!c.hasOwnProperty(l)||d&&d.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in d)d.hasOwnProperty(l)&&c[l]!==d[l]&&(n||(n={}),n[l]=d[l])}else n||(o||(o=[]),o.push(p,n)),n=d;else p==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,c=c?c.__html:void 0,d!=null&&c!==d&&(o=o||[]).push(p,d)):p==="children"?typeof d!="string"&&typeof d!="number"||(o=o||[]).push(p,""+d):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&(io.hasOwnProperty(p)?(d!=null&&p==="onScroll"&&Ce("scroll",t),o||c===d||(o=[])):(o=o||[]).push(p,d))}n&&(o=o||[]).push("style",n);var p=o;(e.updateQueue=p)&&(e.flags|=4)}};Ey=function(t,e,n,i){n!==i&&(e.flags|=4)};function Ns(t,e){if(!Ie)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:i.sibling=null}}function rt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,i=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags&14680064,i|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,i|=s.subtreeFlags,i|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=i,t.childLanes=n,e}function ZS(t,e,n){var i=e.pendingProps;switch(xd(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return rt(e),null;case 1:return wt(e.type)&&rl(),rt(e),null;case 3:return i=e.stateNode,Yr(),Se(yt),Se(lt),Md(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(t===null||t.child===null)&&(xa(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,$t!==null&&(Nh($t),$t=null))),Eh(t,e),rt(e),null;case 5:Ad(e);var s=Mi(_o.current);if(n=e.type,t!==null&&e.stateNode!=null)wy(t,e,n,i,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!i){if(e.stateNode===null)throw Error(M(166));return rt(e),null}if(t=Mi(fn.current),xa(e)){i=e.stateNode,n=e.type;var o=e.memoizedProps;switch(i[cn]=e,i[po]=o,t=(e.mode&1)!==0,n){case"dialog":Ce("cancel",i),Ce("close",i);break;case"iframe":case"object":case"embed":Ce("load",i);break;case"video":case"audio":for(s=0;s<Us.length;s++)Ce(Us[s],i);break;case"source":Ce("error",i);break;case"img":case"image":case"link":Ce("error",i),Ce("load",i);break;case"details":Ce("toggle",i);break;case"input":lm(i,o),Ce("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!o.multiple},Ce("invalid",i);break;case"textarea":cm(i,o),Ce("invalid",i)}Kc(n,o),s=null;for(var l in o)if(o.hasOwnProperty(l)){var c=o[l];l==="children"?typeof c=="string"?i.textContent!==c&&(o.suppressHydrationWarning!==!0&&Sa(i.textContent,c,t),s=["children",c]):typeof c=="number"&&i.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Sa(i.textContent,c,t),s=["children",""+c]):io.hasOwnProperty(l)&&c!=null&&l==="onScroll"&&Ce("scroll",i)}switch(n){case"input":_a(i),um(i,o,!0);break;case"textarea":_a(i),hm(i);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(i.onclick=il)}i=s,e.updateQueue=i,i!==null&&(e.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Kg(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=l.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof i.is=="string"?t=l.createElement(n,{is:i.is}):(t=l.createElement(n),n==="select"&&(l=t,i.multiple?l.multiple=!0:i.size&&(l.size=i.size))):t=l.createElementNS(t,n),t[cn]=e,t[po]=i,yy(t,e,!1,!1),e.stateNode=t;e:{switch(l=Yc(n,i),n){case"dialog":Ce("cancel",t),Ce("close",t),s=i;break;case"iframe":case"object":case"embed":Ce("load",t),s=i;break;case"video":case"audio":for(s=0;s<Us.length;s++)Ce(Us[s],t);s=i;break;case"source":Ce("error",t),s=i;break;case"img":case"image":case"link":Ce("error",t),Ce("load",t),s=i;break;case"details":Ce("toggle",t),s=i;break;case"input":lm(t,i),s=Wc(t,i),Ce("invalid",t);break;case"option":s=i;break;case"select":t._wrapperState={wasMultiple:!!i.multiple},s=Re({},i,{value:void 0}),Ce("invalid",t);break;case"textarea":cm(t,i),s=$c(t,i),Ce("invalid",t);break;default:s=i}Kc(n,s),c=s;for(o in c)if(c.hasOwnProperty(o)){var d=c[o];o==="style"?Qg(t,d):o==="dangerouslySetInnerHTML"?(d=d?d.__html:void 0,d!=null&&Yg(t,d)):o==="children"?typeof d=="string"?(n!=="textarea"||d!=="")&&ro(t,d):typeof d=="number"&&ro(t,""+d):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(io.hasOwnProperty(o)?d!=null&&o==="onScroll"&&Ce("scroll",t):d!=null&&cd(t,o,d,l))}switch(n){case"input":_a(t),um(t,i,!1);break;case"textarea":_a(t),hm(t);break;case"option":i.value!=null&&t.setAttribute("value",""+ci(i.value));break;case"select":t.multiple=!!i.multiple,o=i.value,o!=null?Ar(t,!!i.multiple,o,!1):i.defaultValue!=null&&Ar(t,!!i.multiple,i.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=il)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return rt(e),null;case 6:if(t&&e.stateNode!=null)Ey(t,e,t.memoizedProps,i);else{if(typeof i!="string"&&e.stateNode===null)throw Error(M(166));if(n=Mi(_o.current),Mi(fn.current),xa(e)){if(i=e.stateNode,n=e.memoizedProps,i[cn]=e,(o=i.nodeValue!==n)&&(t=It,t!==null))switch(t.tag){case 3:Sa(i.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sa(i.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[cn]=e,e.stateNode=i}return rt(e),null;case 13:if(Se(Ne),i=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ie&&kt!==null&&e.mode&1&&!(e.flags&128))Fv(),Gr(),e.flags|=98560,o=!1;else if(o=xa(e),i!==null&&i.dehydrated!==null){if(t===null){if(!o)throw Error(M(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(M(317));o[cn]=e}else Gr(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;rt(e),o=!1}else $t!==null&&(Nh($t),$t=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(i=i!==null,i!==(t!==null&&t.memoizedState!==null)&&i&&(e.child.flags|=8192,e.mode&1&&(t===null||Ne.current&1?We===0&&(We=3):$d())),e.updateQueue!==null&&(e.flags|=4),rt(e),null);case 4:return Yr(),Eh(t,e),t===null&&ho(e.stateNode.containerInfo),rt(e),null;case 10:return Nd(e.type._context),rt(e),null;case 17:return wt(e.type)&&rl(),rt(e),null;case 19:if(Se(Ne),o=e.memoizedState,o===null)return rt(e),null;if(i=(e.flags&128)!==0,l=o.rendering,l===null)if(i)Ns(o,!1);else{if(We!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(l=hl(t),l!==null){for(e.flags|=128,Ns(o,!1),i=l.updateQueue,i!==null&&(e.updateQueue=i,e.flags|=4),e.subtreeFlags=0,i=n,n=e.child;n!==null;)o=n,t=i,o.flags&=14680066,l=o.alternate,l===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,t=l.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Ee(Ne,Ne.current&1|2),e.child}t=t.sibling}o.tail!==null&&De()>Qr&&(e.flags|=128,i=!0,Ns(o,!1),e.lanes=4194304)}else{if(!i)if(t=hl(l),t!==null){if(e.flags|=128,i=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Ns(o,!0),o.tail===null&&o.tailMode==="hidden"&&!l.alternate&&!Ie)return rt(e),null}else 2*De()-o.renderingStartTime>Qr&&n!==1073741824&&(e.flags|=128,i=!0,Ns(o,!1),e.lanes=4194304);o.isBackwards?(l.sibling=e.child,e.child=l):(n=o.last,n!==null?n.sibling=l:e.child=l,o.last=l)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=De(),e.sibling=null,n=Ne.current,Ee(Ne,i?n&1|2:n&1),e):(rt(e),null);case 22:case 23:return Zd(),i=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==i&&(e.flags|=8192),i&&e.mode&1?St&1073741824&&(rt(e),e.subtreeFlags&6&&(e.flags|=8192)):rt(e),null;case 24:return null;case 25:return null}throw Error(M(156,e.tag))}function $S(t,e){switch(xd(e),e.tag){case 1:return wt(e.type)&&rl(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Yr(),Se(yt),Se(lt),Md(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ad(e),null;case 13:if(Se(Ne),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(M(340));Gr()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Se(Ne),null;case 4:return Yr(),null;case 10:return Nd(e.type._context),null;case 22:case 23:return Zd(),null;case 24:return null;default:return null}}var Pa=!1,st=!1,GS=typeof WeakSet=="function"?WeakSet:Set,W=null;function Pr(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Ae(t,e,i)}else n.current=null}function Ch(t,e,n){try{n()}catch(i){Ae(t,e,i)}}var e_=!1;function KS(t,e){if(sh=el,t=xv(),Td(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var s=i.anchorOffset,o=i.focusNode;i=i.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var l=0,c=-1,d=-1,p=0,g=0,_=t,v=null;t:for(;;){for(var T;_!==n||s!==0&&_.nodeType!==3||(c=l+s),_!==o||i!==0&&_.nodeType!==3||(d=l+i),_.nodeType===3&&(l+=_.nodeValue.length),(T=_.firstChild)!==null;)v=_,_=T;for(;;){if(_===t)break t;if(v===n&&++p===s&&(c=l),v===o&&++g===i&&(d=l),(T=_.nextSibling)!==null)break;_=v,v=_.parentNode}_=T}n=c===-1||d===-1?null:{start:c,end:d}}else n=null}n=n||{start:0,end:0}}else n=null;for(oh={focusedElem:t,selectionRange:n},el=!1,W=e;W!==null;)if(e=W,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,W=t;else for(;W!==null;){e=W;try{var S=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var k=S.memoizedProps,D=S.memoizedState,E=e.stateNode,w=E.getSnapshotBeforeUpdate(e.elementType===e.type?k:Vt(e.type,k),D);E.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=e.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(M(163))}}catch(R){Ae(e,e.return,R)}if(t=e.sibling,t!==null){t.return=e.return,W=t;break}W=e.return}return S=e_,e_=!1,S}function Ks(t,e,n){var i=e.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var s=i=i.next;do{if((s.tag&t)===t){var o=s.destroy;s.destroy=void 0,o!==void 0&&Ch(e,n,o)}s=s.next}while(s!==i)}}function Ql(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var i=n.create;n.destroy=i()}n=n.next}while(n!==e)}}function Th(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Cy(t){var e=t.alternate;e!==null&&(t.alternate=null,Cy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[cn],delete e[po],delete e[uh],delete e[LS],delete e[RS])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Ty(t){return t.tag===5||t.tag===3||t.tag===4}function t_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Ty(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Sh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=il));else if(i!==4&&(t=t.child,t!==null))for(Sh(t,e,n),t=t.sibling;t!==null;)Sh(t,e,n),t=t.sibling}function xh(t,e,n){var i=t.tag;if(i===5||i===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(i!==4&&(t=t.child,t!==null))for(xh(t,e,n),t=t.sibling;t!==null;)xh(t,e,n),t=t.sibling}var Je=null,Zt=!1;function Vn(t,e,n){for(n=n.child;n!==null;)Sy(t,e,n),n=n.sibling}function Sy(t,e,n){if(dn&&typeof dn.onCommitFiberUnmount=="function")try{dn.onCommitFiberUnmount(Wl,n)}catch{}switch(n.tag){case 5:st||Pr(n,e);case 6:var i=Je,s=Zt;Je=null,Vn(t,e,n),Je=i,Zt=s,Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Je.removeChild(n.stateNode));break;case 18:Je!==null&&(Zt?(t=Je,n=n.stateNode,t.nodeType===8?oc(t.parentNode,n):t.nodeType===1&&oc(t,n),lo(t)):oc(Je,n.stateNode));break;case 4:i=Je,s=Zt,Je=n.stateNode.containerInfo,Zt=!0,Vn(t,e,n),Je=i,Zt=s;break;case 0:case 11:case 14:case 15:if(!st&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){s=i=i.next;do{var o=s,l=o.destroy;o=o.tag,l!==void 0&&(o&2||o&4)&&Ch(n,e,l),s=s.next}while(s!==i)}Vn(t,e,n);break;case 1:if(!st&&(Pr(n,e),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(c){Ae(n,e,c)}Vn(t,e,n);break;case 21:Vn(t,e,n);break;case 22:n.mode&1?(st=(i=st)||n.memoizedState!==null,Vn(t,e,n),st=i):Vn(t,e,n);break;default:Vn(t,e,n)}}function n_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GS),e.forEach(function(i){var s=ix.bind(null,t,i);n.has(i)||(n.add(i),i.then(s,s))})}}function Wt(t,e){var n=e.deletions;if(n!==null)for(var i=0;i<n.length;i++){var s=n[i];try{var o=t,l=e,c=l;e:for(;c!==null;){switch(c.tag){case 5:Je=c.stateNode,Zt=!1;break e;case 3:Je=c.stateNode.containerInfo,Zt=!0;break e;case 4:Je=c.stateNode.containerInfo,Zt=!0;break e}c=c.return}if(Je===null)throw Error(M(160));Sy(o,l,s),Je=null,Zt=!1;var d=s.alternate;d!==null&&(d.return=null),s.return=null}catch(p){Ae(s,e,p)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)xy(e,t),e=e.sibling}function xy(t,e){var n=t.alternate,i=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Wt(e,t),ln(t),i&4){try{Ks(3,t,t.return),Ql(3,t)}catch(k){Ae(t,t.return,k)}try{Ks(5,t,t.return)}catch(k){Ae(t,t.return,k)}}break;case 1:Wt(e,t),ln(t),i&512&&n!==null&&Pr(n,n.return);break;case 5:if(Wt(e,t),ln(t),i&512&&n!==null&&Pr(n,n.return),t.flags&32){var s=t.stateNode;try{ro(s,"")}catch(k){Ae(t,t.return,k)}}if(i&4&&(s=t.stateNode,s!=null)){var o=t.memoizedProps,l=n!==null?n.memoizedProps:o,c=t.type,d=t.updateQueue;if(t.updateQueue=null,d!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&$g(s,o),Yc(c,l);var p=Yc(c,o);for(l=0;l<d.length;l+=2){var g=d[l],_=d[l+1];g==="style"?Qg(s,_):g==="dangerouslySetInnerHTML"?Yg(s,_):g==="children"?ro(s,_):cd(s,g,_,p)}switch(c){case"input":Vc(s,o);break;case"textarea":Gg(s,o);break;case"select":var v=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var T=o.value;T!=null?Ar(s,!!o.multiple,T,!1):v!==!!o.multiple&&(o.defaultValue!=null?Ar(s,!!o.multiple,o.defaultValue,!0):Ar(s,!!o.multiple,o.multiple?[]:"",!1))}s[po]=o}catch(k){Ae(t,t.return,k)}}break;case 6:if(Wt(e,t),ln(t),i&4){if(t.stateNode===null)throw Error(M(162));s=t.stateNode,o=t.memoizedProps;try{s.nodeValue=o}catch(k){Ae(t,t.return,k)}}break;case 3:if(Wt(e,t),ln(t),i&4&&n!==null&&n.memoizedState.isDehydrated)try{lo(e.containerInfo)}catch(k){Ae(t,t.return,k)}break;case 4:Wt(e,t),ln(t);break;case 13:Wt(e,t),ln(t),s=t.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(Wd=De())),i&4&&n_(t);break;case 22:if(g=n!==null&&n.memoizedState!==null,t.mode&1?(st=(p=st)||g,Wt(e,t),st=p):Wt(e,t),ln(t),i&8192){if(p=t.memoizedState!==null,(t.stateNode.isHidden=p)&&!g&&t.mode&1)for(W=t,g=t.child;g!==null;){for(_=W=g;W!==null;){switch(v=W,T=v.child,v.tag){case 0:case 11:case 14:case 15:Ks(4,v,v.return);break;case 1:Pr(v,v.return);var S=v.stateNode;if(typeof S.componentWillUnmount=="function"){i=v,n=v.return;try{e=i,S.props=e.memoizedProps,S.state=e.memoizedState,S.componentWillUnmount()}catch(k){Ae(i,n,k)}}break;case 5:Pr(v,v.return);break;case 22:if(v.memoizedState!==null){r_(_);continue}}T!==null?(T.return=v,W=T):r_(_)}g=g.sibling}e:for(g=null,_=t;;){if(_.tag===5){if(g===null){g=_;try{s=_.stateNode,p?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=_.stateNode,d=_.memoizedProps.style,l=d!=null&&d.hasOwnProperty("display")?d.display:null,c.style.display=qg("display",l))}catch(k){Ae(t,t.return,k)}}}else if(_.tag===6){if(g===null)try{_.stateNode.nodeValue=p?"":_.memoizedProps}catch(k){Ae(t,t.return,k)}}else if((_.tag!==22&&_.tag!==23||_.memoizedState===null||_===t)&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===t)break e;for(;_.sibling===null;){if(_.return===null||_.return===t)break e;g===_&&(g=null),_=_.return}g===_&&(g=null),_.sibling.return=_.return,_=_.sibling}}break;case 19:Wt(e,t),ln(t),i&4&&n_(t);break;case 21:break;default:Wt(e,t),ln(t)}}function ln(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Ty(n)){var i=n;break e}n=n.return}throw Error(M(160))}switch(i.tag){case 5:var s=i.stateNode;i.flags&32&&(ro(s,""),i.flags&=-33);var o=t_(t);xh(t,o,s);break;case 3:case 4:var l=i.stateNode.containerInfo,c=t_(t);Sh(t,c,l);break;default:throw Error(M(161))}}catch(d){Ae(t,t.return,d)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function YS(t,e,n){W=t,ky(t)}function ky(t,e,n){for(var i=(t.mode&1)!==0;W!==null;){var s=W,o=s.child;if(s.tag===22&&i){var l=s.memoizedState!==null||Pa;if(!l){var c=s.alternate,d=c!==null&&c.memoizedState!==null||st;c=Pa;var p=st;if(Pa=l,(st=d)&&!p)for(W=s;W!==null;)l=W,d=l.child,l.tag===22&&l.memoizedState!==null?s_(s):d!==null?(d.return=l,W=d):s_(s);for(;o!==null;)W=o,ky(o),o=o.sibling;W=s,Pa=c,st=p}i_(t)}else s.subtreeFlags&8772&&o!==null?(o.return=s,W=o):i_(t)}}function i_(t){for(;W!==null;){var e=W;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:st||Ql(5,e);break;case 1:var i=e.stateNode;if(e.flags&4&&!st)if(n===null)i.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Vt(e.type,n.memoizedProps);i.componentDidUpdate(s,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&Um(e,o,i);break;case 3:var l=e.updateQueue;if(l!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Um(e,l,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var d=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":d.autoFocus&&n.focus();break;case"img":d.src&&(n.src=d.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var p=e.alternate;if(p!==null){var g=p.memoizedState;if(g!==null){var _=g.dehydrated;_!==null&&lo(_)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(M(163))}st||e.flags&512&&Th(e)}catch(v){Ae(e,e.return,v)}}if(e===t){W=null;break}if(n=e.sibling,n!==null){n.return=e.return,W=n;break}W=e.return}}function r_(t){for(;W!==null;){var e=W;if(e===t){W=null;break}var n=e.sibling;if(n!==null){n.return=e.return,W=n;break}W=e.return}}function s_(t){for(;W!==null;){var e=W;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ql(4,e)}catch(d){Ae(e,n,d)}break;case 1:var i=e.stateNode;if(typeof i.componentDidMount=="function"){var s=e.return;try{i.componentDidMount()}catch(d){Ae(e,s,d)}}var o=e.return;try{Th(e)}catch(d){Ae(e,o,d)}break;case 5:var l=e.return;try{Th(e)}catch(d){Ae(e,l,d)}}}catch(d){Ae(e,e.return,d)}if(e===t){W=null;break}var c=e.sibling;if(c!==null){c.return=e.return,W=c;break}W=e.return}}var qS=Math.ceil,pl=Dn.ReactCurrentDispatcher,Hd=Dn.ReactCurrentOwner,Ft=Dn.ReactCurrentBatchConfig,ue=0,Ye=null,Ue=null,et=0,St=0,Nr=_i(0),We=0,wo=null,Wi=0,Xl=0,jd=0,Ys=null,mt=null,Wd=0,Qr=1/0,Cn=null,ml=!1,kh=null,ri=null,Na=!1,Xn=null,_l=0,qs=0,Ih=null,Za=-1,$a=0;function ht(){return ue&6?De():Za!==-1?Za:Za=De()}function si(t){return t.mode&1?ue&2&&et!==0?et&-et:AS.transition!==null?($a===0&&($a=uv()),$a):(t=pe,t!==0||(t=window.event,t=t===void 0?16:_v(t.type)),t):1}function Jt(t,e,n,i){if(50<qs)throw qs=0,Ih=null,Error(M(185));Mo(t,n,i),(!(ue&2)||t!==Ye)&&(t===Ye&&(!(ue&2)&&(Xl|=n),We===4&&qn(t,et)),Et(t,i),n===1&&ue===0&&!(e.mode&1)&&(Qr=De()+500,Kl&&gi()))}function Et(t,e){var n=t.callbackNode;AT(t,e);var i=Ja(t,t===Ye?et:0);if(i===0)n!==null&&pm(n),t.callbackNode=null,t.callbackPriority=0;else if(e=i&-i,t.callbackPriority!==e){if(n!=null&&pm(n),e===1)t.tag===0?OS(o_.bind(null,t)):bv(o_.bind(null,t)),PS(function(){!(ue&6)&&gi()}),n=null;else{switch(cv(i)){case 1:n=md;break;case 4:n=av;break;case 16:n=Xa;break;case 536870912:n=lv;break;default:n=Xa}n=My(n,Iy.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Iy(t,e){if(Za=-1,$a=0,ue&6)throw Error(M(327));var n=t.callbackNode;if(Fr()&&t.callbackNode!==n)return null;var i=Ja(t,t===Ye?et:0);if(i===0)return null;if(i&30||i&t.expiredLanes||e)e=gl(t,i);else{e=i;var s=ue;ue|=2;var o=Ny();(Ye!==t||et!==e)&&(Cn=null,Qr=De()+500,zi(t,e));do try{JS();break}catch(c){Py(t,c)}while(!0);Pd(),pl.current=o,ue=s,Ue!==null?e=0:(Ye=null,et=0,e=We)}if(e!==0){if(e===2&&(s=eh(t),s!==0&&(i=s,e=Ph(t,s))),e===1)throw n=wo,zi(t,0),qn(t,i),Et(t,De()),n;if(e===6)qn(t,i);else{if(s=t.current.alternate,!(i&30)&&!QS(s)&&(e=gl(t,i),e===2&&(o=eh(t),o!==0&&(i=o,e=Ph(t,o))),e===1))throw n=wo,zi(t,0),qn(t,i),Et(t,De()),n;switch(t.finishedWork=s,t.finishedLanes=i,e){case 0:case 1:throw Error(M(345));case 2:Ni(t,mt,Cn);break;case 3:if(qn(t,i),(i&130023424)===i&&(e=Wd+500-De(),10<e)){if(Ja(t,0)!==0)break;if(s=t.suspendedLanes,(s&i)!==i){ht(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=lh(Ni.bind(null,t,mt,Cn),e);break}Ni(t,mt,Cn);break;case 4:if(qn(t,i),(i&4194240)===i)break;for(e=t.eventTimes,s=-1;0<i;){var l=31-Xt(i);o=1<<l,l=e[l],l>s&&(s=l),i&=~o}if(i=s,i=De()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*qS(i/1960))-i,10<i){t.timeoutHandle=lh(Ni.bind(null,t,mt,Cn),i);break}Ni(t,mt,Cn);break;case 5:Ni(t,mt,Cn);break;default:throw Error(M(329))}}}return Et(t,De()),t.callbackNode===n?Iy.bind(null,t):null}function Ph(t,e){var n=Ys;return t.current.memoizedState.isDehydrated&&(zi(t,e).flags|=256),t=gl(t,e),t!==2&&(e=mt,mt=n,e!==null&&Nh(e)),t}function Nh(t){mt===null?mt=t:mt.push.apply(mt,t)}function QS(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var s=n[i],o=s.getSnapshot;s=s.value;try{if(!tn(o(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qn(t,e){for(e&=~jd,e&=~Xl,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Xt(e),i=1<<n;t[n]=-1,e&=~i}}function o_(t){if(ue&6)throw Error(M(327));Fr();var e=Ja(t,0);if(!(e&1))return Et(t,De()),null;var n=gl(t,e);if(t.tag!==0&&n===2){var i=eh(t);i!==0&&(e=i,n=Ph(t,i))}if(n===1)throw n=wo,zi(t,0),qn(t,e),Et(t,De()),n;if(n===6)throw Error(M(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ni(t,mt,Cn),Et(t,De()),null}function Vd(t,e){var n=ue;ue|=1;try{return t(e)}finally{ue=n,ue===0&&(Qr=De()+500,Kl&&gi())}}function Vi(t){Xn!==null&&Xn.tag===0&&!(ue&6)&&Fr();var e=ue;ue|=1;var n=Ft.transition,i=pe;try{if(Ft.transition=null,pe=1,t)return t()}finally{pe=i,Ft.transition=n,ue=e,!(ue&6)&&gi()}}function Zd(){St=Nr.current,Se(Nr)}function zi(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,IS(n)),Ue!==null)for(n=Ue.return;n!==null;){var i=n;switch(xd(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&rl();break;case 3:Yr(),Se(yt),Se(lt),Md();break;case 5:Ad(i);break;case 4:Yr();break;case 13:Se(Ne);break;case 19:Se(Ne);break;case 10:Nd(i.type._context);break;case 22:case 23:Zd()}n=n.return}if(Ye=t,Ue=t=oi(t.current,null),et=St=e,We=0,wo=null,jd=Xl=Wi=0,mt=Ys=null,Ai!==null){for(e=0;e<Ai.length;e++)if(n=Ai[e],i=n.interleaved,i!==null){n.interleaved=null;var s=i.next,o=n.pending;if(o!==null){var l=o.next;o.next=s,i.next=l}n.pending=i}Ai=null}return t}function Py(t,e){do{var n=Ue;try{if(Pd(),ja.current=fl,dl){for(var i=Le.memoizedState;i!==null;){var s=i.queue;s!==null&&(s.pending=null),i=i.next}dl=!1}if(ji=0,$e=He=Le=null,Gs=!1,go=0,Hd.current=null,n===null||n.return===null){We=1,wo=e,Ue=null;break}e:{var o=t,l=n.return,c=n,d=e;if(e=et,c.flags|=32768,d!==null&&typeof d=="object"&&typeof d.then=="function"){var p=d,g=c,_=g.tag;if(!(g.mode&1)&&(_===0||_===11||_===15)){var v=g.alternate;v?(g.updateQueue=v.updateQueue,g.memoizedState=v.memoizedState,g.lanes=v.lanes):(g.updateQueue=null,g.memoizedState=null)}var T=Gm(l);if(T!==null){T.flags&=-257,Km(T,l,c,o,e),T.mode&1&&$m(o,p,e),e=T,d=p;var S=e.updateQueue;if(S===null){var k=new Set;k.add(d),e.updateQueue=k}else S.add(d);break e}else{if(!(e&1)){$m(o,p,e),$d();break e}d=Error(M(426))}}else if(Ie&&c.mode&1){var D=Gm(l);if(D!==null){!(D.flags&65536)&&(D.flags|=256),Km(D,l,c,o,e),kd(qr(d,c));break e}}o=d=qr(d,c),We!==4&&(We=2),Ys===null?Ys=[o]:Ys.push(o),o=l;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var E=hy(o,d,e);Bm(o,E);break e;case 1:c=d;var w=o.type,C=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ri===null||!ri.has(C)))){o.flags|=65536,e&=-e,o.lanes|=e;var R=dy(o,c,e);Bm(o,R);break e}}o=o.return}while(o!==null)}Ry(n)}catch(z){e=z,Ue===n&&n!==null&&(Ue=n=n.return);continue}break}while(!0)}function Ny(){var t=pl.current;return pl.current=fl,t===null?fl:t}function $d(){(We===0||We===3||We===2)&&(We=4),Ye===null||!(Wi&268435455)&&!(Xl&268435455)||qn(Ye,et)}function gl(t,e){var n=ue;ue|=2;var i=Ny();(Ye!==t||et!==e)&&(Cn=null,zi(t,e));do try{XS();break}catch(s){Py(t,s)}while(!0);if(Pd(),ue=n,pl.current=i,Ue!==null)throw Error(M(261));return Ye=null,et=0,We}function XS(){for(;Ue!==null;)Ly(Ue)}function JS(){for(;Ue!==null&&!ST();)Ly(Ue)}function Ly(t){var e=Ay(t.alternate,t,St);t.memoizedProps=t.pendingProps,e===null?Ry(t):Ue=e,Hd.current=null}function Ry(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=$S(n,e),n!==null){n.flags&=32767,Ue=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{We=6,Ue=null;return}}else if(n=ZS(n,e,St),n!==null){Ue=n;return}if(e=e.sibling,e!==null){Ue=e;return}Ue=e=t}while(e!==null);We===0&&(We=5)}function Ni(t,e,n){var i=pe,s=Ft.transition;try{Ft.transition=null,pe=1,ex(t,e,n,i)}finally{Ft.transition=s,pe=i}return null}function ex(t,e,n,i){do Fr();while(Xn!==null);if(ue&6)throw Error(M(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(M(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(MT(t,o),t===Ye&&(Ue=Ye=null,et=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Na||(Na=!0,My(Xa,function(){return Fr(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=Ft.transition,Ft.transition=null;var l=pe;pe=1;var c=ue;ue|=4,Hd.current=null,KS(t,n),xy(n,t),wS(oh),el=!!sh,oh=sh=null,t.current=n,YS(n),xT(),ue=c,pe=l,Ft.transition=o}else t.current=n;if(Na&&(Na=!1,Xn=t,_l=s),o=t.pendingLanes,o===0&&(ri=null),PT(n.stateNode),Et(t,De()),e!==null)for(i=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],i(s.value,{componentStack:s.stack,digest:s.digest});if(ml)throw ml=!1,t=kh,kh=null,t;return _l&1&&t.tag!==0&&Fr(),o=t.pendingLanes,o&1?t===Ih?qs++:(qs=0,Ih=t):qs=0,gi(),null}function Fr(){if(Xn!==null){var t=cv(_l),e=Ft.transition,n=pe;try{if(Ft.transition=null,pe=16>t?16:t,Xn===null)var i=!1;else{if(t=Xn,Xn=null,_l=0,ue&6)throw Error(M(331));var s=ue;for(ue|=4,W=t.current;W!==null;){var o=W,l=o.child;if(W.flags&16){var c=o.deletions;if(c!==null){for(var d=0;d<c.length;d++){var p=c[d];for(W=p;W!==null;){var g=W;switch(g.tag){case 0:case 11:case 15:Ks(8,g,o)}var _=g.child;if(_!==null)_.return=g,W=_;else for(;W!==null;){g=W;var v=g.sibling,T=g.return;if(Cy(g),g===p){W=null;break}if(v!==null){v.return=T,W=v;break}W=T}}}var S=o.alternate;if(S!==null){var k=S.child;if(k!==null){S.child=null;do{var D=k.sibling;k.sibling=null,k=D}while(k!==null)}}W=o}}if(o.subtreeFlags&2064&&l!==null)l.return=o,W=l;else e:for(;W!==null;){if(o=W,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ks(9,o,o.return)}var E=o.sibling;if(E!==null){E.return=o.return,W=E;break e}W=o.return}}var w=t.current;for(W=w;W!==null;){l=W;var C=l.child;if(l.subtreeFlags&2064&&C!==null)C.return=l,W=C;else e:for(l=w;W!==null;){if(c=W,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Ql(9,c)}}catch(z){Ae(c,c.return,z)}if(c===l){W=null;break e}var R=c.sibling;if(R!==null){R.return=c.return,W=R;break e}W=c.return}}if(ue=s,gi(),dn&&typeof dn.onPostCommitFiberRoot=="function")try{dn.onPostCommitFiberRoot(Wl,t)}catch{}i=!0}return i}finally{pe=n,Ft.transition=e}}return!1}function a_(t,e,n){e=qr(n,e),e=hy(t,e,1),t=ii(t,e,1),e=ht(),t!==null&&(Mo(t,1,e),Et(t,e))}function Ae(t,e,n){if(t.tag===3)a_(t,t,n);else for(;e!==null;){if(e.tag===3){a_(e,t,n);break}else if(e.tag===1){var i=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(ri===null||!ri.has(i))){t=qr(n,t),t=dy(e,t,1),e=ii(e,t,1),t=ht(),e!==null&&(Mo(e,1,t),Et(e,t));break}}e=e.return}}function tx(t,e,n){var i=t.pingCache;i!==null&&i.delete(e),e=ht(),t.pingedLanes|=t.suspendedLanes&n,Ye===t&&(et&n)===n&&(We===4||We===3&&(et&130023424)===et&&500>De()-Wd?zi(t,0):jd|=n),Et(t,e)}function Oy(t,e){e===0&&(t.mode&1?(e=ya,ya<<=1,!(ya&130023424)&&(ya=4194304)):e=1);var n=ht();t=An(t,e),t!==null&&(Mo(t,e,n),Et(t,n))}function nx(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Oy(t,n)}function ix(t,e){var n=0;switch(t.tag){case 13:var i=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:i=t.stateNode;break;default:throw Error(M(314))}i!==null&&i.delete(e),Oy(t,n)}var Ay;Ay=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||yt.current)_t=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return _t=!1,VS(t,e,n);_t=!!(t.flags&131072)}else _t=!1,Ie&&e.flags&1048576&&Dv(e,al,e.index);switch(e.lanes=0,e.tag){case 2:var i=e.type;Va(t,e),t=e.pendingProps;var s=$r(e,lt.current);zr(e,n),s=Dd(null,e,i,t,s,n);var o=zd();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,wt(i)?(o=!0,sl(e)):o=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Rd(e),s.updater=Yl,e.stateNode=s,s._reactInternals=e,mh(e,i,t,n),e=vh(null,e,i,!0,o,n)):(e.tag=0,Ie&&o&&Sd(e),ct(null,e,s,n),e=e.child),e;case 16:i=e.elementType;e:{switch(Va(t,e),t=e.pendingProps,s=i._init,i=s(i._payload),e.type=i,s=e.tag=sx(i),t=Vt(i,t),s){case 0:e=gh(null,e,i,t,n);break e;case 1:e=Qm(null,e,i,t,n);break e;case 11:e=Ym(null,e,i,t,n);break e;case 14:e=qm(null,e,i,Vt(i.type,t),n);break e}throw Error(M(306,i,""))}return e;case 0:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vt(i,s),gh(t,e,i,s,n);case 1:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vt(i,s),Qm(t,e,i,s,n);case 3:e:{if(_y(e),t===null)throw Error(M(387));i=e.pendingProps,o=e.memoizedState,s=o.element,Uv(t,e),cl(e,i,null,n);var l=e.memoizedState;if(i=l.element,o.isDehydrated)if(o={element:i,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){s=qr(Error(M(423)),e),e=Xm(t,e,i,n,s);break e}else if(i!==s){s=qr(Error(M(424)),e),e=Xm(t,e,i,n,s);break e}else for(kt=ni(e.stateNode.containerInfo.firstChild),It=e,Ie=!0,$t=null,n=Vv(e,null,i,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gr(),i===s){e=Mn(t,e,n);break e}ct(t,e,i,n)}e=e.child}return e;case 5:return Zv(e),t===null&&dh(e),i=e.type,s=e.pendingProps,o=t!==null?t.memoizedProps:null,l=s.children,ah(i,s)?l=null:o!==null&&ah(i,o)&&(e.flags|=32),my(t,e),ct(t,e,l,n),e.child;case 6:return t===null&&dh(e),null;case 13:return gy(t,e,n);case 4:return Od(e,e.stateNode.containerInfo),i=e.pendingProps,t===null?e.child=Kr(e,null,i,n):ct(t,e,i,n),e.child;case 11:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vt(i,s),Ym(t,e,i,s,n);case 7:return ct(t,e,e.pendingProps,n),e.child;case 8:return ct(t,e,e.pendingProps.children,n),e.child;case 12:return ct(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(i=e.type._context,s=e.pendingProps,o=e.memoizedProps,l=s.value,Ee(ll,i._currentValue),i._currentValue=l,o!==null)if(tn(o.value,l)){if(o.children===s.children&&!yt.current){e=Mn(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){l=o.child;for(var d=c.firstContext;d!==null;){if(d.context===i){if(o.tag===1){d=Pn(-1,n&-n),d.tag=2;var p=o.updateQueue;if(p!==null){p=p.shared;var g=p.pending;g===null?d.next=d:(d.next=g.next,g.next=d),p.pending=d}}o.lanes|=n,d=o.alternate,d!==null&&(d.lanes|=n),fh(o.return,n,e),c.lanes|=n;break}d=d.next}}else if(o.tag===10)l=o.type===e.type?null:o.child;else if(o.tag===18){if(l=o.return,l===null)throw Error(M(341));l.lanes|=n,c=l.alternate,c!==null&&(c.lanes|=n),fh(l,n,e),l=o.sibling}else l=o.child;if(l!==null)l.return=o;else for(l=o;l!==null;){if(l===e){l=null;break}if(o=l.sibling,o!==null){o.return=l.return,l=o;break}l=l.return}o=l}ct(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,i=e.pendingProps.children,zr(e,n),s=Bt(s),i=i(s),e.flags|=1,ct(t,e,i,n),e.child;case 14:return i=e.type,s=Vt(i,e.pendingProps),s=Vt(i.type,s),qm(t,e,i,s,n);case 15:return fy(t,e,e.type,e.pendingProps,n);case 17:return i=e.type,s=e.pendingProps,s=e.elementType===i?s:Vt(i,s),Va(t,e),e.tag=1,wt(i)?(t=!0,sl(e)):t=!1,zr(e,n),jv(e,i,s),mh(e,i,s,n),vh(null,e,i,!0,t,n);case 19:return vy(t,e,n);case 22:return py(t,e,n)}throw Error(M(156,e.tag))};function My(t,e){return ov(t,e)}function rx(t,e,n,i){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zt(t,e,n,i){return new rx(t,e,n,i)}function Gd(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sx(t){if(typeof t=="function")return Gd(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dd)return 11;if(t===fd)return 14}return 2}function oi(t,e){var n=t.alternate;return n===null?(n=zt(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ga(t,e,n,i,s,o){var l=2;if(i=t,typeof t=="function")Gd(t)&&(l=1);else if(typeof t=="string")l=5;else e:switch(t){case yr:return Fi(n.children,s,o,e);case hd:l=8,s|=8;break;case Bc:return t=zt(12,n,e,s|2),t.elementType=Bc,t.lanes=o,t;case Uc:return t=zt(13,n,e,s),t.elementType=Uc,t.lanes=o,t;case Hc:return t=zt(19,n,e,s),t.elementType=Hc,t.lanes=o,t;case Wg:return Jl(n,s,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Hg:l=10;break e;case jg:l=9;break e;case dd:l=11;break e;case fd:l=14;break e;case $n:l=16,i=null;break e}throw Error(M(130,t==null?t:typeof t,""))}return e=zt(l,n,e,s),e.elementType=t,e.type=i,e.lanes=o,e}function Fi(t,e,n,i){return t=zt(7,t,i,e),t.lanes=n,t}function Jl(t,e,n,i){return t=zt(22,t,i,e),t.elementType=Wg,t.lanes=n,t.stateNode={isHidden:!1},t}function pc(t,e,n){return t=zt(6,t,null,e),t.lanes=n,t}function mc(t,e,n){return e=zt(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ox(t,e,n,i,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yu(0),this.expirationTimes=Yu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yu(0),this.identifierPrefix=i,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Kd(t,e,n,i,s,o,l,c,d){return t=new ox(t,e,n,c,d),e===1?(e=1,o===!0&&(e|=8)):e=0,o=zt(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Rd(o),t}function ax(t,e,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:vr,key:i==null?null:""+i,children:t,containerInfo:e,implementation:n}}function by(t){if(!t)return hi;t=t._reactInternals;e:{if(Xi(t)!==t||t.tag!==1)throw Error(M(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(wt(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(M(171))}if(t.tag===1){var n=t.type;if(wt(n))return Mv(t,n,e)}return e}function Dy(t,e,n,i,s,o,l,c,d){return t=Kd(n,i,!0,t,s,o,l,c,d),t.context=by(null),n=t.current,i=ht(),s=si(n),o=Pn(i,s),o.callback=e??null,ii(n,o,s),t.current.lanes=s,Mo(t,s,i),Et(t,i),t}function eu(t,e,n,i){var s=e.current,o=ht(),l=si(s);return n=by(n),e.context===null?e.context=n:e.pendingContext=n,e=Pn(o,l),e.payload={element:t},i=i===void 0?null:i,i!==null&&(e.callback=i),t=ii(s,e,l),t!==null&&(Jt(t,s,l,o),Ha(t,s,l)),l}function vl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function l_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Yd(t,e){l_(t,e),(t=t.alternate)&&l_(t,e)}function lx(){return null}var zy=typeof reportError=="function"?reportError:function(t){console.error(t)};function qd(t){this._internalRoot=t}tu.prototype.render=qd.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(M(409));eu(t,e,null,null)};tu.prototype.unmount=qd.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Vi(function(){eu(null,t,null,null)}),e[On]=null}};function tu(t){this._internalRoot=t}tu.prototype.unstable_scheduleHydration=function(t){if(t){var e=fv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Yn.length&&e!==0&&e<Yn[n].priority;n++);Yn.splice(n,0,t),n===0&&mv(t)}};function Qd(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function nu(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function u_(){}function ux(t,e,n,i,s){if(s){if(typeof i=="function"){var o=i;i=function(){var p=vl(l);o.call(p)}}var l=Dy(e,i,t,0,null,!1,!1,"",u_);return t._reactRootContainer=l,t[On]=l.current,ho(t.nodeType===8?t.parentNode:t),Vi(),l}for(;s=t.lastChild;)t.removeChild(s);if(typeof i=="function"){var c=i;i=function(){var p=vl(d);c.call(p)}}var d=Kd(t,0,!1,null,null,!1,!1,"",u_);return t._reactRootContainer=d,t[On]=d.current,ho(t.nodeType===8?t.parentNode:t),Vi(function(){eu(e,d,n,i)}),d}function iu(t,e,n,i,s){var o=n._reactRootContainer;if(o){var l=o;if(typeof s=="function"){var c=s;s=function(){var d=vl(l);c.call(d)}}eu(e,l,t,s)}else l=ux(n,e,t,s,i);return vl(l)}hv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Bs(e.pendingLanes);n!==0&&(_d(e,n|1),Et(e,De()),!(ue&6)&&(Qr=De()+500,gi()))}break;case 13:Vi(function(){var i=An(t,1);if(i!==null){var s=ht();Jt(i,t,1,s)}}),Yd(t,1)}};gd=function(t){if(t.tag===13){var e=An(t,134217728);if(e!==null){var n=ht();Jt(e,t,134217728,n)}Yd(t,134217728)}};dv=function(t){if(t.tag===13){var e=si(t),n=An(t,e);if(n!==null){var i=ht();Jt(n,t,e,i)}Yd(t,e)}};fv=function(){return pe};pv=function(t,e){var n=pe;try{return pe=t,e()}finally{pe=n}};Qc=function(t,e,n){switch(e){case"input":if(Vc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var i=n[e];if(i!==t&&i.form===t.form){var s=Gl(i);if(!s)throw Error(M(90));Zg(i),Vc(i,s)}}}break;case"textarea":Gg(t,n);break;case"select":e=n.value,e!=null&&Ar(t,!!n.multiple,e,!1)}};ev=Vd;tv=Vi;var cx={usingClientEntryPoint:!1,Events:[Do,Tr,Gl,Xg,Jg,Vd]},Ls={findFiberByHostInstance:Oi,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},hx={bundleType:Ls.bundleType,version:Ls.version,rendererPackageName:Ls.rendererPackageName,rendererConfig:Ls.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Dn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=rv(t),t===null?null:t.stateNode},findFiberByHostInstance:Ls.findFiberByHostInstance||lx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var La=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!La.isDisabled&&La.supportsFiber)try{Wl=La.inject(hx),dn=La}catch{}}Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cx;Lt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Qd(e))throw Error(M(200));return ax(t,e,null,n)};Lt.createRoot=function(t,e){if(!Qd(t))throw Error(M(299));var n=!1,i="",s=zy;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(i=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Kd(t,1,!1,null,null,n,!1,i,s),t[On]=e.current,ho(t.nodeType===8?t.parentNode:t),new qd(e)};Lt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(M(188)):(t=Object.keys(t).join(","),Error(M(268,t)));return t=rv(e),t=t===null?null:t.stateNode,t};Lt.flushSync=function(t){return Vi(t)};Lt.hydrate=function(t,e,n){if(!nu(e))throw Error(M(200));return iu(null,t,e,!0,n)};Lt.hydrateRoot=function(t,e,n){if(!Qd(t))throw Error(M(405));var i=n!=null&&n.hydratedSources||null,s=!1,o="",l=zy;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),e=Dy(e,null,t,1,n??null,s,!1,o,l),t[On]=e.current,ho(t),i)for(t=0;t<i.length;t++)n=i[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new tu(e)};Lt.render=function(t,e,n){if(!nu(e))throw Error(M(200));return iu(null,t,e,!1,n)};Lt.unmountComponentAtNode=function(t){if(!nu(t))throw Error(M(40));return t._reactRootContainer?(Vi(function(){iu(null,null,t,!1,function(){t._reactRootContainer=null,t[On]=null})}),!0):!1};Lt.unstable_batchedUpdates=Vd;Lt.unstable_renderSubtreeIntoContainer=function(t,e,n,i){if(!nu(n))throw Error(M(200));if(t==null||t._reactInternals===void 0)throw Error(M(38));return iu(t,e,n,!1,i)};Lt.version="18.2.0-next-9e3b772b8-20220608";function Fy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Fy)}catch(t){console.error(t)}}Fy(),Dg.exports=Lt;var Xd=Dg.exports;const Lr=Oo(Xd);var c_=Xd;zc.createRoot=c_.createRoot,zc.hydrateRoot=c_.hydrateRoot;function By(t,e){const n=P.useRef(e);P.useEffect(function(){e!==n.current&&t.attributionControl!=null&&(n.current!=null&&t.attributionControl.removeAttribution(n.current),e!=null&&t.attributionControl.addAttribution(e)),n.current=e},[t,e])}const dx=1;function fx(t){return Object.freeze({__version:dx,map:t})}function px(t,e){return Object.freeze({...t,...e})}const Uy=P.createContext(null),Hy=Uy.Provider;function jy(){const t=P.useContext(Uy);if(t==null)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return t}function mx(t){function e(n,i){const{instance:s,context:o}=t(n).current;return P.useImperativeHandle(i,()=>s),n.children==null?null:xt.createElement(Hy,{value:o},n.children)}return P.forwardRef(e)}function _x(t){function e(n,i){const[s,o]=P.useState(!1),{instance:l}=t(n,o).current;P.useImperativeHandle(i,()=>l),P.useEffect(function(){s&&l.update()},[l,s,n.children]);const c=l._contentNode;return c?Xd.createPortal(n.children,c):null}return P.forwardRef(e)}function gx(t){function e(n,i){const{instance:s}=t(n).current;return P.useImperativeHandle(i,()=>s),null}return P.forwardRef(e)}function Wy(t,e){const n=P.useRef();P.useEffect(function(){return e!=null&&t.instance.on(e),n.current=e,function(){n.current!=null&&t.instance.off(n.current),n.current=null}},[t,e])}function Jd(t,e){const n=t.pane??e.pane;return n?{...t,pane:n}:t}function vx(t,e){return function(i,s){const o=jy(),l=t(Jd(i,o),o);return By(o.map,i.attribution),Wy(l.current,i.eventHandlers),e(l.current,o,i,s),l}}var Lh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(t,e){(function(n,i){i(e)})(HC,function(n){var i="1.9.4";function s(r){var a,u,h,f;for(u=1,h=arguments.length;u<h;u++){f=arguments[u];for(a in f)r[a]=f[a]}return r}var o=Object.create||function(){function r(){}return function(a){return r.prototype=a,new r}}();function l(r,a){var u=Array.prototype.slice;if(r.bind)return r.bind.apply(r,u.call(arguments,1));var h=u.call(arguments,2);return function(){return r.apply(a,h.length?h.concat(u.call(arguments)):arguments)}}var c=0;function d(r){return"_leaflet_id"in r||(r._leaflet_id=++c),r._leaflet_id}function p(r,a,u){var h,f,m,y;return y=function(){h=!1,f&&(m.apply(u,f),f=!1)},m=function(){h?f=arguments:(r.apply(u,arguments),setTimeout(y,a),h=!0)},m}function g(r,a,u){var h=a[1],f=a[0],m=h-f;return r===h&&u?r:((r-f)%m+m)%m+f}function _(){return!1}function v(r,a){if(a===!1)return r;var u=Math.pow(10,a===void 0?6:a);return Math.round(r*u)/u}function T(r){return r.trim?r.trim():r.replace(/^\s+|\s+$/g,"")}function S(r){return T(r).split(/\s+/)}function k(r,a){Object.prototype.hasOwnProperty.call(r,"options")||(r.options=r.options?o(r.options):{});for(var u in a)r.options[u]=a[u];return r.options}function D(r,a,u){var h=[];for(var f in r)h.push(encodeURIComponent(u?f.toUpperCase():f)+"="+encodeURIComponent(r[f]));return(!a||a.indexOf("?")===-1?"?":"&")+h.join("&")}var E=/\{ *([\w_ -]+) *\}/g;function w(r,a){return r.replace(E,function(u,h){var f=a[h];if(f===void 0)throw new Error("No value provided for variable "+u);return typeof f=="function"&&(f=f(a)),f})}var C=Array.isArray||function(r){return Object.prototype.toString.call(r)==="[object Array]"};function R(r,a){for(var u=0;u<r.length;u++)if(r[u]===a)return u;return-1}var z="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function A(r){return window["webkit"+r]||window["moz"+r]||window["ms"+r]}var U=0;function j(r){var a=+new Date,u=Math.max(0,16-(a-U));return U=a+u,window.setTimeout(r,u)}var oe=window.requestAnimationFrame||A("RequestAnimationFrame")||j,Q=window.cancelAnimationFrame||A("CancelAnimationFrame")||A("CancelRequestAnimationFrame")||function(r){window.clearTimeout(r)};function de(r,a,u){if(u&&oe===j)r.call(a);else return oe.call(window,l(r,a))}function Oe(r){r&&Q.call(window,r)}var Tt={__proto__:null,extend:s,create:o,bind:l,get lastId(){return c},stamp:d,throttle:p,wrapNum:g,falseFn:_,formatNum:v,trim:T,splitWords:S,setOptions:k,getParamString:D,template:w,isArray:C,indexOf:R,emptyImageUrl:z,requestFn:oe,cancelFn:Q,requestAnimFrame:de,cancelAnimFrame:Oe};function qe(){}qe.extend=function(r){var a=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},u=a.__super__=this.prototype,h=o(u);h.constructor=a,a.prototype=h;for(var f in this)Object.prototype.hasOwnProperty.call(this,f)&&f!=="prototype"&&f!=="__super__"&&(a[f]=this[f]);return r.statics&&s(a,r.statics),r.includes&&(Un(r.includes),s.apply(null,[h].concat(r.includes))),s(h,r),delete h.statics,delete h.includes,h.options&&(h.options=u.options?o(u.options):{},s(h.options,r.options)),h._initHooks=[],h.callInitHooks=function(){if(!this._initHooksCalled){u.callInitHooks&&u.callInitHooks.call(this),this._initHooksCalled=!0;for(var m=0,y=h._initHooks.length;m<y;m++)h._initHooks[m].call(this)}},a},qe.include=function(r){var a=this.prototype.options;return s(this.prototype,r),r.options&&(this.prototype.options=a,this.mergeOptions(r.options)),this},qe.mergeOptions=function(r){return s(this.prototype.options,r),this},qe.addInitHook=function(r){var a=Array.prototype.slice.call(arguments,1),u=typeof r=="function"?r:function(){this[r].apply(this,a)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(u),this};function Un(r){if(!(typeof L>"u"||!L||!L.Mixin)){r=C(r)?r:[r];for(var a=0;a<r.length;a++)r[a]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var ge={on:function(r,a,u){if(typeof r=="object")for(var h in r)this._on(h,r[h],a);else{r=S(r);for(var f=0,m=r.length;f<m;f++)this._on(r[f],a,u)}return this},off:function(r,a,u){if(!arguments.length)delete this._events;else if(typeof r=="object")for(var h in r)this._off(h,r[h],a);else{r=S(r);for(var f=arguments.length===1,m=0,y=r.length;m<y;m++)f?this._off(r[m]):this._off(r[m],a,u)}return this},_on:function(r,a,u,h){if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}if(this._listens(r,a,u)===!1){u===this&&(u=void 0);var f={fn:a,ctx:u};h&&(f.once=!0),this._events=this._events||{},this._events[r]=this._events[r]||[],this._events[r].push(f)}},_off:function(r,a,u){var h,f,m;if(this._events&&(h=this._events[r],!!h)){if(arguments.length===1){if(this._firingCount)for(f=0,m=h.length;f<m;f++)h[f].fn=_;delete this._events[r];return}if(typeof a!="function"){console.warn("wrong listener type: "+typeof a);return}var y=this._listens(r,a,u);if(y!==!1){var x=h[y];this._firingCount&&(x.fn=_,this._events[r]=h=h.slice()),h.splice(y,1)}}},fire:function(r,a,u){if(!this.listens(r,u))return this;var h=s({},a,{type:r,target:this,sourceTarget:a&&a.sourceTarget||this});if(this._events){var f=this._events[r];if(f){this._firingCount=this._firingCount+1||1;for(var m=0,y=f.length;m<y;m++){var x=f[m],I=x.fn;x.once&&this.off(r,I,x.ctx),I.call(x.ctx||this,h)}this._firingCount--}}return u&&this._propagateEvent(h),this},listens:function(r,a,u,h){typeof r!="string"&&console.warn('"string" type argument expected');var f=a;typeof a!="function"&&(h=!!a,f=void 0,u=void 0);var m=this._events&&this._events[r];if(m&&m.length&&this._listens(r,f,u)!==!1)return!0;if(h){for(var y in this._eventParents)if(this._eventParents[y].listens(r,a,u,h))return!0}return!1},_listens:function(r,a,u){if(!this._events)return!1;var h=this._events[r]||[];if(!a)return!!h.length;u===this&&(u=void 0);for(var f=0,m=h.length;f<m;f++)if(h[f].fn===a&&h[f].ctx===u)return f;return!1},once:function(r,a,u){if(typeof r=="object")for(var h in r)this._on(h,r[h],a,!0);else{r=S(r);for(var f=0,m=r.length;f<m;f++)this._on(r[f],a,u,!0)}return this},addEventParent:function(r){return this._eventParents=this._eventParents||{},this._eventParents[d(r)]=r,this},removeEventParent:function(r){return this._eventParents&&delete this._eventParents[d(r)],this},_propagateEvent:function(r){for(var a in this._eventParents)this._eventParents[a].fire(r.type,s({layer:r.target,propagatedFrom:r.target},r),!0)}};ge.addEventListener=ge.on,ge.removeEventListener=ge.clearAllEventListeners=ge.off,ge.addOneTimeEventListener=ge.once,ge.fireEvent=ge.fire,ge.hasEventListeners=ge.listens;var Qe=qe.extend(ge);function N(r,a,u){this.x=u?Math.round(r):r,this.y=u?Math.round(a):a}var G=Math.trunc||function(r){return r>0?Math.floor(r):Math.ceil(r)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(r){return this.clone()._add(b(r))},_add:function(r){return this.x+=r.x,this.y+=r.y,this},subtract:function(r){return this.clone()._subtract(b(r))},_subtract:function(r){return this.x-=r.x,this.y-=r.y,this},divideBy:function(r){return this.clone()._divideBy(r)},_divideBy:function(r){return this.x/=r,this.y/=r,this},multiplyBy:function(r){return this.clone()._multiplyBy(r)},_multiplyBy:function(r){return this.x*=r,this.y*=r,this},scaleBy:function(r){return new N(this.x*r.x,this.y*r.y)},unscaleBy:function(r){return new N(this.x/r.x,this.y/r.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=G(this.x),this.y=G(this.y),this},distanceTo:function(r){r=b(r);var a=r.x-this.x,u=r.y-this.y;return Math.sqrt(a*a+u*u)},equals:function(r){return r=b(r),r.x===this.x&&r.y===this.y},contains:function(r){return r=b(r),Math.abs(r.x)<=Math.abs(this.x)&&Math.abs(r.y)<=Math.abs(this.y)},toString:function(){return"Point("+v(this.x)+", "+v(this.y)+")"}};function b(r,a,u){return r instanceof N?r:C(r)?new N(r[0],r[1]):r==null?r:typeof r=="object"&&"x"in r&&"y"in r?new N(r.x,r.y):new N(r,a,u)}function Z(r,a){if(r)for(var u=a?[r,a]:r,h=0,f=u.length;h<f;h++)this.extend(u[h])}Z.prototype={extend:function(r){var a,u;if(!r)return this;if(r instanceof N||typeof r[0]=="number"||"x"in r)a=u=b(r);else if(r=ee(r),a=r.min,u=r.max,!a||!u)return this;return!this.min&&!this.max?(this.min=a.clone(),this.max=u.clone()):(this.min.x=Math.min(a.x,this.min.x),this.max.x=Math.max(u.x,this.max.x),this.min.y=Math.min(a.y,this.min.y),this.max.y=Math.max(u.y,this.max.y)),this},getCenter:function(r){return b((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,r)},getBottomLeft:function(){return b(this.min.x,this.max.y)},getTopRight:function(){return b(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(r){var a,u;return typeof r[0]=="number"||r instanceof N?r=b(r):r=ee(r),r instanceof Z?(a=r.min,u=r.max):a=u=r,a.x>=this.min.x&&u.x<=this.max.x&&a.y>=this.min.y&&u.y<=this.max.y},intersects:function(r){r=ee(r);var a=this.min,u=this.max,h=r.min,f=r.max,m=f.x>=a.x&&h.x<=u.x,y=f.y>=a.y&&h.y<=u.y;return m&&y},overlaps:function(r){r=ee(r);var a=this.min,u=this.max,h=r.min,f=r.max,m=f.x>a.x&&h.x<u.x,y=f.y>a.y&&h.y<u.y;return m&&y},isValid:function(){return!!(this.min&&this.max)},pad:function(r){var a=this.min,u=this.max,h=Math.abs(a.x-u.x)*r,f=Math.abs(a.y-u.y)*r;return ee(b(a.x-h,a.y-f),b(u.x+h,u.y+f))},equals:function(r){return r?(r=ee(r),this.min.equals(r.getTopLeft())&&this.max.equals(r.getBottomRight())):!1}};function ee(r,a){return!r||r instanceof Z?r:new Z(r,a)}function ve(r,a){if(r)for(var u=a?[r,a]:r,h=0,f=u.length;h<f;h++)this.extend(u[h])}ve.prototype={extend:function(r){var a=this._southWest,u=this._northEast,h,f;if(r instanceof q)h=r,f=r;else if(r instanceof ve){if(h=r._southWest,f=r._northEast,!h||!f)return this}else return r?this.extend(K(r)||ae(r)):this;return!a&&!u?(this._southWest=new q(h.lat,h.lng),this._northEast=new q(f.lat,f.lng)):(a.lat=Math.min(h.lat,a.lat),a.lng=Math.min(h.lng,a.lng),u.lat=Math.max(f.lat,u.lat),u.lng=Math.max(f.lng,u.lng)),this},pad:function(r){var a=this._southWest,u=this._northEast,h=Math.abs(a.lat-u.lat)*r,f=Math.abs(a.lng-u.lng)*r;return new ve(new q(a.lat-h,a.lng-f),new q(u.lat+h,u.lng+f))},getCenter:function(){return new q((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new q(this.getNorth(),this.getWest())},getSouthEast:function(){return new q(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(r){typeof r[0]=="number"||r instanceof q||"lat"in r?r=K(r):r=ae(r);var a=this._southWest,u=this._northEast,h,f;return r instanceof ve?(h=r.getSouthWest(),f=r.getNorthEast()):h=f=r,h.lat>=a.lat&&f.lat<=u.lat&&h.lng>=a.lng&&f.lng<=u.lng},intersects:function(r){r=ae(r);var a=this._southWest,u=this._northEast,h=r.getSouthWest(),f=r.getNorthEast(),m=f.lat>=a.lat&&h.lat<=u.lat,y=f.lng>=a.lng&&h.lng<=u.lng;return m&&y},overlaps:function(r){r=ae(r);var a=this._southWest,u=this._northEast,h=r.getSouthWest(),f=r.getNorthEast(),m=f.lat>a.lat&&h.lat<u.lat,y=f.lng>a.lng&&h.lng<u.lng;return m&&y},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(r,a){return r?(r=ae(r),this._southWest.equals(r.getSouthWest(),a)&&this._northEast.equals(r.getNorthEast(),a)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ae(r,a){return r instanceof ve?r:new ve(r,a)}function q(r,a,u){if(isNaN(r)||isNaN(a))throw new Error("Invalid LatLng object: ("+r+", "+a+")");this.lat=+r,this.lng=+a,u!==void 0&&(this.alt=+u)}q.prototype={equals:function(r,a){if(!r)return!1;r=K(r);var u=Math.max(Math.abs(this.lat-r.lat),Math.abs(this.lng-r.lng));return u<=(a===void 0?1e-9:a)},toString:function(r){return"LatLng("+v(this.lat,r)+", "+v(this.lng,r)+")"},distanceTo:function(r){return nn.distance(this,K(r))},wrap:function(){return nn.wrapLatLng(this)},toBounds:function(r){var a=180*r/40075017,u=a/Math.cos(Math.PI/180*this.lat);return ae([this.lat-a,this.lng-u],[this.lat+a,this.lng+u])},clone:function(){return new q(this.lat,this.lng,this.alt)}};function K(r,a,u){return r instanceof q?r:C(r)&&typeof r[0]!="object"?r.length===3?new q(r[0],r[1],r[2]):r.length===2?new q(r[0],r[1]):null:r==null?r:typeof r=="object"&&"lat"in r?new q(r.lat,"lng"in r?r.lng:r.lon,r.alt):a===void 0?null:new q(r,a,u)}var nt={latLngToPoint:function(r,a){var u=this.projection.project(r),h=this.scale(a);return this.transformation._transform(u,h)},pointToLatLng:function(r,a){var u=this.scale(a),h=this.transformation.untransform(r,u);return this.projection.unproject(h)},project:function(r){return this.projection.project(r)},unproject:function(r){return this.projection.unproject(r)},scale:function(r){return 256*Math.pow(2,r)},zoom:function(r){return Math.log(r/256)/Math.LN2},getProjectedBounds:function(r){if(this.infinite)return null;var a=this.projection.bounds,u=this.scale(r),h=this.transformation.transform(a.min,u),f=this.transformation.transform(a.max,u);return new Z(h,f)},infinite:!1,wrapLatLng:function(r){var a=this.wrapLng?g(r.lng,this.wrapLng,!0):r.lng,u=this.wrapLat?g(r.lat,this.wrapLat,!0):r.lat,h=r.alt;return new q(u,a,h)},wrapLatLngBounds:function(r){var a=r.getCenter(),u=this.wrapLatLng(a),h=a.lat-u.lat,f=a.lng-u.lng;if(h===0&&f===0)return r;var m=r.getSouthWest(),y=r.getNorthEast(),x=new q(m.lat-h,m.lng-f),I=new q(y.lat-h,y.lng-f);return new ve(x,I)}},nn=s({},nt,{wrapLng:[-180,180],R:6371e3,distance:function(r,a){var u=Math.PI/180,h=r.lat*u,f=a.lat*u,m=Math.sin((a.lat-r.lat)*u/2),y=Math.sin((a.lng-r.lng)*u/2),x=m*m+Math.cos(h)*Math.cos(f)*y*y,I=2*Math.atan2(Math.sqrt(x),Math.sqrt(1-x));return this.R*I}}),tr=6378137,wi={R:tr,MAX_LATITUDE:85.0511287798,project:function(r){var a=Math.PI/180,u=this.MAX_LATITUDE,h=Math.max(Math.min(u,r.lat),-u),f=Math.sin(h*a);return new N(this.R*r.lng*a,this.R*Math.log((1+f)/(1-f))/2)},unproject:function(r){var a=180/Math.PI;return new q((2*Math.atan(Math.exp(r.y/this.R))-Math.PI/2)*a,r.x*a/this.R)},bounds:function(){var r=tr*Math.PI;return new Z([-r,-r],[r,r])}()};function ls(r,a,u,h){if(C(r)){this._a=r[0],this._b=r[1],this._c=r[2],this._d=r[3];return}this._a=r,this._b=a,this._c=u,this._d=h}ls.prototype={transform:function(r,a){return this._transform(r.clone(),a)},_transform:function(r,a){return a=a||1,r.x=a*(this._a*r.x+this._b),r.y=a*(this._c*r.y+this._d),r},untransform:function(r,a){return a=a||1,new N((r.x/a-this._b)/this._a,(r.y/a-this._d)/this._c)}};function Hn(r,a,u,h){return new ls(r,a,u,h)}var Ei=s({},nn,{code:"EPSG:3857",projection:wi,transformation:function(){var r=.5/(Math.PI*wi.R);return Hn(r,.5,-r,.5)}()}),nr=s({},Ei,{code:"EPSG:900913"});function ke(r){return document.createElementNS("http://www.w3.org/2000/svg",r)}function us(r,a){var u="",h,f,m,y,x,I;for(h=0,m=r.length;h<m;h++){for(x=r[h],f=0,y=x.length;f<y;f++)I=x[f],u+=(f?"L":"M")+I.x+" "+I.y;u+=a?V.svg?"z":"x":""}return u||"M0 0"}var Ci=document.documentElement.style,Yo="ActiveXObject"in window,vE=Yo&&!document.addEventListener,Yf="msLaunchUri"in navigator&&!("documentMode"in document),pu=rn("webkit"),qf=rn("android"),Qf=rn("android 2")||rn("android 3"),yE=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wE=qf&&rn("Google")&&yE<537&&!("AudioNode"in window),mu=!!window.opera,Xf=!Yf&&rn("chrome"),Jf=rn("gecko")&&!pu&&!mu&&!Yo,EE=!Xf&&rn("safari"),ep=rn("phantom"),tp="OTransition"in Ci,CE=navigator.platform.indexOf("Win")===0,np=Yo&&"transition"in Ci,_u="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Qf,ip="MozPerspective"in Ci,TE=!window.L_DISABLE_3D&&(np||_u||ip)&&!tp&&!ep,cs=typeof orientation<"u"||rn("mobile"),SE=cs&&pu,xE=cs&&_u,rp=!window.PointerEvent&&window.MSPointerEvent,sp=!!(window.PointerEvent||rp),op="ontouchstart"in window||!!window.TouchEvent,kE=!window.L_NO_TOUCH&&(op||sp),IE=cs&&mu,PE=cs&&Jf,NE=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,LE=function(){var r=!1;try{var a=Object.defineProperty({},"passive",{get:function(){r=!0}});window.addEventListener("testPassiveEventSupport",_,a),window.removeEventListener("testPassiveEventSupport",_,a)}catch{}return r}(),RE=function(){return!!document.createElement("canvas").getContext}(),gu=!!(document.createElementNS&&ke("svg").createSVGRect),OE=!!gu&&function(){var r=document.createElement("div");return r.innerHTML="<svg/>",(r.firstChild&&r.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),AE=!gu&&function(){try{var r=document.createElement("div");r.innerHTML='<v:shape adj="1"/>';var a=r.firstChild;return a.style.behavior="url(#default#VML)",a&&typeof a.adj=="object"}catch{return!1}}(),ME=navigator.platform.indexOf("Mac")===0,bE=navigator.platform.indexOf("Linux")===0;function rn(r){return navigator.userAgent.toLowerCase().indexOf(r)>=0}var V={ie:Yo,ielt9:vE,edge:Yf,webkit:pu,android:qf,android23:Qf,androidStock:wE,opera:mu,chrome:Xf,gecko:Jf,safari:EE,phantom:ep,opera12:tp,win:CE,ie3d:np,webkit3d:_u,gecko3d:ip,any3d:TE,mobile:cs,mobileWebkit:SE,mobileWebkit3d:xE,msPointer:rp,pointer:sp,touch:kE,touchNative:op,mobileOpera:IE,mobileGecko:PE,retina:NE,passiveEvents:LE,canvas:RE,svg:gu,vml:AE,inlineSvg:OE,mac:ME,linux:bE},ap=V.msPointer?"MSPointerDown":"pointerdown",lp=V.msPointer?"MSPointerMove":"pointermove",up=V.msPointer?"MSPointerUp":"pointerup",cp=V.msPointer?"MSPointerCancel":"pointercancel",vu={touchstart:ap,touchmove:lp,touchend:up,touchcancel:cp},hp={touchstart:HE,touchmove:qo,touchend:qo,touchcancel:qo},ir={},dp=!1;function DE(r,a,u){return a==="touchstart"&&UE(),hp[a]?(u=hp[a].bind(this,u),r.addEventListener(vu[a],u,!1),u):(console.warn("wrong event specified:",a),_)}function zE(r,a,u){if(!vu[a]){console.warn("wrong event specified:",a);return}r.removeEventListener(vu[a],u,!1)}function FE(r){ir[r.pointerId]=r}function BE(r){ir[r.pointerId]&&(ir[r.pointerId]=r)}function fp(r){delete ir[r.pointerId]}function UE(){dp||(document.addEventListener(ap,FE,!0),document.addEventListener(lp,BE,!0),document.addEventListener(up,fp,!0),document.addEventListener(cp,fp,!0),dp=!0)}function qo(r,a){if(a.pointerType!==(a.MSPOINTER_TYPE_MOUSE||"mouse")){a.touches=[];for(var u in ir)a.touches.push(ir[u]);a.changedTouches=[a],r(a)}}function HE(r,a){a.MSPOINTER_TYPE_TOUCH&&a.pointerType===a.MSPOINTER_TYPE_TOUCH&&Xe(a),qo(r,a)}function jE(r){var a={},u,h;for(h in r)u=r[h],a[h]=u&&u.bind?u.bind(r):u;return r=a,a.type="dblclick",a.detail=2,a.isTrusted=!1,a._simulated=!0,a}var WE=200;function VE(r,a){r.addEventListener("dblclick",a);var u=0,h;function f(m){if(m.detail!==1){h=m.detail;return}if(!(m.pointerType==="mouse"||m.sourceCapabilities&&!m.sourceCapabilities.firesTouchEvents)){var y=vp(m);if(!(y.some(function(I){return I instanceof HTMLLabelElement&&I.attributes.for})&&!y.some(function(I){return I instanceof HTMLInputElement||I instanceof HTMLSelectElement}))){var x=Date.now();x-u<=WE?(h++,h===2&&a(jE(m))):h=1,u=x}}}return r.addEventListener("click",f),{dblclick:a,simDblclick:f}}function ZE(r,a){r.removeEventListener("dblclick",a.dblclick),r.removeEventListener("click",a.simDblclick)}var yu=Jo(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),hs=Jo(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),pp=hs==="webkitTransition"||hs==="OTransition"?hs+"End":"transitionend";function mp(r){return typeof r=="string"?document.getElementById(r):r}function ds(r,a){var u=r.style[a]||r.currentStyle&&r.currentStyle[a];if((!u||u==="auto")&&document.defaultView){var h=document.defaultView.getComputedStyle(r,null);u=h?h[a]:null}return u==="auto"?null:u}function ce(r,a,u){var h=document.createElement(r);return h.className=a||"",u&&u.appendChild(h),h}function Pe(r){var a=r.parentNode;a&&a.removeChild(r)}function Qo(r){for(;r.firstChild;)r.removeChild(r.firstChild)}function rr(r){var a=r.parentNode;a&&a.lastChild!==r&&a.appendChild(r)}function sr(r){var a=r.parentNode;a&&a.firstChild!==r&&a.insertBefore(r,a.firstChild)}function wu(r,a){if(r.classList!==void 0)return r.classList.contains(a);var u=Xo(r);return u.length>0&&new RegExp("(^|\\s)"+a+"(\\s|$)").test(u)}function J(r,a){if(r.classList!==void 0)for(var u=S(a),h=0,f=u.length;h<f;h++)r.classList.add(u[h]);else if(!wu(r,a)){var m=Xo(r);Eu(r,(m?m+" ":"")+a)}}function be(r,a){r.classList!==void 0?r.classList.remove(a):Eu(r,T((" "+Xo(r)+" ").replace(" "+a+" "," ")))}function Eu(r,a){r.className.baseVal===void 0?r.className=a:r.className.baseVal=a}function Xo(r){return r.correspondingElement&&(r=r.correspondingElement),r.className.baseVal===void 0?r.className:r.className.baseVal}function Ot(r,a){"opacity"in r.style?r.style.opacity=a:"filter"in r.style&&$E(r,a)}function $E(r,a){var u=!1,h="DXImageTransform.Microsoft.Alpha";try{u=r.filters.item(h)}catch{if(a===1)return}a=Math.round(a*100),u?(u.Enabled=a!==100,u.Opacity=a):r.style.filter+=" progid:"+h+"(opacity="+a+")"}function Jo(r){for(var a=document.documentElement.style,u=0;u<r.length;u++)if(r[u]in a)return r[u];return!1}function Ti(r,a,u){var h=a||new N(0,0);r.style[yu]=(V.ie3d?"translate("+h.x+"px,"+h.y+"px)":"translate3d("+h.x+"px,"+h.y+"px,0)")+(u?" scale("+u+")":"")}function Fe(r,a){r._leaflet_pos=a,V.any3d?Ti(r,a):(r.style.left=a.x+"px",r.style.top=a.y+"px")}function Si(r){return r._leaflet_pos||new N(0,0)}var fs,ps,Cu;if("onselectstart"in document)fs=function(){X(window,"selectstart",Xe)},ps=function(){ye(window,"selectstart",Xe)};else{var ms=Jo(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);fs=function(){if(ms){var r=document.documentElement.style;Cu=r[ms],r[ms]="none"}},ps=function(){ms&&(document.documentElement.style[ms]=Cu,Cu=void 0)}}function Tu(){X(window,"dragstart",Xe)}function Su(){ye(window,"dragstart",Xe)}var ea,xu;function ku(r){for(;r.tabIndex===-1;)r=r.parentNode;r.style&&(ta(),ea=r,xu=r.style.outlineStyle,r.style.outlineStyle="none",X(window,"keydown",ta))}function ta(){ea&&(ea.style.outlineStyle=xu,ea=void 0,xu=void 0,ye(window,"keydown",ta))}function _p(r){do r=r.parentNode;while((!r.offsetWidth||!r.offsetHeight)&&r!==document.body);return r}function Iu(r){var a=r.getBoundingClientRect();return{x:a.width/r.offsetWidth||1,y:a.height/r.offsetHeight||1,boundingClientRect:a}}var GE={__proto__:null,TRANSFORM:yu,TRANSITION:hs,TRANSITION_END:pp,get:mp,getStyle:ds,create:ce,remove:Pe,empty:Qo,toFront:rr,toBack:sr,hasClass:wu,addClass:J,removeClass:be,setClass:Eu,getClass:Xo,setOpacity:Ot,testProp:Jo,setTransform:Ti,setPosition:Fe,getPosition:Si,get disableTextSelection(){return fs},get enableTextSelection(){return ps},disableImageDrag:Tu,enableImageDrag:Su,preventOutline:ku,restoreOutline:ta,getSizedParentNode:_p,getScale:Iu};function X(r,a,u,h){if(a&&typeof a=="object")for(var f in a)Nu(r,f,a[f],u);else{a=S(a);for(var m=0,y=a.length;m<y;m++)Nu(r,a[m],u,h)}return this}var sn="_leaflet_events";function ye(r,a,u,h){if(arguments.length===1)gp(r),delete r[sn];else if(a&&typeof a=="object")for(var f in a)Lu(r,f,a[f],u);else if(a=S(a),arguments.length===2)gp(r,function(x){return R(a,x)!==-1});else for(var m=0,y=a.length;m<y;m++)Lu(r,a[m],u,h);return this}function gp(r,a){for(var u in r[sn]){var h=u.split(/\d/)[0];(!a||a(h))&&Lu(r,h,null,null,u)}}var Pu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Nu(r,a,u,h){var f=a+d(u)+(h?"_"+d(h):"");if(r[sn]&&r[sn][f])return this;var m=function(x){return u.call(h||r,x||window.event)},y=m;!V.touchNative&&V.pointer&&a.indexOf("touch")===0?m=DE(r,a,m):V.touch&&a==="dblclick"?m=VE(r,m):"addEventListener"in r?a==="touchstart"||a==="touchmove"||a==="wheel"||a==="mousewheel"?r.addEventListener(Pu[a]||a,m,V.passiveEvents?{passive:!1}:!1):a==="mouseenter"||a==="mouseleave"?(m=function(x){x=x||window.event,Ou(r,x)&&y(x)},r.addEventListener(Pu[a],m,!1)):r.addEventListener(a,y,!1):r.attachEvent("on"+a,m),r[sn]=r[sn]||{},r[sn][f]=m}function Lu(r,a,u,h,f){f=f||a+d(u)+(h?"_"+d(h):"");var m=r[sn]&&r[sn][f];if(!m)return this;!V.touchNative&&V.pointer&&a.indexOf("touch")===0?zE(r,a,m):V.touch&&a==="dblclick"?ZE(r,m):"removeEventListener"in r?r.removeEventListener(Pu[a]||a,m,!1):r.detachEvent("on"+a,m),r[sn][f]=null}function xi(r){return r.stopPropagation?r.stopPropagation():r.originalEvent?r.originalEvent._stopped=!0:r.cancelBubble=!0,this}function Ru(r){return Nu(r,"wheel",xi),this}function _s(r){return X(r,"mousedown touchstart dblclick contextmenu",xi),r._leaflet_disable_click=!0,this}function Xe(r){return r.preventDefault?r.preventDefault():r.returnValue=!1,this}function ki(r){return Xe(r),xi(r),this}function vp(r){if(r.composedPath)return r.composedPath();for(var a=[],u=r.target;u;)a.push(u),u=u.parentNode;return a}function yp(r,a){if(!a)return new N(r.clientX,r.clientY);var u=Iu(a),h=u.boundingClientRect;return new N((r.clientX-h.left)/u.x-a.clientLeft,(r.clientY-h.top)/u.y-a.clientTop)}var KE=V.linux&&V.chrome?window.devicePixelRatio:V.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function wp(r){return V.edge?r.wheelDeltaY/2:r.deltaY&&r.deltaMode===0?-r.deltaY/KE:r.deltaY&&r.deltaMode===1?-r.deltaY*20:r.deltaY&&r.deltaMode===2?-r.deltaY*60:r.deltaX||r.deltaZ?0:r.wheelDelta?(r.wheelDeltaY||r.wheelDelta)/2:r.detail&&Math.abs(r.detail)<32765?-r.detail*20:r.detail?r.detail/-32765*60:0}function Ou(r,a){var u=a.relatedTarget;if(!u)return!0;try{for(;u&&u!==r;)u=u.parentNode}catch{return!1}return u!==r}var YE={__proto__:null,on:X,off:ye,stopPropagation:xi,disableScrollPropagation:Ru,disableClickPropagation:_s,preventDefault:Xe,stop:ki,getPropagationPath:vp,getMousePosition:yp,getWheelDelta:wp,isExternalTarget:Ou,addListener:X,removeListener:ye},Ep=Qe.extend({run:function(r,a,u,h){this.stop(),this._el=r,this._inProgress=!0,this._duration=u||.25,this._easeOutPower=1/Math.max(h||.5,.2),this._startPos=Si(r),this._offset=a.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=de(this._animate,this),this._step()},_step:function(r){var a=+new Date-this._startTime,u=this._duration*1e3;a<u?this._runFrame(this._easeOut(a/u),r):(this._runFrame(1),this._complete())},_runFrame:function(r,a){var u=this._startPos.add(this._offset.multiplyBy(r));a&&u._round(),Fe(this._el,u),this.fire("step")},_complete:function(){Oe(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(r){return 1-Math.pow(1-r,this._easeOutPower)}}),le=Qe.extend({options:{crs:Ei,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(r,a){a=k(this,a),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(r),this._initLayout(),this._onResize=l(this._onResize,this),this._initEvents(),a.maxBounds&&this.setMaxBounds(a.maxBounds),a.zoom!==void 0&&(this._zoom=this._limitZoom(a.zoom)),a.center&&a.zoom!==void 0&&this.setView(K(a.center),a.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=hs&&V.any3d&&!V.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),X(this._proxy,pp,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(r,a,u){if(a=a===void 0?this._zoom:this._limitZoom(a),r=this._limitCenter(K(r),a,this.options.maxBounds),u=u||{},this._stop(),this._loaded&&!u.reset&&u!==!0){u.animate!==void 0&&(u.zoom=s({animate:u.animate},u.zoom),u.pan=s({animate:u.animate,duration:u.duration},u.pan));var h=this._zoom!==a?this._tryAnimatedZoom&&this._tryAnimatedZoom(r,a,u.zoom):this._tryAnimatedPan(r,u.pan);if(h)return clearTimeout(this._sizeTimer),this}return this._resetView(r,a,u.pan&&u.pan.noMoveStart),this},setZoom:function(r,a){return this._loaded?this.setView(this.getCenter(),r,{zoom:a}):(this._zoom=r,this)},zoomIn:function(r,a){return r=r||(V.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+r,a)},zoomOut:function(r,a){return r=r||(V.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-r,a)},setZoomAround:function(r,a,u){var h=this.getZoomScale(a),f=this.getSize().divideBy(2),m=r instanceof N?r:this.latLngToContainerPoint(r),y=m.subtract(f).multiplyBy(1-1/h),x=this.containerPointToLatLng(f.add(y));return this.setView(x,a,{zoom:u})},_getBoundsCenterZoom:function(r,a){a=a||{},r=r.getBounds?r.getBounds():ae(r);var u=b(a.paddingTopLeft||a.padding||[0,0]),h=b(a.paddingBottomRight||a.padding||[0,0]),f=this.getBoundsZoom(r,!1,u.add(h));if(f=typeof a.maxZoom=="number"?Math.min(a.maxZoom,f):f,f===1/0)return{center:r.getCenter(),zoom:f};var m=h.subtract(u).divideBy(2),y=this.project(r.getSouthWest(),f),x=this.project(r.getNorthEast(),f),I=this.unproject(y.add(x).divideBy(2).add(m),f);return{center:I,zoom:f}},fitBounds:function(r,a){if(r=ae(r),!r.isValid())throw new Error("Bounds are not valid.");var u=this._getBoundsCenterZoom(r,a);return this.setView(u.center,u.zoom,a)},fitWorld:function(r){return this.fitBounds([[-90,-180],[90,180]],r)},panTo:function(r,a){return this.setView(r,this._zoom,{pan:a})},panBy:function(r,a){if(r=b(r).round(),a=a||{},!r.x&&!r.y)return this.fire("moveend");if(a.animate!==!0&&!this.getSize().contains(r))return this._resetView(this.unproject(this.project(this.getCenter()).add(r)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ep,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),a.noMoveStart||this.fire("movestart"),a.animate!==!1){J(this._mapPane,"leaflet-pan-anim");var u=this._getMapPanePos().subtract(r).round();this._panAnim.run(this._mapPane,u,a.duration||.25,a.easeLinearity)}else this._rawPanBy(r),this.fire("move").fire("moveend");return this},flyTo:function(r,a,u){if(u=u||{},u.animate===!1||!V.any3d)return this.setView(r,a,u);this._stop();var h=this.project(this.getCenter()),f=this.project(r),m=this.getSize(),y=this._zoom;r=K(r),a=a===void 0?y:a;var x=Math.max(m.x,m.y),I=x*this.getZoomScale(y,a),O=f.distanceTo(h)||1,H=1.42,$=H*H;function te(Be){var fa=Be?-1:1,zC=Be?I:x,FC=I*I-x*x+fa*$*$*O*O,BC=2*zC*$*O,Wu=FC/BC,tm=Math.sqrt(Wu*Wu+1)-Wu,UC=tm<1e-9?-18:Math.log(tm);return UC}function ut(Be){return(Math.exp(Be)-Math.exp(-Be))/2}function Ve(Be){return(Math.exp(Be)+Math.exp(-Be))/2}function Mt(Be){return ut(Be)/Ve(Be)}var pt=te(0);function hr(Be){return x*(Ve(pt)/Ve(pt+H*Be))}function AC(Be){return x*(Ve(pt)*Mt(pt+H*Be)-ut(pt))/$}function MC(Be){return 1-Math.pow(1-Be,1.5)}var bC=Date.now(),Jp=(te(1)-pt)/H,DC=u.duration?1e3*u.duration:1e3*Jp*.8;function em(){var Be=(Date.now()-bC)/DC,fa=MC(Be)*Jp;Be<=1?(this._flyToFrame=de(em,this),this._move(this.unproject(h.add(f.subtract(h).multiplyBy(AC(fa)/O)),y),this.getScaleZoom(x/hr(fa),y),{flyTo:!0})):this._move(r,a)._moveEnd(!0)}return this._moveStart(!0,u.noMoveStart),em.call(this),this},flyToBounds:function(r,a){var u=this._getBoundsCenterZoom(r,a);return this.flyTo(u.center,u.zoom,a)},setMaxBounds:function(r){return r=ae(r),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),r.isValid()?(this.options.maxBounds=r,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(r){var a=this.options.minZoom;return this.options.minZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(r):this},setMaxZoom:function(r){var a=this.options.maxZoom;return this.options.maxZoom=r,this._loaded&&a!==r&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(r):this},panInsideBounds:function(r,a){this._enforcingBounds=!0;var u=this.getCenter(),h=this._limitCenter(u,this._zoom,ae(r));return u.equals(h)||this.panTo(h,a),this._enforcingBounds=!1,this},panInside:function(r,a){a=a||{};var u=b(a.paddingTopLeft||a.padding||[0,0]),h=b(a.paddingBottomRight||a.padding||[0,0]),f=this.project(this.getCenter()),m=this.project(r),y=this.getPixelBounds(),x=ee([y.min.add(u),y.max.subtract(h)]),I=x.getSize();if(!x.contains(m)){this._enforcingBounds=!0;var O=m.subtract(x.getCenter()),H=x.extend(m).getSize().subtract(I);f.x+=O.x<0?-H.x:H.x,f.y+=O.y<0?-H.y:H.y,this.panTo(this.unproject(f),a),this._enforcingBounds=!1}return this},invalidateSize:function(r){if(!this._loaded)return this;r=s({animate:!1,pan:!0},r===!0?{animate:!0}:r);var a=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var u=this.getSize(),h=a.divideBy(2).round(),f=u.divideBy(2).round(),m=h.subtract(f);return!m.x&&!m.y?this:(r.animate&&r.pan?this.panBy(m):(r.pan&&this._rawPanBy(m),this.fire("move"),r.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(l(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:a,newSize:u}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(r){if(r=this._locateOptions=s({timeout:1e4,watch:!1},r),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var a=l(this._handleGeolocationResponse,this),u=l(this._handleGeolocationError,this);return r.watch?this._locationWatchId=navigator.geolocation.watchPosition(a,u,r):navigator.geolocation.getCurrentPosition(a,u,r),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(r){if(this._container._leaflet_id){var a=r.code,u=r.message||(a===1?"permission denied":a===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:a,message:"Geolocation error: "+u+"."})}},_handleGeolocationResponse:function(r){if(this._container._leaflet_id){var a=r.coords.latitude,u=r.coords.longitude,h=new q(a,u),f=h.toBounds(r.coords.accuracy*2),m=this._locateOptions;if(m.setView){var y=this.getBoundsZoom(f);this.setView(h,m.maxZoom?Math.min(y,m.maxZoom):y)}var x={latlng:h,bounds:f,timestamp:r.timestamp};for(var I in r.coords)typeof r.coords[I]=="number"&&(x[I]=r.coords[I]);this.fire("locationfound",x)}},addHandler:function(r,a){if(!a)return this;var u=this[r]=new a(this);return this._handlers.push(u),this.options[r]&&u.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Pe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Oe(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var r;for(r in this._layers)this._layers[r].remove();for(r in this._panes)Pe(this._panes[r]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(r,a){var u="leaflet-pane"+(r?" leaflet-"+r.replace("Pane","")+"-pane":""),h=ce("div",u,a||this._mapPane);return r&&(this._panes[r]=h),h},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var r=this.getPixelBounds(),a=this.unproject(r.getBottomLeft()),u=this.unproject(r.getTopRight());return new ve(a,u)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(r,a,u){r=ae(r),u=b(u||[0,0]);var h=this.getZoom()||0,f=this.getMinZoom(),m=this.getMaxZoom(),y=r.getNorthWest(),x=r.getSouthEast(),I=this.getSize().subtract(u),O=ee(this.project(x,h),this.project(y,h)).getSize(),H=V.any3d?this.options.zoomSnap:1,$=I.x/O.x,te=I.y/O.y,ut=a?Math.max($,te):Math.min($,te);return h=this.getScaleZoom(ut,h),H&&(h=Math.round(h/(H/100))*(H/100),h=a?Math.ceil(h/H)*H:Math.floor(h/H)*H),Math.max(f,Math.min(m,h))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(r,a){var u=this._getTopLeftPoint(r,a);return new Z(u,u.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(r){return this.options.crs.getProjectedBounds(r===void 0?this.getZoom():r)},getPane:function(r){return typeof r=="string"?this._panes[r]:r},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(r,a){var u=this.options.crs;return a=a===void 0?this._zoom:a,u.scale(r)/u.scale(a)},getScaleZoom:function(r,a){var u=this.options.crs;a=a===void 0?this._zoom:a;var h=u.zoom(r*u.scale(a));return isNaN(h)?1/0:h},project:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.latLngToPoint(K(r),a)},unproject:function(r,a){return a=a===void 0?this._zoom:a,this.options.crs.pointToLatLng(b(r),a)},layerPointToLatLng:function(r){var a=b(r).add(this.getPixelOrigin());return this.unproject(a)},latLngToLayerPoint:function(r){var a=this.project(K(r))._round();return a._subtract(this.getPixelOrigin())},wrapLatLng:function(r){return this.options.crs.wrapLatLng(K(r))},wrapLatLngBounds:function(r){return this.options.crs.wrapLatLngBounds(ae(r))},distance:function(r,a){return this.options.crs.distance(K(r),K(a))},containerPointToLayerPoint:function(r){return b(r).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(r){return b(r).add(this._getMapPanePos())},containerPointToLatLng:function(r){var a=this.containerPointToLayerPoint(b(r));return this.layerPointToLatLng(a)},latLngToContainerPoint:function(r){return this.layerPointToContainerPoint(this.latLngToLayerPoint(K(r)))},mouseEventToContainerPoint:function(r){return yp(r,this._container)},mouseEventToLayerPoint:function(r){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(r))},mouseEventToLatLng:function(r){return this.layerPointToLatLng(this.mouseEventToLayerPoint(r))},_initContainer:function(r){var a=this._container=mp(r);if(a){if(a._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");X(a,"scroll",this._onScroll,this),this._containerId=d(a)},_initLayout:function(){var r=this._container;this._fadeAnimated=this.options.fadeAnimation&&V.any3d,J(r,"leaflet-container"+(V.touch?" leaflet-touch":"")+(V.retina?" leaflet-retina":"")+(V.ielt9?" leaflet-oldie":"")+(V.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var a=ds(r,"position");a!=="absolute"&&a!=="relative"&&a!=="fixed"&&a!=="sticky"&&(r.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var r=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Fe(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(J(r.markerPane,"leaflet-zoom-hide"),J(r.shadowPane,"leaflet-zoom-hide"))},_resetView:function(r,a,u){Fe(this._mapPane,new N(0,0));var h=!this._loaded;this._loaded=!0,a=this._limitZoom(a),this.fire("viewprereset");var f=this._zoom!==a;this._moveStart(f,u)._move(r,a)._moveEnd(f),this.fire("viewreset"),h&&this.fire("load")},_moveStart:function(r,a){return r&&this.fire("zoomstart"),a||this.fire("movestart"),this},_move:function(r,a,u,h){a===void 0&&(a=this._zoom);var f=this._zoom!==a;return this._zoom=a,this._lastCenter=r,this._pixelOrigin=this._getNewPixelOrigin(r),h?u&&u.pinch&&this.fire("zoom",u):((f||u&&u.pinch)&&this.fire("zoom",u),this.fire("move",u)),this},_moveEnd:function(r){return r&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Oe(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(r){Fe(this._mapPane,this._getMapPanePos().subtract(r))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(r){this._targets={},this._targets[d(this._container)]=this;var a=r?ye:X;a(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&a(window,"resize",this._onResize,this),V.any3d&&this.options.transform3DLimit&&(r?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Oe(this._resizeRequest),this._resizeRequest=de(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var r=this._getMapPanePos();Math.max(Math.abs(r.x),Math.abs(r.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(r,a){for(var u=[],h,f=a==="mouseout"||a==="mouseover",m=r.target||r.srcElement,y=!1;m;){if(h=this._targets[d(m)],h&&(a==="click"||a==="preclick")&&this._draggableMoved(h)){y=!0;break}if(h&&h.listens(a,!0)&&(f&&!Ou(m,r)||(u.push(h),f))||m===this._container)break;m=m.parentNode}return!u.length&&!y&&!f&&this.listens(a,!0)&&(u=[this]),u},_isClickDisabled:function(r){for(;r&&r!==this._container;){if(r._leaflet_disable_click)return!0;r=r.parentNode}},_handleDOMEvent:function(r){var a=r.target||r.srcElement;if(!(!this._loaded||a._leaflet_disable_events||r.type==="click"&&this._isClickDisabled(a))){var u=r.type;u==="mousedown"&&ku(a),this._fireDOMEvent(r,u)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(r,a,u){if(r.type==="click"){var h=s({},r);h.type="preclick",this._fireDOMEvent(h,h.type,u)}var f=this._findEventTargets(r,a);if(u){for(var m=[],y=0;y<u.length;y++)u[y].listens(a,!0)&&m.push(u[y]);f=m.concat(f)}if(f.length){a==="contextmenu"&&Xe(r);var x=f[0],I={originalEvent:r};if(r.type!=="keypress"&&r.type!=="keydown"&&r.type!=="keyup"){var O=x.getLatLng&&(!x._radius||x._radius<=10);I.containerPoint=O?this.latLngToContainerPoint(x.getLatLng()):this.mouseEventToContainerPoint(r),I.layerPoint=this.containerPointToLayerPoint(I.containerPoint),I.latlng=O?x.getLatLng():this.layerPointToLatLng(I.layerPoint)}for(y=0;y<f.length;y++)if(f[y].fire(a,I,!0),I.originalEvent._stopped||f[y].options.bubblingMouseEvents===!1&&R(this._mouseEvents,a)!==-1)return}},_draggableMoved:function(r){return r=r.dragging&&r.dragging.enabled()?r:this,r.dragging&&r.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var r=0,a=this._handlers.length;r<a;r++)this._handlers[r].disable()},whenReady:function(r,a){return this._loaded?r.call(a||this,{target:this}):this.on("load",r,a),this},_getMapPanePos:function(){return Si(this._mapPane)||new N(0,0)},_moved:function(){var r=this._getMapPanePos();return r&&!r.equals([0,0])},_getTopLeftPoint:function(r,a){var u=r&&a!==void 0?this._getNewPixelOrigin(r,a):this.getPixelOrigin();return u.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(r,a){var u=this.getSize()._divideBy(2);return this.project(r,a)._subtract(u)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(r,a,u){var h=this._getNewPixelOrigin(u,a);return this.project(r,a)._subtract(h)},_latLngBoundsToNewLayerBounds:function(r,a,u){var h=this._getNewPixelOrigin(u,a);return ee([this.project(r.getSouthWest(),a)._subtract(h),this.project(r.getNorthWest(),a)._subtract(h),this.project(r.getSouthEast(),a)._subtract(h),this.project(r.getNorthEast(),a)._subtract(h)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(r){return this.latLngToLayerPoint(r).subtract(this._getCenterLayerPoint())},_limitCenter:function(r,a,u){if(!u)return r;var h=this.project(r,a),f=this.getSize().divideBy(2),m=new Z(h.subtract(f),h.add(f)),y=this._getBoundsOffset(m,u,a);return Math.abs(y.x)<=1&&Math.abs(y.y)<=1?r:this.unproject(h.add(y),a)},_limitOffset:function(r,a){if(!a)return r;var u=this.getPixelBounds(),h=new Z(u.min.add(r),u.max.add(r));return r.add(this._getBoundsOffset(h,a))},_getBoundsOffset:function(r,a,u){var h=ee(this.project(a.getNorthEast(),u),this.project(a.getSouthWest(),u)),f=h.min.subtract(r.min),m=h.max.subtract(r.max),y=this._rebound(f.x,-m.x),x=this._rebound(f.y,-m.y);return new N(y,x)},_rebound:function(r,a){return r+a>0?Math.round(r-a)/2:Math.max(0,Math.ceil(r))-Math.max(0,Math.floor(a))},_limitZoom:function(r){var a=this.getMinZoom(),u=this.getMaxZoom(),h=V.any3d?this.options.zoomSnap:1;return h&&(r=Math.round(r/h)*h),Math.max(a,Math.min(u,r))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){be(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(r,a){var u=this._getCenterOffset(r)._trunc();return(a&&a.animate)!==!0&&!this.getSize().contains(u)?!1:(this.panBy(u,a),!0)},_createAnimProxy:function(){var r=this._proxy=ce("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(r),this.on("zoomanim",function(a){var u=yu,h=this._proxy.style[u];Ti(this._proxy,this.project(a.center,a.zoom),this.getZoomScale(a.zoom,1)),h===this._proxy.style[u]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Pe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var r=this.getCenter(),a=this.getZoom();Ti(this._proxy,this.project(r,a),this.getZoomScale(a,1))},_catchTransitionEnd:function(r){this._animatingZoom&&r.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(r,a,u){if(this._animatingZoom)return!0;if(u=u||{},!this._zoomAnimated||u.animate===!1||this._nothingToAnimate()||Math.abs(a-this._zoom)>this.options.zoomAnimationThreshold)return!1;var h=this.getZoomScale(a),f=this._getCenterOffset(r)._divideBy(1-1/h);return u.animate!==!0&&!this.getSize().contains(f)?!1:(de(function(){this._moveStart(!0,u.noMoveStart||!1)._animateZoom(r,a,!0)},this),!0)},_animateZoom:function(r,a,u,h){this._mapPane&&(u&&(this._animatingZoom=!0,this._animateToCenter=r,this._animateToZoom=a,J(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:r,zoom:a,noUpdate:h}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(l(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&be(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function qE(r,a){return new le(r,a)}var Ht=qe.extend({options:{position:"topright"},initialize:function(r){k(this,r)},getPosition:function(){return this.options.position},setPosition:function(r){var a=this._map;return a&&a.removeControl(this),this.options.position=r,a&&a.addControl(this),this},getContainer:function(){return this._container},addTo:function(r){this.remove(),this._map=r;var a=this._container=this.onAdd(r),u=this.getPosition(),h=r._controlCorners[u];return J(a,"leaflet-control"),u.indexOf("bottom")!==-1?h.insertBefore(a,h.firstChild):h.appendChild(a),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Pe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(r){this._map&&r&&r.screenX>0&&r.screenY>0&&this._map.getContainer().focus()}}),gs=function(r){return new Ht(r)};le.include({addControl:function(r){return r.addTo(this),this},removeControl:function(r){return r.remove(),this},_initControlPos:function(){var r=this._controlCorners={},a="leaflet-",u=this._controlContainer=ce("div",a+"control-container",this._container);function h(f,m){var y=a+f+" "+a+m;r[f+m]=ce("div",y,u)}h("top","left"),h("top","right"),h("bottom","left"),h("bottom","right")},_clearControlPos:function(){for(var r in this._controlCorners)Pe(this._controlCorners[r]);Pe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Cp=Ht.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(r,a,u,h){return u<h?-1:h<u?1:0}},initialize:function(r,a,u){k(this,u),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var h in r)this._addLayer(r[h],h);for(h in a)this._addLayer(a[h],h,!0)},onAdd:function(r){this._initLayout(),this._update(),this._map=r,r.on("zoomend",this._checkDisabledLayers,this);for(var a=0;a<this._layers.length;a++)this._layers[a].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(r){return Ht.prototype.addTo.call(this,r),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var r=0;r<this._layers.length;r++)this._layers[r].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(r,a){return this._addLayer(r,a),this._map?this._update():this},addOverlay:function(r,a){return this._addLayer(r,a,!0),this._map?this._update():this},removeLayer:function(r){r.off("add remove",this._onLayerChange,this);var a=this._getLayer(d(r));return a&&this._layers.splice(this._layers.indexOf(a),1),this._map?this._update():this},expand:function(){J(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var r=this._map.getSize().y-(this._container.offsetTop+50);return r<this._section.clientHeight?(J(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=r+"px"):be(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return be(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var r="leaflet-control-layers",a=this._container=ce("div",r),u=this.options.collapsed;a.setAttribute("aria-haspopup",!0),_s(a),Ru(a);var h=this._section=ce("section",r+"-list");u&&(this._map.on("click",this.collapse,this),X(a,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var f=this._layersLink=ce("a",r+"-toggle",a);f.href="#",f.title="Layers",f.setAttribute("role","button"),X(f,{keydown:function(m){m.keyCode===13&&this._expandSafely()},click:function(m){Xe(m),this._expandSafely()}},this),u||this.expand(),this._baseLayersList=ce("div",r+"-base",h),this._separator=ce("div",r+"-separator",h),this._overlaysList=ce("div",r+"-overlays",h),a.appendChild(h)},_getLayer:function(r){for(var a=0;a<this._layers.length;a++)if(this._layers[a]&&d(this._layers[a].layer)===r)return this._layers[a]},_addLayer:function(r,a,u){this._map&&r.on("add remove",this._onLayerChange,this),this._layers.push({layer:r,name:a,overlay:u}),this.options.sortLayers&&this._layers.sort(l(function(h,f){return this.options.sortFunction(h.layer,f.layer,h.name,f.name)},this)),this.options.autoZIndex&&r.setZIndex&&(this._lastZIndex++,r.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Qo(this._baseLayersList),Qo(this._overlaysList),this._layerControlInputs=[];var r,a,u,h,f=0;for(u=0;u<this._layers.length;u++)h=this._layers[u],this._addItem(h),a=a||h.overlay,r=r||!h.overlay,f+=h.overlay?0:1;return this.options.hideSingleBase&&(r=r&&f>1,this._baseLayersList.style.display=r?"":"none"),this._separator.style.display=a&&r?"":"none",this},_onLayerChange:function(r){this._handlingClick||this._update();var a=this._getLayer(d(r.target)),u=a.overlay?r.type==="add"?"overlayadd":"overlayremove":r.type==="add"?"baselayerchange":null;u&&this._map.fire(u,a)},_createRadioElement:function(r,a){var u='<input type="radio" class="leaflet-control-layers-selector" name="'+r+'"'+(a?' checked="checked"':"")+"/>",h=document.createElement("div");return h.innerHTML=u,h.firstChild},_addItem:function(r){var a=document.createElement("label"),u=this._map.hasLayer(r.layer),h;r.overlay?(h=document.createElement("input"),h.type="checkbox",h.className="leaflet-control-layers-selector",h.defaultChecked=u):h=this._createRadioElement("leaflet-base-layers_"+d(this),u),this._layerControlInputs.push(h),h.layerId=d(r.layer),X(h,"click",this._onInputClick,this);var f=document.createElement("span");f.innerHTML=" "+r.name;var m=document.createElement("span");a.appendChild(m),m.appendChild(h),m.appendChild(f);var y=r.overlay?this._overlaysList:this._baseLayersList;return y.appendChild(a),this._checkDisabledLayers(),a},_onInputClick:function(){if(!this._preventClick){var r=this._layerControlInputs,a,u,h=[],f=[];this._handlingClick=!0;for(var m=r.length-1;m>=0;m--)a=r[m],u=this._getLayer(a.layerId).layer,a.checked?h.push(u):a.checked||f.push(u);for(m=0;m<f.length;m++)this._map.hasLayer(f[m])&&this._map.removeLayer(f[m]);for(m=0;m<h.length;m++)this._map.hasLayer(h[m])||this._map.addLayer(h[m]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var r=this._layerControlInputs,a,u,h=this._map.getZoom(),f=r.length-1;f>=0;f--)a=r[f],u=this._getLayer(a.layerId).layer,a.disabled=u.options.minZoom!==void 0&&h<u.options.minZoom||u.options.maxZoom!==void 0&&h>u.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var r=this._section;this._preventClick=!0,X(r,"click",Xe),this.expand();var a=this;setTimeout(function(){ye(r,"click",Xe),a._preventClick=!1})}}),QE=function(r,a,u){return new Cp(r,a,u)},Au=Ht.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(r){var a="leaflet-control-zoom",u=ce("div",a+" leaflet-bar"),h=this.options;return this._zoomInButton=this._createButton(h.zoomInText,h.zoomInTitle,a+"-in",u,this._zoomIn),this._zoomOutButton=this._createButton(h.zoomOutText,h.zoomOutTitle,a+"-out",u,this._zoomOut),this._updateDisabled(),r.on("zoomend zoomlevelschange",this._updateDisabled,this),u},onRemove:function(r){r.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(r){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(r.shiftKey?3:1))},_zoomOut:function(r){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(r.shiftKey?3:1))},_createButton:function(r,a,u,h,f){var m=ce("a",u,h);return m.innerHTML=r,m.href="#",m.title=a,m.setAttribute("role","button"),m.setAttribute("aria-label",a),_s(m),X(m,"click",ki),X(m,"click",f,this),X(m,"click",this._refocusOnMap,this),m},_updateDisabled:function(){var r=this._map,a="leaflet-disabled";be(this._zoomInButton,a),be(this._zoomOutButton,a),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||r._zoom===r.getMinZoom())&&(J(this._zoomOutButton,a),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||r._zoom===r.getMaxZoom())&&(J(this._zoomInButton,a),this._zoomInButton.setAttribute("aria-disabled","true"))}});le.mergeOptions({zoomControl:!0}),le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Au,this.addControl(this.zoomControl))});var XE=function(r){return new Au(r)},Tp=Ht.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(r){var a="leaflet-control-scale",u=ce("div",a),h=this.options;return this._addScales(h,a+"-line",u),r.on(h.updateWhenIdle?"moveend":"move",this._update,this),r.whenReady(this._update,this),u},onRemove:function(r){r.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(r,a,u){r.metric&&(this._mScale=ce("div",a,u)),r.imperial&&(this._iScale=ce("div",a,u))},_update:function(){var r=this._map,a=r.getSize().y/2,u=r.distance(r.containerPointToLatLng([0,a]),r.containerPointToLatLng([this.options.maxWidth,a]));this._updateScales(u)},_updateScales:function(r){this.options.metric&&r&&this._updateMetric(r),this.options.imperial&&r&&this._updateImperial(r)},_updateMetric:function(r){var a=this._getRoundNum(r),u=a<1e3?a+" m":a/1e3+" km";this._updateScale(this._mScale,u,a/r)},_updateImperial:function(r){var a=r*3.2808399,u,h,f;a>5280?(u=a/5280,h=this._getRoundNum(u),this._updateScale(this._iScale,h+" mi",h/u)):(f=this._getRoundNum(a),this._updateScale(this._iScale,f+" ft",f/a))},_updateScale:function(r,a,u){r.style.width=Math.round(this.options.maxWidth*u)+"px",r.innerHTML=a},_getRoundNum:function(r){var a=Math.pow(10,(Math.floor(r)+"").length-1),u=r/a;return u=u>=10?10:u>=5?5:u>=3?3:u>=2?2:1,a*u}}),JE=function(r){return new Tp(r)},eC='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Mu=Ht.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(V.inlineSvg?eC+" ":"")+"Leaflet</a>"},initialize:function(r){k(this,r),this._attributions={}},onAdd:function(r){r.attributionControl=this,this._container=ce("div","leaflet-control-attribution"),_s(this._container);for(var a in r._layers)r._layers[a].getAttribution&&this.addAttribution(r._layers[a].getAttribution());return this._update(),r.on("layeradd",this._addAttribution,this),this._container},onRemove:function(r){r.off("layeradd",this._addAttribution,this)},_addAttribution:function(r){r.layer.getAttribution&&(this.addAttribution(r.layer.getAttribution()),r.layer.once("remove",function(){this.removeAttribution(r.layer.getAttribution())},this))},setPrefix:function(r){return this.options.prefix=r,this._update(),this},addAttribution:function(r){return r?(this._attributions[r]||(this._attributions[r]=0),this._attributions[r]++,this._update(),this):this},removeAttribution:function(r){return r?(this._attributions[r]&&(this._attributions[r]--,this._update()),this):this},_update:function(){if(this._map){var r=[];for(var a in this._attributions)this._attributions[a]&&r.push(a);var u=[];this.options.prefix&&u.push(this.options.prefix),r.length&&u.push(r.join(", ")),this._container.innerHTML=u.join(' <span aria-hidden="true">|</span> ')}}});le.mergeOptions({attributionControl:!0}),le.addInitHook(function(){this.options.attributionControl&&new Mu().addTo(this)});var tC=function(r){return new Mu(r)};Ht.Layers=Cp,Ht.Zoom=Au,Ht.Scale=Tp,Ht.Attribution=Mu,gs.layers=QE,gs.zoom=XE,gs.scale=JE,gs.attribution=tC;var on=qe.extend({initialize:function(r){this._map=r},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});on.addTo=function(r,a){return r.addHandler(a,this),this};var nC={Events:ge},Sp=V.touch?"touchstart mousedown":"mousedown",jn=Qe.extend({options:{clickTolerance:3},initialize:function(r,a,u,h){k(this,h),this._element=r,this._dragStartTarget=a||r,this._preventOutline=u},enable:function(){this._enabled||(X(this._dragStartTarget,Sp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(jn._dragging===this&&this.finishDrag(!0),ye(this._dragStartTarget,Sp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(r){if(this._enabled&&(this._moved=!1,!wu(this._element,"leaflet-zoom-anim"))){if(r.touches&&r.touches.length!==1){jn._dragging===this&&this.finishDrag();return}if(!(jn._dragging||r.shiftKey||r.which!==1&&r.button!==1&&!r.touches)&&(jn._dragging=this,this._preventOutline&&ku(this._element),Tu(),fs(),!this._moving)){this.fire("down");var a=r.touches?r.touches[0]:r,u=_p(this._element);this._startPoint=new N(a.clientX,a.clientY),this._startPos=Si(this._element),this._parentScale=Iu(u);var h=r.type==="mousedown";X(document,h?"mousemove":"touchmove",this._onMove,this),X(document,h?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(r){if(this._enabled){if(r.touches&&r.touches.length>1){this._moved=!0;return}var a=r.touches&&r.touches.length===1?r.touches[0]:r,u=new N(a.clientX,a.clientY)._subtract(this._startPoint);!u.x&&!u.y||Math.abs(u.x)+Math.abs(u.y)<this.options.clickTolerance||(u.x/=this._parentScale.x,u.y/=this._parentScale.y,Xe(r),this._moved||(this.fire("dragstart"),this._moved=!0,J(document.body,"leaflet-dragging"),this._lastTarget=r.target||r.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),J(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(u),this._moving=!0,this._lastEvent=r,this._updatePosition())}},_updatePosition:function(){var r={originalEvent:this._lastEvent};this.fire("predrag",r),Fe(this._element,this._newPos),this.fire("drag",r)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(r){be(document.body,"leaflet-dragging"),this._lastTarget&&(be(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ye(document,"mousemove touchmove",this._onMove,this),ye(document,"mouseup touchend touchcancel",this._onUp,this),Su(),ps();var a=this._moved&&this._moving;this._moving=!1,jn._dragging=!1,a&&this.fire("dragend",{noInertia:r,distance:this._newPos.distanceTo(this._startPos)})}});function xp(r,a,u){var h,f=[1,4,2,8],m,y,x,I,O,H,$,te;for(m=0,H=r.length;m<H;m++)r[m]._code=Ii(r[m],a);for(x=0;x<4;x++){for($=f[x],h=[],m=0,H=r.length,y=H-1;m<H;y=m++)I=r[m],O=r[y],I._code&$?O._code&$||(te=na(O,I,$,a,u),te._code=Ii(te,a),h.push(te)):(O._code&$&&(te=na(O,I,$,a,u),te._code=Ii(te,a),h.push(te)),h.push(I));r=h}return r}function kp(r,a){var u,h,f,m,y,x,I,O,H;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var $=K([0,0]),te=ae(r),ut=te.getNorthWest().distanceTo(te.getSouthWest())*te.getNorthEast().distanceTo(te.getNorthWest());ut<1700&&($=bu(r));var Ve=r.length,Mt=[];for(u=0;u<Ve;u++){var pt=K(r[u]);Mt.push(a.project(K([pt.lat-$.lat,pt.lng-$.lng])))}for(x=I=O=0,u=0,h=Ve-1;u<Ve;h=u++)f=Mt[u],m=Mt[h],y=f.y*m.x-m.y*f.x,I+=(f.x+m.x)*y,O+=(f.y+m.y)*y,x+=y*3;x===0?H=Mt[0]:H=[I/x,O/x];var hr=a.unproject(b(H));return K([hr.lat+$.lat,hr.lng+$.lng])}function bu(r){for(var a=0,u=0,h=0,f=0;f<r.length;f++){var m=K(r[f]);a+=m.lat,u+=m.lng,h++}return K([a/h,u/h])}var iC={__proto__:null,clipPolygon:xp,polygonCenter:kp,centroid:bu};function Ip(r,a){if(!a||!r.length)return r.slice();var u=a*a;return r=oC(r,u),r=sC(r,u),r}function Pp(r,a,u){return Math.sqrt(vs(r,a,u,!0))}function rC(r,a,u){return vs(r,a,u)}function sC(r,a){var u=r.length,h=typeof Uint8Array<"u"?Uint8Array:Array,f=new h(u);f[0]=f[u-1]=1,Du(r,f,a,0,u-1);var m,y=[];for(m=0;m<u;m++)f[m]&&y.push(r[m]);return y}function Du(r,a,u,h,f){var m=0,y,x,I;for(x=h+1;x<=f-1;x++)I=vs(r[x],r[h],r[f],!0),I>m&&(y=x,m=I);m>u&&(a[y]=1,Du(r,a,u,h,y),Du(r,a,u,y,f))}function oC(r,a){for(var u=[r[0]],h=1,f=0,m=r.length;h<m;h++)aC(r[h],r[f])>a&&(u.push(r[h]),f=h);return f<m-1&&u.push(r[m-1]),u}var Np;function Lp(r,a,u,h,f){var m=h?Np:Ii(r,u),y=Ii(a,u),x,I,O;for(Np=y;;){if(!(m|y))return[r,a];if(m&y)return!1;x=m||y,I=na(r,a,x,u,f),O=Ii(I,u),x===m?(r=I,m=O):(a=I,y=O)}}function na(r,a,u,h,f){var m=a.x-r.x,y=a.y-r.y,x=h.min,I=h.max,O,H;return u&8?(O=r.x+m*(I.y-r.y)/y,H=I.y):u&4?(O=r.x+m*(x.y-r.y)/y,H=x.y):u&2?(O=I.x,H=r.y+y*(I.x-r.x)/m):u&1&&(O=x.x,H=r.y+y*(x.x-r.x)/m),new N(O,H,f)}function Ii(r,a){var u=0;return r.x<a.min.x?u|=1:r.x>a.max.x&&(u|=2),r.y<a.min.y?u|=4:r.y>a.max.y&&(u|=8),u}function aC(r,a){var u=a.x-r.x,h=a.y-r.y;return u*u+h*h}function vs(r,a,u,h){var f=a.x,m=a.y,y=u.x-f,x=u.y-m,I=y*y+x*x,O;return I>0&&(O=((r.x-f)*y+(r.y-m)*x)/I,O>1?(f=u.x,m=u.y):O>0&&(f+=y*O,m+=x*O)),y=r.x-f,x=r.y-m,h?y*y+x*x:new N(f,m)}function At(r){return!C(r[0])||typeof r[0][0]!="object"&&typeof r[0][0]<"u"}function Rp(r){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),At(r)}function Op(r,a){var u,h,f,m,y,x,I,O;if(!r||r.length===0)throw new Error("latlngs not passed");At(r)||(console.warn("latlngs are not flat! Only the first ring will be used"),r=r[0]);var H=K([0,0]),$=ae(r),te=$.getNorthWest().distanceTo($.getSouthWest())*$.getNorthEast().distanceTo($.getNorthWest());te<1700&&(H=bu(r));var ut=r.length,Ve=[];for(u=0;u<ut;u++){var Mt=K(r[u]);Ve.push(a.project(K([Mt.lat-H.lat,Mt.lng-H.lng])))}for(u=0,h=0;u<ut-1;u++)h+=Ve[u].distanceTo(Ve[u+1])/2;if(h===0)O=Ve[0];else for(u=0,m=0;u<ut-1;u++)if(y=Ve[u],x=Ve[u+1],f=y.distanceTo(x),m+=f,m>h){I=(m-h)/f,O=[x.x-I*(x.x-y.x),x.y-I*(x.y-y.y)];break}var pt=a.unproject(b(O));return K([pt.lat+H.lat,pt.lng+H.lng])}var lC={__proto__:null,simplify:Ip,pointToSegmentDistance:Pp,closestPointOnSegment:rC,clipSegment:Lp,_getEdgeIntersection:na,_getBitCode:Ii,_sqClosestPointOnSegment:vs,isFlat:At,_flat:Rp,polylineCenter:Op},zu={project:function(r){return new N(r.lng,r.lat)},unproject:function(r){return new q(r.y,r.x)},bounds:new Z([-180,-90],[180,90])},Fu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Z([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(r){var a=Math.PI/180,u=this.R,h=r.lat*a,f=this.R_MINOR/u,m=Math.sqrt(1-f*f),y=m*Math.sin(h),x=Math.tan(Math.PI/4-h/2)/Math.pow((1-y)/(1+y),m/2);return h=-u*Math.log(Math.max(x,1e-10)),new N(r.lng*a*u,h)},unproject:function(r){for(var a=180/Math.PI,u=this.R,h=this.R_MINOR/u,f=Math.sqrt(1-h*h),m=Math.exp(-r.y/u),y=Math.PI/2-2*Math.atan(m),x=0,I=.1,O;x<15&&Math.abs(I)>1e-7;x++)O=f*Math.sin(y),O=Math.pow((1-O)/(1+O),f/2),I=Math.PI/2-2*Math.atan(m*O)-y,y+=I;return new q(y*a,r.x*a/u)}},uC={__proto__:null,LonLat:zu,Mercator:Fu,SphericalMercator:wi},cC=s({},nn,{code:"EPSG:3395",projection:Fu,transformation:function(){var r=.5/(Math.PI*Fu.R);return Hn(r,.5,-r,.5)}()}),Ap=s({},nn,{code:"EPSG:4326",projection:zu,transformation:Hn(1/180,1,-1/180,.5)}),hC=s({},nt,{projection:zu,transformation:Hn(1,0,-1,0),scale:function(r){return Math.pow(2,r)},zoom:function(r){return Math.log(r)/Math.LN2},distance:function(r,a){var u=a.lng-r.lng,h=a.lat-r.lat;return Math.sqrt(u*u+h*h)},infinite:!0});nt.Earth=nn,nt.EPSG3395=cC,nt.EPSG3857=Ei,nt.EPSG900913=nr,nt.EPSG4326=Ap,nt.Simple=hC;var jt=Qe.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(r){return r.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(r){return r&&r.removeLayer(this),this},getPane:function(r){return this._map.getPane(r?this.options[r]||r:this.options.pane)},addInteractiveTarget:function(r){return this._map._targets[d(r)]=this,this},removeInteractiveTarget:function(r){return delete this._map._targets[d(r)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(r){var a=r.target;if(a.hasLayer(this)){if(this._map=a,this._zoomAnimated=a._zoomAnimated,this.getEvents){var u=this.getEvents();a.on(u,this),this.once("remove",function(){a.off(u,this)},this)}this.onAdd(a),this.fire("add"),a.fire("layeradd",{layer:this})}}});le.include({addLayer:function(r){if(!r._layerAdd)throw new Error("The provided object is not a Layer.");var a=d(r);return this._layers[a]?this:(this._layers[a]=r,r._mapToAdd=this,r.beforeAdd&&r.beforeAdd(this),this.whenReady(r._layerAdd,r),this)},removeLayer:function(r){var a=d(r);return this._layers[a]?(this._loaded&&r.onRemove(this),delete this._layers[a],this._loaded&&(this.fire("layerremove",{layer:r}),r.fire("remove")),r._map=r._mapToAdd=null,this):this},hasLayer:function(r){return d(r)in this._layers},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},_addLayers:function(r){r=r?C(r)?r:[r]:[];for(var a=0,u=r.length;a<u;a++)this.addLayer(r[a])},_addZoomLimit:function(r){(!isNaN(r.options.maxZoom)||!isNaN(r.options.minZoom))&&(this._zoomBoundLayers[d(r)]=r,this._updateZoomLevels())},_removeZoomLimit:function(r){var a=d(r);this._zoomBoundLayers[a]&&(delete this._zoomBoundLayers[a],this._updateZoomLevels())},_updateZoomLevels:function(){var r=1/0,a=-1/0,u=this._getZoomSpan();for(var h in this._zoomBoundLayers){var f=this._zoomBoundLayers[h].options;r=f.minZoom===void 0?r:Math.min(r,f.minZoom),a=f.maxZoom===void 0?a:Math.max(a,f.maxZoom)}this._layersMaxZoom=a===-1/0?void 0:a,this._layersMinZoom=r===1/0?void 0:r,u!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var or=jt.extend({initialize:function(r,a){k(this,a),this._layers={};var u,h;if(r)for(u=0,h=r.length;u<h;u++)this.addLayer(r[u])},addLayer:function(r){var a=this.getLayerId(r);return this._layers[a]=r,this._map&&this._map.addLayer(r),this},removeLayer:function(r){var a=r in this._layers?r:this.getLayerId(r);return this._map&&this._layers[a]&&this._map.removeLayer(this._layers[a]),delete this._layers[a],this},hasLayer:function(r){var a=typeof r=="number"?r:this.getLayerId(r);return a in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(r){var a=Array.prototype.slice.call(arguments,1),u,h;for(u in this._layers)h=this._layers[u],h[r]&&h[r].apply(h,a);return this},onAdd:function(r){this.eachLayer(r.addLayer,r)},onRemove:function(r){this.eachLayer(r.removeLayer,r)},eachLayer:function(r,a){for(var u in this._layers)r.call(a,this._layers[u]);return this},getLayer:function(r){return this._layers[r]},getLayers:function(){var r=[];return this.eachLayer(r.push,r),r},setZIndex:function(r){return this.invoke("setZIndex",r)},getLayerId:function(r){return d(r)}}),dC=function(r,a){return new or(r,a)},vn=or.extend({addLayer:function(r){return this.hasLayer(r)?this:(r.addEventParent(this),or.prototype.addLayer.call(this,r),this.fire("layeradd",{layer:r}))},removeLayer:function(r){return this.hasLayer(r)?(r in this._layers&&(r=this._layers[r]),r.removeEventParent(this),or.prototype.removeLayer.call(this,r),this.fire("layerremove",{layer:r})):this},setStyle:function(r){return this.invoke("setStyle",r)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var r=new ve;for(var a in this._layers){var u=this._layers[a];r.extend(u.getBounds?u.getBounds():u.getLatLng())}return r}}),fC=function(r,a){return new vn(r,a)},ar=qe.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(r){k(this,r)},createIcon:function(r){return this._createIcon("icon",r)},createShadow:function(r){return this._createIcon("shadow",r)},_createIcon:function(r,a){var u=this._getIconUrl(r);if(!u){if(r==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var h=this._createImg(u,a&&a.tagName==="IMG"?a:null);return this._setIconStyles(h,r),(this.options.crossOrigin||this.options.crossOrigin==="")&&(h.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),h},_setIconStyles:function(r,a){var u=this.options,h=u[a+"Size"];typeof h=="number"&&(h=[h,h]);var f=b(h),m=b(a==="shadow"&&u.shadowAnchor||u.iconAnchor||f&&f.divideBy(2,!0));r.className="leaflet-marker-"+a+" "+(u.className||""),m&&(r.style.marginLeft=-m.x+"px",r.style.marginTop=-m.y+"px"),f&&(r.style.width=f.x+"px",r.style.height=f.y+"px")},_createImg:function(r,a){return a=a||document.createElement("img"),a.src=r,a},_getIconUrl:function(r){return V.retina&&this.options[r+"RetinaUrl"]||this.options[r+"Url"]}});function pC(r){return new ar(r)}var ys=ar.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(r){return typeof ys.imagePath!="string"&&(ys.imagePath=this._detectIconPath()),(this.options.imagePath||ys.imagePath)+ar.prototype._getIconUrl.call(this,r)},_stripUrl:function(r){var a=function(u,h,f){var m=h.exec(u);return m&&m[f]};return r=a(r,/^url\((['"])?(.+)\1\)$/,2),r&&a(r,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var r=ce("div","leaflet-default-icon-path",document.body),a=ds(r,"background-image")||ds(r,"backgroundImage");if(document.body.removeChild(r),a=this._stripUrl(a),a)return a;var u=document.querySelector('link[href$="leaflet.css"]');return u?u.href.substring(0,u.href.length-11-1):""}}),Mp=on.extend({initialize:function(r){this._marker=r},addHooks:function(){var r=this._marker._icon;this._draggable||(this._draggable=new jn(r,r,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),J(r,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&be(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(r){var a=this._marker,u=a._map,h=this._marker.options.autoPanSpeed,f=this._marker.options.autoPanPadding,m=Si(a._icon),y=u.getPixelBounds(),x=u.getPixelOrigin(),I=ee(y.min._subtract(x).add(f),y.max._subtract(x).subtract(f));if(!I.contains(m)){var O=b((Math.max(I.max.x,m.x)-I.max.x)/(y.max.x-I.max.x)-(Math.min(I.min.x,m.x)-I.min.x)/(y.min.x-I.min.x),(Math.max(I.max.y,m.y)-I.max.y)/(y.max.y-I.max.y)-(Math.min(I.min.y,m.y)-I.min.y)/(y.min.y-I.min.y)).multiplyBy(h);u.panBy(O,{animate:!1}),this._draggable._newPos._add(O),this._draggable._startPos._add(O),Fe(a._icon,this._draggable._newPos),this._onDrag(r),this._panRequest=de(this._adjustPan.bind(this,r))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(r){this._marker.options.autoPan&&(Oe(this._panRequest),this._panRequest=de(this._adjustPan.bind(this,r)))},_onDrag:function(r){var a=this._marker,u=a._shadow,h=Si(a._icon),f=a._map.layerPointToLatLng(h);u&&Fe(u,h),a._latlng=f,r.latlng=f,r.oldLatLng=this._oldLatLng,a.fire("move",r).fire("drag",r)},_onDragEnd:function(r){Oe(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",r)}}),ia=jt.extend({options:{icon:new ys,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(r,a){k(this,a),this._latlng=K(r)},onAdd:function(r){this._zoomAnimated=this._zoomAnimated&&r.options.markerZoomAnimation,this._zoomAnimated&&r.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(r){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&r.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(r){var a=this._latlng;return this._latlng=K(r),this.update(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},setZIndexOffset:function(r){return this.options.zIndexOffset=r,this.update()},getIcon:function(){return this.options.icon},setIcon:function(r){return this.options.icon=r,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var r=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(r)}return this},_initIcon:function(){var r=this.options,a="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),u=r.icon.createIcon(this._icon),h=!1;u!==this._icon&&(this._icon&&this._removeIcon(),h=!0,r.title&&(u.title=r.title),u.tagName==="IMG"&&(u.alt=r.alt||"")),J(u,a),r.keyboard&&(u.tabIndex="0",u.setAttribute("role","button")),this._icon=u,r.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&X(u,"focus",this._panOnFocus,this);var f=r.icon.createShadow(this._shadow),m=!1;f!==this._shadow&&(this._removeShadow(),m=!0),f&&(J(f,a),f.alt=""),this._shadow=f,r.opacity<1&&this._updateOpacity(),h&&this.getPane().appendChild(this._icon),this._initInteraction(),f&&m&&this.getPane(r.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ye(this._icon,"focus",this._panOnFocus,this),Pe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Pe(this._shadow),this._shadow=null},_setPos:function(r){this._icon&&Fe(this._icon,r),this._shadow&&Fe(this._shadow,r),this._zIndex=r.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(r){this._icon&&(this._icon.style.zIndex=this._zIndex+r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center).round();this._setPos(a)},_initInteraction:function(){if(this.options.interactive&&(J(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Mp)){var r=this.options.draggable;this.dragging&&(r=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Mp(this),r&&this.dragging.enable()}},setOpacity:function(r){return this.options.opacity=r,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var r=this.options.opacity;this._icon&&Ot(this._icon,r),this._shadow&&Ot(this._shadow,r)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var r=this._map;if(r){var a=this.options.icon.options,u=a.iconSize?b(a.iconSize):b(0,0),h=a.iconAnchor?b(a.iconAnchor):b(0,0);r.panInside(this._latlng,{paddingTopLeft:h,paddingBottomRight:u.subtract(h)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function mC(r,a){return new ia(r,a)}var Wn=jt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(r){this._renderer=r.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(r){return k(this,r),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&r&&Object.prototype.hasOwnProperty.call(r,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),ra=Wn.extend({options:{fill:!0,radius:10},initialize:function(r,a){k(this,a),this._latlng=K(r),this._radius=this.options.radius},setLatLng:function(r){var a=this._latlng;return this._latlng=K(r),this.redraw(),this.fire("move",{oldLatLng:a,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(r){return this.options.radius=this._radius=r,this.redraw()},getRadius:function(){return this._radius},setStyle:function(r){var a=r&&r.radius||this._radius;return Wn.prototype.setStyle.call(this,r),this.setRadius(a),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var r=this._radius,a=this._radiusY||r,u=this._clickTolerance(),h=[r+u,a+u];this._pxBounds=new Z(this._point.subtract(h),this._point.add(h))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(r){return r.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function _C(r,a){return new ra(r,a)}var Bu=ra.extend({initialize:function(r,a,u){if(typeof a=="number"&&(a=s({},u,{radius:a})),k(this,a),this._latlng=K(r),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(r){return this._mRadius=r,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var r=[this._radius,this._radiusY||this._radius];return new ve(this._map.layerPointToLatLng(this._point.subtract(r)),this._map.layerPointToLatLng(this._point.add(r)))},setStyle:Wn.prototype.setStyle,_project:function(){var r=this._latlng.lng,a=this._latlng.lat,u=this._map,h=u.options.crs;if(h.distance===nn.distance){var f=Math.PI/180,m=this._mRadius/nn.R/f,y=u.project([a+m,r]),x=u.project([a-m,r]),I=y.add(x).divideBy(2),O=u.unproject(I).lat,H=Math.acos((Math.cos(m*f)-Math.sin(a*f)*Math.sin(O*f))/(Math.cos(a*f)*Math.cos(O*f)))/f;(isNaN(H)||H===0)&&(H=m/Math.cos(Math.PI/180*a)),this._point=I.subtract(u.getPixelOrigin()),this._radius=isNaN(H)?0:I.x-u.project([O,r-H]).x,this._radiusY=I.y-y.y}else{var $=h.unproject(h.project(this._latlng).subtract([this._mRadius,0]));this._point=u.latLngToLayerPoint(this._latlng),this._radius=this._point.x-u.latLngToLayerPoint($).x}this._updateBounds()}});function gC(r,a,u){return new Bu(r,a,u)}var yn=Wn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(r,a){k(this,a),this._setLatLngs(r)},getLatLngs:function(){return this._latlngs},setLatLngs:function(r){return this._setLatLngs(r),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(r){for(var a=1/0,u=null,h=vs,f,m,y=0,x=this._parts.length;y<x;y++)for(var I=this._parts[y],O=1,H=I.length;O<H;O++){f=I[O-1],m=I[O];var $=h(r,f,m,!0);$<a&&(a=$,u=h(r,f,m))}return u&&(u.distance=Math.sqrt(a)),u},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Op(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(r,a){return a=a||this._defaultShape(),r=K(r),a.push(r),this._bounds.extend(r),this.redraw()},_setLatLngs:function(r){this._bounds=new ve,this._latlngs=this._convertLatLngs(r)},_defaultShape:function(){return At(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(r){for(var a=[],u=At(r),h=0,f=r.length;h<f;h++)u?(a[h]=K(r[h]),this._bounds.extend(a[h])):a[h]=this._convertLatLngs(r[h]);return a},_project:function(){var r=new Z;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,r),this._bounds.isValid()&&r.isValid()&&(this._rawPxBounds=r,this._updateBounds())},_updateBounds:function(){var r=this._clickTolerance(),a=new N(r,r);this._rawPxBounds&&(this._pxBounds=new Z([this._rawPxBounds.min.subtract(a),this._rawPxBounds.max.add(a)]))},_projectLatlngs:function(r,a,u){var h=r[0]instanceof q,f=r.length,m,y;if(h){for(y=[],m=0;m<f;m++)y[m]=this._map.latLngToLayerPoint(r[m]),u.extend(y[m]);a.push(y)}else for(m=0;m<f;m++)this._projectLatlngs(r[m],a,u)},_clipPoints:function(){var r=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}var a=this._parts,u,h,f,m,y,x,I;for(u=0,f=0,m=this._rings.length;u<m;u++)for(I=this._rings[u],h=0,y=I.length;h<y-1;h++)x=Lp(I[h],I[h+1],r,h,!0),x&&(a[f]=a[f]||[],a[f].push(x[0]),(x[1]!==I[h+1]||h===y-2)&&(a[f].push(x[1]),f++))}},_simplifyPoints:function(){for(var r=this._parts,a=this.options.smoothFactor,u=0,h=r.length;u<h;u++)r[u]=Ip(r[u],a)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(r,a){var u,h,f,m,y,x,I=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(u=0,m=this._parts.length;u<m;u++)for(x=this._parts[u],h=0,y=x.length,f=y-1;h<y;f=h++)if(!(!a&&h===0)&&Pp(r,x[f],x[h])<=I)return!0;return!1}});function vC(r,a){return new yn(r,a)}yn._flat=Rp;var lr=yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return kp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(r){var a=yn.prototype._convertLatLngs.call(this,r),u=a.length;return u>=2&&a[0]instanceof q&&a[0].equals(a[u-1])&&a.pop(),a},_setLatLngs:function(r){yn.prototype._setLatLngs.call(this,r),At(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return At(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var r=this._renderer._bounds,a=this.options.weight,u=new N(a,a);if(r=new Z(r.min.subtract(u),r.max.add(u)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(r))){if(this.options.noClip){this._parts=this._rings;return}for(var h=0,f=this._rings.length,m;h<f;h++)m=xp(this._rings[h],r,!0),m.length&&this._parts.push(m)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(r){var a=!1,u,h,f,m,y,x,I,O;if(!this._pxBounds||!this._pxBounds.contains(r))return!1;for(m=0,I=this._parts.length;m<I;m++)for(u=this._parts[m],y=0,O=u.length,x=O-1;y<O;x=y++)h=u[y],f=u[x],h.y>r.y!=f.y>r.y&&r.x<(f.x-h.x)*(r.y-h.y)/(f.y-h.y)+h.x&&(a=!a);return a||yn.prototype._containsPoint.call(this,r,!0)}});function yC(r,a){return new lr(r,a)}var wn=vn.extend({initialize:function(r,a){k(this,a),this._layers={},r&&this.addData(r)},addData:function(r){var a=C(r)?r:r.features,u,h,f;if(a){for(u=0,h=a.length;u<h;u++)f=a[u],(f.geometries||f.geometry||f.features||f.coordinates)&&this.addData(f);return this}var m=this.options;if(m.filter&&!m.filter(r))return this;var y=sa(r,m);return y?(y.feature=la(r),y.defaultOptions=y.options,this.resetStyle(y),m.onEachFeature&&m.onEachFeature(r,y),this.addLayer(y)):this},resetStyle:function(r){return r===void 0?this.eachLayer(this.resetStyle,this):(r.options=s({},r.defaultOptions),this._setLayerStyle(r,this.options.style),this)},setStyle:function(r){return this.eachLayer(function(a){this._setLayerStyle(a,r)},this)},_setLayerStyle:function(r,a){r.setStyle&&(typeof a=="function"&&(a=a(r.feature)),r.setStyle(a))}});function sa(r,a){var u=r.type==="Feature"?r.geometry:r,h=u?u.coordinates:null,f=[],m=a&&a.pointToLayer,y=a&&a.coordsToLatLng||Uu,x,I,O,H;if(!h&&!u)return null;switch(u.type){case"Point":return x=y(h),bp(m,r,x,a);case"MultiPoint":for(O=0,H=h.length;O<H;O++)x=y(h[O]),f.push(bp(m,r,x,a));return new vn(f);case"LineString":case"MultiLineString":return I=oa(h,u.type==="LineString"?0:1,y),new yn(I,a);case"Polygon":case"MultiPolygon":return I=oa(h,u.type==="Polygon"?1:2,y),new lr(I,a);case"GeometryCollection":for(O=0,H=u.geometries.length;O<H;O++){var $=sa({geometry:u.geometries[O],type:"Feature",properties:r.properties},a);$&&f.push($)}return new vn(f);case"FeatureCollection":for(O=0,H=u.features.length;O<H;O++){var te=sa(u.features[O],a);te&&f.push(te)}return new vn(f);default:throw new Error("Invalid GeoJSON object.")}}function bp(r,a,u,h){return r?r(a,u):new ia(u,h&&h.markersInheritOptions&&h)}function Uu(r){return new q(r[1],r[0],r[2])}function oa(r,a,u){for(var h=[],f=0,m=r.length,y;f<m;f++)y=a?oa(r[f],a-1,u):(u||Uu)(r[f]),h.push(y);return h}function Hu(r,a){return r=K(r),r.alt!==void 0?[v(r.lng,a),v(r.lat,a),v(r.alt,a)]:[v(r.lng,a),v(r.lat,a)]}function aa(r,a,u,h){for(var f=[],m=0,y=r.length;m<y;m++)f.push(a?aa(r[m],At(r[m])?0:a-1,u,h):Hu(r[m],h));return!a&&u&&f.length>0&&f.push(f[0].slice()),f}function ur(r,a){return r.feature?s({},r.feature,{geometry:a}):la(a)}function la(r){return r.type==="Feature"||r.type==="FeatureCollection"?r:{type:"Feature",properties:{},geometry:r}}var ju={toGeoJSON:function(r){return ur(this,{type:"Point",coordinates:Hu(this.getLatLng(),r)})}};ia.include(ju),Bu.include(ju),ra.include(ju),yn.include({toGeoJSON:function(r){var a=!At(this._latlngs),u=aa(this._latlngs,a?1:0,!1,r);return ur(this,{type:(a?"Multi":"")+"LineString",coordinates:u})}}),lr.include({toGeoJSON:function(r){var a=!At(this._latlngs),u=a&&!At(this._latlngs[0]),h=aa(this._latlngs,u?2:a?1:0,!0,r);return a||(h=[h]),ur(this,{type:(u?"Multi":"")+"Polygon",coordinates:h})}}),or.include({toMultiPoint:function(r){var a=[];return this.eachLayer(function(u){a.push(u.toGeoJSON(r).geometry.coordinates)}),ur(this,{type:"MultiPoint",coordinates:a})},toGeoJSON:function(r){var a=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(a==="MultiPoint")return this.toMultiPoint(r);var u=a==="GeometryCollection",h=[];return this.eachLayer(function(f){if(f.toGeoJSON){var m=f.toGeoJSON(r);if(u)h.push(m.geometry);else{var y=la(m);y.type==="FeatureCollection"?h.push.apply(h,y.features):h.push(y)}}}),u?ur(this,{geometries:h,type:"GeometryCollection"}):{type:"FeatureCollection",features:h}}});function Dp(r,a){return new wn(r,a)}var wC=Dp,ua=jt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(r,a,u){this._url=r,this._bounds=ae(a),k(this,u)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(J(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Pe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(r){return this.options.opacity=r,this._image&&this._updateOpacity(),this},setStyle:function(r){return r.opacity&&this.setOpacity(r.opacity),this},bringToFront:function(){return this._map&&rr(this._image),this},bringToBack:function(){return this._map&&sr(this._image),this},setUrl:function(r){return this._url=r,this._image&&(this._image.src=r),this},setBounds:function(r){return this._bounds=ae(r),this._map&&this._reset(),this},getEvents:function(){var r={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var r=this._url.tagName==="IMG",a=this._image=r?this._url:ce("img");if(J(a,"leaflet-image-layer"),this._zoomAnimated&&J(a,"leaflet-zoom-animated"),this.options.className&&J(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onload=l(this.fire,this,"load"),a.onerror=l(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(a.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),r){this._url=a.src;return}a.src=this._url,a.alt=this.options.alt},_animateZoom:function(r){var a=this._map.getZoomScale(r.zoom),u=this._map._latLngBoundsToNewLayerBounds(this._bounds,r.zoom,r.center).min;Ti(this._image,u,a)},_reset:function(){var r=this._image,a=new Z(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),u=a.getSize();Fe(r,a.min),r.style.width=u.x+"px",r.style.height=u.y+"px"},_updateOpacity:function(){Ot(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var r=this.options.errorOverlayUrl;r&&this._url!==r&&(this._url=r,this._image.src=r)},getCenter:function(){return this._bounds.getCenter()}}),EC=function(r,a,u){return new ua(r,a,u)},zp=ua.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var r=this._url.tagName==="VIDEO",a=this._image=r?this._url:ce("video");if(J(a,"leaflet-image-layer"),this._zoomAnimated&&J(a,"leaflet-zoom-animated"),this.options.className&&J(a,this.options.className),a.onselectstart=_,a.onmousemove=_,a.onloadeddata=l(this.fire,this,"load"),r){for(var u=a.getElementsByTagName("source"),h=[],f=0;f<u.length;f++)h.push(u[f].src);this._url=u.length>0?h:[a.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(a.style,"objectFit")&&(a.style.objectFit="fill"),a.autoplay=!!this.options.autoplay,a.loop=!!this.options.loop,a.muted=!!this.options.muted,a.playsInline=!!this.options.playsInline;for(var m=0;m<this._url.length;m++){var y=ce("source");y.src=this._url[m],a.appendChild(y)}}});function CC(r,a,u){return new zp(r,a,u)}var Fp=ua.extend({_initImage:function(){var r=this._image=this._url;J(r,"leaflet-image-layer"),this._zoomAnimated&&J(r,"leaflet-zoom-animated"),this.options.className&&J(r,this.options.className),r.onselectstart=_,r.onmousemove=_}});function TC(r,a,u){return new Fp(r,a,u)}var an=jt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(r,a){r&&(r instanceof q||C(r))?(this._latlng=K(r),k(this,a)):(k(this,r),this._source=a),this.options.content&&(this._content=this.options.content)},openOn:function(r){return r=arguments.length?r:this._source._map,r.hasLayer(this)||r.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(r){return this._map?this.close():(arguments.length?this._source=r:r=this._source,this._prepareOpen(),this.openOn(r._map)),this},onAdd:function(r){this._zoomAnimated=r._zoomAnimated,this._container||this._initLayout(),r._fadeAnimated&&Ot(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),r._fadeAnimated&&Ot(this._container,1),this.bringToFront(),this.options.interactive&&(J(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(r){r._fadeAnimated?(Ot(this._container,0),this._removeTimeout=setTimeout(l(Pe,void 0,this._container),200)):Pe(this._container),this.options.interactive&&(be(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(r){return this._latlng=K(r),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(r){return this._content=r,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var r={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&rr(this._container),this},bringToBack:function(){return this._map&&sr(this._container),this},_prepareOpen:function(r){var a=this._source;if(!a._map)return!1;if(a instanceof vn){a=null;var u=this._source._layers;for(var h in u)if(u[h]._map){a=u[h];break}if(!a)return!1;this._source=a}if(!r)if(a.getCenter)r=a.getCenter();else if(a.getLatLng)r=a.getLatLng();else if(a.getBounds)r=a.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(r),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var r=this._contentNode,a=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof a=="string")r.innerHTML=a;else{for(;r.hasChildNodes();)r.removeChild(r.firstChild);r.appendChild(a)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var r=this._map.latLngToLayerPoint(this._latlng),a=b(this.options.offset),u=this._getAnchor();this._zoomAnimated?Fe(this._container,r.add(u)):a=a.add(r).add(u);var h=this._containerBottom=-a.y,f=this._containerLeft=-Math.round(this._containerWidth/2)+a.x;this._container.style.bottom=h+"px",this._container.style.left=f+"px"}},_getAnchor:function(){return[0,0]}});le.include({_initOverlay:function(r,a,u,h){var f=a;return f instanceof r||(f=new r(h).setContent(a)),u&&f.setLatLng(u),f}}),jt.include({_initOverlay:function(r,a,u,h){var f=u;return f instanceof r?(k(f,h),f._source=this):(f=a&&!h?a:new r(h,this),f.setContent(u)),f}});var ca=an.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(r){return r=arguments.length?r:this._source._map,!r.hasLayer(this)&&r._popup&&r._popup.options.autoClose&&r.removeLayer(r._popup),r._popup=this,an.prototype.openOn.call(this,r)},onAdd:function(r){an.prototype.onAdd.call(this,r),r.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Wn||this._source.on("preclick",xi))},onRemove:function(r){an.prototype.onRemove.call(this,r),r.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Wn||this._source.off("preclick",xi))},getEvents:function(){var r=an.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(r.preclick=this.close),this.options.keepInView&&(r.moveend=this._adjustPan),r},_initLayout:function(){var r="leaflet-popup",a=this._container=ce("div",r+" "+(this.options.className||"")+" leaflet-zoom-animated"),u=this._wrapper=ce("div",r+"-content-wrapper",a);if(this._contentNode=ce("div",r+"-content",u),_s(a),Ru(this._contentNode),X(a,"contextmenu",xi),this._tipContainer=ce("div",r+"-tip-container",a),this._tip=ce("div",r+"-tip",this._tipContainer),this.options.closeButton){var h=this._closeButton=ce("a",r+"-close-button",a);h.setAttribute("role","button"),h.setAttribute("aria-label","Close popup"),h.href="#close",h.innerHTML='<span aria-hidden="true">&#215;</span>',X(h,"click",function(f){Xe(f),this.close()},this)}},_updateLayout:function(){var r=this._contentNode,a=r.style;a.width="",a.whiteSpace="nowrap";var u=r.offsetWidth;u=Math.min(u,this.options.maxWidth),u=Math.max(u,this.options.minWidth),a.width=u+1+"px",a.whiteSpace="",a.height="";var h=r.offsetHeight,f=this.options.maxHeight,m="leaflet-popup-scrolled";f&&h>f?(a.height=f+"px",J(r,m)):be(r,m),this._containerWidth=this._container.offsetWidth},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center),u=this._getAnchor();Fe(this._container,a.add(u))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var r=this._map,a=parseInt(ds(this._container,"marginBottom"),10)||0,u=this._container.offsetHeight+a,h=this._containerWidth,f=new N(this._containerLeft,-u-this._containerBottom);f._add(Si(this._container));var m=r.layerPointToContainerPoint(f),y=b(this.options.autoPanPadding),x=b(this.options.autoPanPaddingTopLeft||y),I=b(this.options.autoPanPaddingBottomRight||y),O=r.getSize(),H=0,$=0;m.x+h+I.x>O.x&&(H=m.x+h-O.x+I.x),m.x-H-x.x<0&&(H=m.x-x.x),m.y+u+I.y>O.y&&($=m.y+u-O.y+I.y),m.y-$-x.y<0&&($=m.y-x.y),(H||$)&&(this.options.keepInView&&(this._autopanning=!0),r.fire("autopanstart").panBy([H,$]))}},_getAnchor:function(){return b(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),SC=function(r,a){return new ca(r,a)};le.mergeOptions({closePopupOnClick:!0}),le.include({openPopup:function(r,a,u){return this._initOverlay(ca,r,a,u).openOn(this),this},closePopup:function(r){return r=arguments.length?r:this._popup,r&&r.close(),this}}),jt.include({bindPopup:function(r,a){return this._popup=this._initOverlay(ca,this._popup,r,a),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(r){return this._popup&&(this instanceof vn||(this._popup._source=this),this._popup._prepareOpen(r||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(r){return this._popup&&this._popup.setContent(r),this},getPopup:function(){return this._popup},_openPopup:function(r){if(!(!this._popup||!this._map)){ki(r);var a=r.layer||r.target;if(this._popup._source===a&&!(a instanceof Wn)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(r.latlng);return}this._popup._source=a,this.openPopup(r.latlng)}},_movePopup:function(r){this._popup.setLatLng(r.latlng)},_onKeyPress:function(r){r.originalEvent.keyCode===13&&this._openPopup(r)}});var ha=an.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(r){an.prototype.onAdd.call(this,r),this.setOpacity(this.options.opacity),r.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(r){an.prototype.onRemove.call(this,r),r.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var r=an.prototype.getEvents.call(this);return this.options.permanent||(r.preclick=this.close),r},_initLayout:function(){var r="leaflet-tooltip",a=r+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ce("div",a),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+d(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(r){var a,u,h=this._map,f=this._container,m=h.latLngToContainerPoint(h.getCenter()),y=h.layerPointToContainerPoint(r),x=this.options.direction,I=f.offsetWidth,O=f.offsetHeight,H=b(this.options.offset),$=this._getAnchor();x==="top"?(a=I/2,u=O):x==="bottom"?(a=I/2,u=0):x==="center"?(a=I/2,u=O/2):x==="right"?(a=0,u=O/2):x==="left"?(a=I,u=O/2):y.x<m.x?(x="right",a=0,u=O/2):(x="left",a=I+(H.x+$.x)*2,u=O/2),r=r.subtract(b(a,u,!0)).add(H).add($),be(f,"leaflet-tooltip-right"),be(f,"leaflet-tooltip-left"),be(f,"leaflet-tooltip-top"),be(f,"leaflet-tooltip-bottom"),J(f,"leaflet-tooltip-"+x),Fe(f,r)},_updatePosition:function(){var r=this._map.latLngToLayerPoint(this._latlng);this._setPosition(r)},setOpacity:function(r){this.options.opacity=r,this._container&&Ot(this._container,r)},_animateZoom:function(r){var a=this._map._latLngToNewLayerPoint(this._latlng,r.zoom,r.center);this._setPosition(a)},_getAnchor:function(){return b(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),xC=function(r,a){return new ha(r,a)};le.include({openTooltip:function(r,a,u){return this._initOverlay(ha,r,a,u).openOn(this),this},closeTooltip:function(r){return r.close(),this}}),jt.include({bindTooltip:function(r,a){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ha,this._tooltip,r,a),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(r){if(!(!r&&this._tooltipHandlersAdded)){var a=r?"off":"on",u={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?u.add=this._openTooltip:(u.mouseover=this._openTooltip,u.mouseout=this.closeTooltip,u.click=this._openTooltip,this._map?this._addFocusListeners():u.add=this._addFocusListeners),this._tooltip.options.sticky&&(u.mousemove=this._moveTooltip),this[a](u),this._tooltipHandlersAdded=!r}},openTooltip:function(r){return this._tooltip&&(this instanceof vn||(this._tooltip._source=this),this._tooltip._prepareOpen(r)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(r){return this._tooltip&&this._tooltip.setContent(r),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&(X(a,"focus",function(){this._tooltip._source=r,this.openTooltip()},this),X(a,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(r){var a=typeof r.getElement=="function"&&r.getElement();a&&a.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(r){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var a=this;this._map.once("moveend",function(){a._openOnceFlag=!1,a._openTooltip(r)});return}this._tooltip._source=r.layer||r.target,this.openTooltip(this._tooltip.options.sticky?r.latlng:void 0)}},_moveTooltip:function(r){var a=r.latlng,u,h;this._tooltip.options.sticky&&r.originalEvent&&(u=this._map.mouseEventToContainerPoint(r.originalEvent),h=this._map.containerPointToLayerPoint(u),a=this._map.layerPointToLatLng(h)),this._tooltip.setLatLng(a)}});var Bp=ar.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(r){var a=r&&r.tagName==="DIV"?r:document.createElement("div"),u=this.options;if(u.html instanceof Element?(Qo(a),a.appendChild(u.html)):a.innerHTML=u.html!==!1?u.html:"",u.bgPos){var h=b(u.bgPos);a.style.backgroundPosition=-h.x+"px "+-h.y+"px"}return this._setIconStyles(a,"icon"),a},createShadow:function(){return null}});function kC(r){return new Bp(r)}ar.Default=ys;var ws=jt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:V.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(r){k(this,r)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(r){r._addZoomLimit(this)},onRemove:function(r){this._removeAllTiles(),Pe(this._container),r._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(rr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(sr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(r){return this.options.opacity=r,this._updateOpacity(),this},setZIndex:function(r){return this.options.zIndex=r,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var r=this._clampZoom(this._map.getZoom());r!==this._tileZoom&&(this._tileZoom=r,this._updateLevels()),this._update()}return this},getEvents:function(){var r={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=p(this._onMoveEnd,this.options.updateInterval,this)),r.move=this._onMove),this._zoomAnimated&&(r.zoomanim=this._animateZoom),r},createTile:function(){return document.createElement("div")},getTileSize:function(){var r=this.options.tileSize;return r instanceof N?r:new N(r,r)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(r){for(var a=this.getPane().children,u=-r(-1/0,1/0),h=0,f=a.length,m;h<f;h++)m=a[h].style.zIndex,a[h]!==this._container&&m&&(u=r(u,+m));isFinite(u)&&(this.options.zIndex=u+r(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!V.ielt9){Ot(this._container,this.options.opacity);var r=+new Date,a=!1,u=!1;for(var h in this._tiles){var f=this._tiles[h];if(!(!f.current||!f.loaded)){var m=Math.min(1,(r-f.loaded)/200);Ot(f.el,m),m<1?a=!0:(f.active?u=!0:this._onOpaqueTile(f),f.active=!0)}}u&&!this._noPrune&&this._pruneTiles(),a&&(Oe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=ce("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var r=this._tileZoom,a=this.options.maxZoom;if(r!==void 0){for(var u in this._levels)u=Number(u),this._levels[u].el.children.length||u===r?(this._levels[u].el.style.zIndex=a-Math.abs(r-u),this._onUpdateLevel(u)):(Pe(this._levels[u].el),this._removeTilesAtZoom(u),this._onRemoveLevel(u),delete this._levels[u]);var h=this._levels[r],f=this._map;return h||(h=this._levels[r]={},h.el=ce("div","leaflet-tile-container leaflet-zoom-animated",this._container),h.el.style.zIndex=a,h.origin=f.project(f.unproject(f.getPixelOrigin()),r).round(),h.zoom=r,this._setZoomTransform(h,f.getCenter(),f.getZoom()),_(h.el.offsetWidth),this._onCreateLevel(h)),this._level=h,h}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var r,a,u=this._map.getZoom();if(u>this.options.maxZoom||u<this.options.minZoom){this._removeAllTiles();return}for(r in this._tiles)a=this._tiles[r],a.retain=a.current;for(r in this._tiles)if(a=this._tiles[r],a.current&&!a.active){var h=a.coords;this._retainParent(h.x,h.y,h.z,h.z-5)||this._retainChildren(h.x,h.y,h.z,h.z+2)}for(r in this._tiles)this._tiles[r].retain||this._removeTile(r)}},_removeTilesAtZoom:function(r){for(var a in this._tiles)this._tiles[a].coords.z===r&&this._removeTile(a)},_removeAllTiles:function(){for(var r in this._tiles)this._removeTile(r)},_invalidateAll:function(){for(var r in this._levels)Pe(this._levels[r].el),this._onRemoveLevel(Number(r)),delete this._levels[r];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(r,a,u,h){var f=Math.floor(r/2),m=Math.floor(a/2),y=u-1,x=new N(+f,+m);x.z=+y;var I=this._tileCoordsToKey(x),O=this._tiles[I];return O&&O.active?(O.retain=!0,!0):(O&&O.loaded&&(O.retain=!0),y>h?this._retainParent(f,m,y,h):!1)},_retainChildren:function(r,a,u,h){for(var f=2*r;f<2*r+2;f++)for(var m=2*a;m<2*a+2;m++){var y=new N(f,m);y.z=u+1;var x=this._tileCoordsToKey(y),I=this._tiles[x];if(I&&I.active){I.retain=!0;continue}else I&&I.loaded&&(I.retain=!0);u+1<h&&this._retainChildren(f,m,u+1,h)}},_resetView:function(r){var a=r&&(r.pinch||r.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),a,a)},_animateZoom:function(r){this._setView(r.center,r.zoom,!0,r.noUpdate)},_clampZoom:function(r){var a=this.options;return a.minNativeZoom!==void 0&&r<a.minNativeZoom?a.minNativeZoom:a.maxNativeZoom!==void 0&&a.maxNativeZoom<r?a.maxNativeZoom:r},_setView:function(r,a,u,h){var f=Math.round(a);this.options.maxZoom!==void 0&&f>this.options.maxZoom||this.options.minZoom!==void 0&&f<this.options.minZoom?f=void 0:f=this._clampZoom(f);var m=this.options.updateWhenZooming&&f!==this._tileZoom;(!h||m)&&(this._tileZoom=f,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),f!==void 0&&this._update(r),u||this._pruneTiles(),this._noPrune=!!u),this._setZoomTransforms(r,a)},_setZoomTransforms:function(r,a){for(var u in this._levels)this._setZoomTransform(this._levels[u],r,a)},_setZoomTransform:function(r,a,u){var h=this._map.getZoomScale(u,r.zoom),f=r.origin.multiplyBy(h).subtract(this._map._getNewPixelOrigin(a,u)).round();V.any3d?Ti(r.el,f,h):Fe(r.el,f)},_resetGrid:function(){var r=this._map,a=r.options.crs,u=this._tileSize=this.getTileSize(),h=this._tileZoom,f=this._map.getPixelWorldBounds(this._tileZoom);f&&(this._globalTileRange=this._pxBoundsToTileRange(f)),this._wrapX=a.wrapLng&&!this.options.noWrap&&[Math.floor(r.project([0,a.wrapLng[0]],h).x/u.x),Math.ceil(r.project([0,a.wrapLng[1]],h).x/u.y)],this._wrapY=a.wrapLat&&!this.options.noWrap&&[Math.floor(r.project([a.wrapLat[0],0],h).y/u.x),Math.ceil(r.project([a.wrapLat[1],0],h).y/u.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(r){var a=this._map,u=a._animatingZoom?Math.max(a._animateToZoom,a.getZoom()):a.getZoom(),h=a.getZoomScale(u,this._tileZoom),f=a.project(r,this._tileZoom).floor(),m=a.getSize().divideBy(h*2);return new Z(f.subtract(m),f.add(m))},_update:function(r){var a=this._map;if(a){var u=this._clampZoom(a.getZoom());if(r===void 0&&(r=a.getCenter()),this._tileZoom!==void 0){var h=this._getTiledPixelBounds(r),f=this._pxBoundsToTileRange(h),m=f.getCenter(),y=[],x=this.options.keepBuffer,I=new Z(f.getBottomLeft().subtract([x,-x]),f.getTopRight().add([x,-x]));if(!(isFinite(f.min.x)&&isFinite(f.min.y)&&isFinite(f.max.x)&&isFinite(f.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var O in this._tiles){var H=this._tiles[O].coords;(H.z!==this._tileZoom||!I.contains(new N(H.x,H.y)))&&(this._tiles[O].current=!1)}if(Math.abs(u-this._tileZoom)>1){this._setView(r,u);return}for(var $=f.min.y;$<=f.max.y;$++)for(var te=f.min.x;te<=f.max.x;te++){var ut=new N(te,$);if(ut.z=this._tileZoom,!!this._isValidTile(ut)){var Ve=this._tiles[this._tileCoordsToKey(ut)];Ve?Ve.current=!0:y.push(ut)}}if(y.sort(function(pt,hr){return pt.distanceTo(m)-hr.distanceTo(m)}),y.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Mt=document.createDocumentFragment();for(te=0;te<y.length;te++)this._addTile(y[te],Mt);this._level.el.appendChild(Mt)}}}},_isValidTile:function(r){var a=this._map.options.crs;if(!a.infinite){var u=this._globalTileRange;if(!a.wrapLng&&(r.x<u.min.x||r.x>u.max.x)||!a.wrapLat&&(r.y<u.min.y||r.y>u.max.y))return!1}if(!this.options.bounds)return!0;var h=this._tileCoordsToBounds(r);return ae(this.options.bounds).overlaps(h)},_keyToBounds:function(r){return this._tileCoordsToBounds(this._keyToTileCoords(r))},_tileCoordsToNwSe:function(r){var a=this._map,u=this.getTileSize(),h=r.scaleBy(u),f=h.add(u),m=a.unproject(h,r.z),y=a.unproject(f,r.z);return[m,y]},_tileCoordsToBounds:function(r){var a=this._tileCoordsToNwSe(r),u=new ve(a[0],a[1]);return this.options.noWrap||(u=this._map.wrapLatLngBounds(u)),u},_tileCoordsToKey:function(r){return r.x+":"+r.y+":"+r.z},_keyToTileCoords:function(r){var a=r.split(":"),u=new N(+a[0],+a[1]);return u.z=+a[2],u},_removeTile:function(r){var a=this._tiles[r];a&&(Pe(a.el),delete this._tiles[r],this.fire("tileunload",{tile:a.el,coords:this._keyToTileCoords(r)}))},_initTile:function(r){J(r,"leaflet-tile");var a=this.getTileSize();r.style.width=a.x+"px",r.style.height=a.y+"px",r.onselectstart=_,r.onmousemove=_,V.ielt9&&this.options.opacity<1&&Ot(r,this.options.opacity)},_addTile:function(r,a){var u=this._getTilePos(r),h=this._tileCoordsToKey(r),f=this.createTile(this._wrapCoords(r),l(this._tileReady,this,r));this._initTile(f),this.createTile.length<2&&de(l(this._tileReady,this,r,null,f)),Fe(f,u),this._tiles[h]={el:f,coords:r,current:!0},a.appendChild(f),this.fire("tileloadstart",{tile:f,coords:r})},_tileReady:function(r,a,u){a&&this.fire("tileerror",{error:a,tile:u,coords:r});var h=this._tileCoordsToKey(r);u=this._tiles[h],u&&(u.loaded=+new Date,this._map._fadeAnimated?(Ot(u.el,0),Oe(this._fadeFrame),this._fadeFrame=de(this._updateOpacity,this)):(u.active=!0,this._pruneTiles()),a||(J(u.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:u.el,coords:r})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),V.ielt9||!this._map._fadeAnimated?de(this._pruneTiles,this):setTimeout(l(this._pruneTiles,this),250)))},_getTilePos:function(r){return r.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(r){var a=new N(this._wrapX?g(r.x,this._wrapX):r.x,this._wrapY?g(r.y,this._wrapY):r.y);return a.z=r.z,a},_pxBoundsToTileRange:function(r){var a=this.getTileSize();return new Z(r.min.unscaleBy(a).floor(),r.max.unscaleBy(a).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var r in this._tiles)if(!this._tiles[r].loaded)return!1;return!0}});function IC(r){return new ws(r)}var cr=ws.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(r,a){this._url=r,a=k(this,a),a.detectRetina&&V.retina&&a.maxZoom>0?(a.tileSize=Math.floor(a.tileSize/2),a.zoomReverse?(a.zoomOffset--,a.minZoom=Math.min(a.maxZoom,a.minZoom+1)):(a.zoomOffset++,a.maxZoom=Math.max(a.minZoom,a.maxZoom-1)),a.minZoom=Math.max(0,a.minZoom)):a.zoomReverse?a.minZoom=Math.min(a.maxZoom,a.minZoom):a.maxZoom=Math.max(a.minZoom,a.maxZoom),typeof a.subdomains=="string"&&(a.subdomains=a.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(r,a){return this._url===r&&a===void 0&&(a=!0),this._url=r,a||this.redraw(),this},createTile:function(r,a){var u=document.createElement("img");return X(u,"load",l(this._tileOnLoad,this,a,u)),X(u,"error",l(this._tileOnError,this,a,u)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(u.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(u.referrerPolicy=this.options.referrerPolicy),u.alt="",u.src=this.getTileUrl(r),u},getTileUrl:function(r){var a={r:V.retina?"@2x":"",s:this._getSubdomain(r),x:r.x,y:r.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var u=this._globalTileRange.max.y-r.y;this.options.tms&&(a.y=u),a["-y"]=u}return w(this._url,s(a,this.options))},_tileOnLoad:function(r,a){V.ielt9?setTimeout(l(r,this,null,a),0):r(null,a)},_tileOnError:function(r,a,u){var h=this.options.errorTileUrl;h&&a.getAttribute("src")!==h&&(a.src=h),r(u,a)},_onTileRemove:function(r){r.tile.onload=null},_getZoomForUrl:function(){var r=this._tileZoom,a=this.options.maxZoom,u=this.options.zoomReverse,h=this.options.zoomOffset;return u&&(r=a-r),r+h},_getSubdomain:function(r){var a=Math.abs(r.x+r.y)%this.options.subdomains.length;return this.options.subdomains[a]},_abortLoading:function(){var r,a;for(r in this._tiles)if(this._tiles[r].coords.z!==this._tileZoom&&(a=this._tiles[r].el,a.onload=_,a.onerror=_,!a.complete)){a.src=z;var u=this._tiles[r].coords;Pe(a),delete this._tiles[r],this.fire("tileabort",{tile:a,coords:u})}},_removeTile:function(r){var a=this._tiles[r];if(a)return a.el.setAttribute("src",z),ws.prototype._removeTile.call(this,r)},_tileReady:function(r,a,u){if(!(!this._map||u&&u.getAttribute("src")===z))return ws.prototype._tileReady.call(this,r,a,u)}});function Up(r,a){return new cr(r,a)}var Hp=cr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(r,a){this._url=r;var u=s({},this.defaultWmsParams);for(var h in a)h in this.options||(u[h]=a[h]);a=k(this,a);var f=a.detectRetina&&V.retina?2:1,m=this.getTileSize();u.width=m.x*f,u.height=m.y*f,this.wmsParams=u},onAdd:function(r){this._crs=this.options.crs||r.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var a=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[a]=this._crs.code,cr.prototype.onAdd.call(this,r)},getTileUrl:function(r){var a=this._tileCoordsToNwSe(r),u=this._crs,h=ee(u.project(a[0]),u.project(a[1])),f=h.min,m=h.max,y=(this._wmsVersion>=1.3&&this._crs===Ap?[f.y,f.x,m.y,m.x]:[f.x,f.y,m.x,m.y]).join(","),x=cr.prototype.getTileUrl.call(this,r);return x+D(this.wmsParams,x,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+y},setParams:function(r,a){return s(this.wmsParams,r),a||this.redraw(),this}});function PC(r,a){return new Hp(r,a)}cr.WMS=Hp,Up.wms=PC;var En=jt.extend({options:{padding:.1},initialize:function(r){k(this,r),d(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),J(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var r={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(r.zoomanim=this._onAnimZoom),r},_onAnimZoom:function(r){this._updateTransform(r.center,r.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(r,a){var u=this._map.getZoomScale(a,this._zoom),h=this._map.getSize().multiplyBy(.5+this.options.padding),f=this._map.project(this._center,a),m=h.multiplyBy(-u).add(f).subtract(this._map._getNewPixelOrigin(r,a));V.any3d?Ti(this._container,m,u):Fe(this._container,m)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var r in this._layers)this._layers[r]._reset()},_onZoomEnd:function(){for(var r in this._layers)this._layers[r]._project()},_updatePaths:function(){for(var r in this._layers)this._layers[r]._update()},_update:function(){var r=this.options.padding,a=this._map.getSize(),u=this._map.containerPointToLayerPoint(a.multiplyBy(-r)).round();this._bounds=new Z(u,u.add(a.multiplyBy(1+r*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),jp=En.extend({options:{tolerance:0},getEvents:function(){var r=En.prototype.getEvents.call(this);return r.viewprereset=this._onViewPreReset,r},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){En.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var r=this._container=document.createElement("canvas");X(r,"mousemove",this._onMouseMove,this),X(r,"click dblclick mousedown mouseup contextmenu",this._onClick,this),X(r,"mouseout",this._handleMouseOut,this),r._leaflet_disable_events=!0,this._ctx=r.getContext("2d")},_destroyContainer:function(){Oe(this._redrawRequest),delete this._ctx,Pe(this._container),ye(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var r;this._redrawBounds=null;for(var a in this._layers)r=this._layers[a],r._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var r=this._bounds,a=this._container,u=r.getSize(),h=V.retina?2:1;Fe(a,r.min),a.width=h*u.x,a.height=h*u.y,a.style.width=u.x+"px",a.style.height=u.y+"px",V.retina&&this._ctx.scale(2,2),this._ctx.translate(-r.min.x,-r.min.y),this.fire("update")}},_reset:function(){En.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(r){this._updateDashArray(r),this._layers[d(r)]=r;var a=r._order={layer:r,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=a),this._drawLast=a,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(r){this._requestRedraw(r)},_removePath:function(r){var a=r._order,u=a.next,h=a.prev;u?u.prev=h:this._drawLast=h,h?h.next=u:this._drawFirst=u,delete r._order,delete this._layers[d(r)],this._requestRedraw(r)},_updatePath:function(r){this._extendRedrawBounds(r),r._project(),r._update(),this._requestRedraw(r)},_updateStyle:function(r){this._updateDashArray(r),this._requestRedraw(r)},_updateDashArray:function(r){if(typeof r.options.dashArray=="string"){var a=r.options.dashArray.split(/[, ]+/),u=[],h,f;for(f=0;f<a.length;f++){if(h=Number(a[f]),isNaN(h))return;u.push(h)}r.options._dashArray=u}else r.options._dashArray=r.options.dashArray},_requestRedraw:function(r){this._map&&(this._extendRedrawBounds(r),this._redrawRequest=this._redrawRequest||de(this._redraw,this))},_extendRedrawBounds:function(r){if(r._pxBounds){var a=(r.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Z,this._redrawBounds.extend(r._pxBounds.min.subtract([a,a])),this._redrawBounds.extend(r._pxBounds.max.add([a,a]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var r=this._redrawBounds;if(r){var a=r.getSize();this._ctx.clearRect(r.min.x,r.min.y,a.x,a.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var r,a=this._redrawBounds;if(this._ctx.save(),a){var u=a.getSize();this._ctx.beginPath(),this._ctx.rect(a.min.x,a.min.y,u.x,u.y),this._ctx.clip()}this._drawing=!0;for(var h=this._drawFirst;h;h=h.next)r=h.layer,(!a||r._pxBounds&&r._pxBounds.intersects(a))&&r._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(r,a){if(this._drawing){var u,h,f,m,y=r._parts,x=y.length,I=this._ctx;if(x){for(I.beginPath(),u=0;u<x;u++){for(h=0,f=y[u].length;h<f;h++)m=y[u][h],I[h?"lineTo":"moveTo"](m.x,m.y);a&&I.closePath()}this._fillStroke(I,r)}}},_updateCircle:function(r){if(!(!this._drawing||r._empty())){var a=r._point,u=this._ctx,h=Math.max(Math.round(r._radius),1),f=(Math.max(Math.round(r._radiusY),1)||h)/h;f!==1&&(u.save(),u.scale(1,f)),u.beginPath(),u.arc(a.x,a.y/f,h,0,Math.PI*2,!1),f!==1&&u.restore(),this._fillStroke(u,r)}},_fillStroke:function(r,a){var u=a.options;u.fill&&(r.globalAlpha=u.fillOpacity,r.fillStyle=u.fillColor||u.color,r.fill(u.fillRule||"evenodd")),u.stroke&&u.weight!==0&&(r.setLineDash&&r.setLineDash(a.options&&a.options._dashArray||[]),r.globalAlpha=u.opacity,r.lineWidth=u.weight,r.strokeStyle=u.color,r.lineCap=u.lineCap,r.lineJoin=u.lineJoin,r.stroke())},_onClick:function(r){for(var a=this._map.mouseEventToLayerPoint(r),u,h,f=this._drawFirst;f;f=f.next)u=f.layer,u.options.interactive&&u._containsPoint(a)&&(!(r.type==="click"||r.type==="preclick")||!this._map._draggableMoved(u))&&(h=u);this._fireEvent(h?[h]:!1,r)},_onMouseMove:function(r){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var a=this._map.mouseEventToLayerPoint(r);this._handleMouseHover(r,a)}},_handleMouseOut:function(r){var a=this._hoveredLayer;a&&(be(this._container,"leaflet-interactive"),this._fireEvent([a],r,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(r,a){if(!this._mouseHoverThrottled){for(var u,h,f=this._drawFirst;f;f=f.next)u=f.layer,u.options.interactive&&u._containsPoint(a)&&(h=u);h!==this._hoveredLayer&&(this._handleMouseOut(r),h&&(J(this._container,"leaflet-interactive"),this._fireEvent([h],r,"mouseover"),this._hoveredLayer=h)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,r),this._mouseHoverThrottled=!0,setTimeout(l(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(r,a,u){this._map._fireDOMEvent(a,u||a.type,r)},_bringToFront:function(r){var a=r._order;if(a){var u=a.next,h=a.prev;if(u)u.prev=h;else return;h?h.next=u:u&&(this._drawFirst=u),a.prev=this._drawLast,this._drawLast.next=a,a.next=null,this._drawLast=a,this._requestRedraw(r)}},_bringToBack:function(r){var a=r._order;if(a){var u=a.next,h=a.prev;if(h)h.next=u;else return;u?u.prev=h:h&&(this._drawLast=h),a.prev=null,a.next=this._drawFirst,this._drawFirst.prev=a,this._drawFirst=a,this._requestRedraw(r)}}});function Wp(r){return V.canvas?new jp(r):null}var Es=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(r){return document.createElement("<lvml:"+r+' class="lvml">')}}catch{}return function(r){return document.createElement("<"+r+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),NC={_initContainer:function(){this._container=ce("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(En.prototype._update.call(this),this.fire("update"))},_initPath:function(r){var a=r._container=Es("shape");J(a,"leaflet-vml-shape "+(this.options.className||"")),a.coordsize="1 1",r._path=Es("path"),a.appendChild(r._path),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){var a=r._container;this._container.appendChild(a),r.options.interactive&&r.addInteractiveTarget(a)},_removePath:function(r){var a=r._container;Pe(a),r.removeInteractiveTarget(a),delete this._layers[d(r)]},_updateStyle:function(r){var a=r._stroke,u=r._fill,h=r.options,f=r._container;f.stroked=!!h.stroke,f.filled=!!h.fill,h.stroke?(a||(a=r._stroke=Es("stroke")),f.appendChild(a),a.weight=h.weight+"px",a.color=h.color,a.opacity=h.opacity,h.dashArray?a.dashStyle=C(h.dashArray)?h.dashArray.join(" "):h.dashArray.replace(/( *, *)/g," "):a.dashStyle="",a.endcap=h.lineCap.replace("butt","flat"),a.joinstyle=h.lineJoin):a&&(f.removeChild(a),r._stroke=null),h.fill?(u||(u=r._fill=Es("fill")),f.appendChild(u),u.color=h.fillColor||h.color,u.opacity=h.fillOpacity):u&&(f.removeChild(u),r._fill=null)},_updateCircle:function(r){var a=r._point.round(),u=Math.round(r._radius),h=Math.round(r._radiusY||u);this._setPath(r,r._empty()?"M0 0":"AL "+a.x+","+a.y+" "+u+","+h+" 0,"+65535*360)},_setPath:function(r,a){r._path.v=a},_bringToFront:function(r){rr(r._container)},_bringToBack:function(r){sr(r._container)}},da=V.vml?Es:ke,Cs=En.extend({_initContainer:function(){this._container=da("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=da("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Pe(this._container),ye(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){En.prototype._update.call(this);var r=this._bounds,a=r.getSize(),u=this._container;(!this._svgSize||!this._svgSize.equals(a))&&(this._svgSize=a,u.setAttribute("width",a.x),u.setAttribute("height",a.y)),Fe(u,r.min),u.setAttribute("viewBox",[r.min.x,r.min.y,a.x,a.y].join(" ")),this.fire("update")}},_initPath:function(r){var a=r._path=da("path");r.options.className&&J(a,r.options.className),r.options.interactive&&J(a,"leaflet-interactive"),this._updateStyle(r),this._layers[d(r)]=r},_addPath:function(r){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(r._path),r.addInteractiveTarget(r._path)},_removePath:function(r){Pe(r._path),r.removeInteractiveTarget(r._path),delete this._layers[d(r)]},_updatePath:function(r){r._project(),r._update()},_updateStyle:function(r){var a=r._path,u=r.options;a&&(u.stroke?(a.setAttribute("stroke",u.color),a.setAttribute("stroke-opacity",u.opacity),a.setAttribute("stroke-width",u.weight),a.setAttribute("stroke-linecap",u.lineCap),a.setAttribute("stroke-linejoin",u.lineJoin),u.dashArray?a.setAttribute("stroke-dasharray",u.dashArray):a.removeAttribute("stroke-dasharray"),u.dashOffset?a.setAttribute("stroke-dashoffset",u.dashOffset):a.removeAttribute("stroke-dashoffset")):a.setAttribute("stroke","none"),u.fill?(a.setAttribute("fill",u.fillColor||u.color),a.setAttribute("fill-opacity",u.fillOpacity),a.setAttribute("fill-rule",u.fillRule||"evenodd")):a.setAttribute("fill","none"))},_updatePoly:function(r,a){this._setPath(r,us(r._parts,a))},_updateCircle:function(r){var a=r._point,u=Math.max(Math.round(r._radius),1),h=Math.max(Math.round(r._radiusY),1)||u,f="a"+u+","+h+" 0 1,0 ",m=r._empty()?"M0 0":"M"+(a.x-u)+","+a.y+f+u*2+",0 "+f+-u*2+",0 ";this._setPath(r,m)},_setPath:function(r,a){r._path.setAttribute("d",a)},_bringToFront:function(r){rr(r._path)},_bringToBack:function(r){sr(r._path)}});V.vml&&Cs.include(NC);function Vp(r){return V.svg||V.vml?new Cs(r):null}le.include({getRenderer:function(r){var a=r.options.renderer||this._getPaneRenderer(r.options.pane)||this.options.renderer||this._renderer;return a||(a=this._renderer=this._createRenderer()),this.hasLayer(a)||this.addLayer(a),a},_getPaneRenderer:function(r){if(r==="overlayPane"||r===void 0)return!1;var a=this._paneRenderers[r];return a===void 0&&(a=this._createRenderer({pane:r}),this._paneRenderers[r]=a),a},_createRenderer:function(r){return this.options.preferCanvas&&Wp(r)||Vp(r)}});var Zp=lr.extend({initialize:function(r,a){lr.prototype.initialize.call(this,this._boundsToLatLngs(r),a)},setBounds:function(r){return this.setLatLngs(this._boundsToLatLngs(r))},_boundsToLatLngs:function(r){return r=ae(r),[r.getSouthWest(),r.getNorthWest(),r.getNorthEast(),r.getSouthEast()]}});function LC(r,a){return new Zp(r,a)}Cs.create=da,Cs.pointsToPath=us,wn.geometryToLayer=sa,wn.coordsToLatLng=Uu,wn.coordsToLatLngs=oa,wn.latLngToCoords=Hu,wn.latLngsToCoords=aa,wn.getFeature=ur,wn.asFeature=la,le.mergeOptions({boxZoom:!0});var $p=on.extend({initialize:function(r){this._map=r,this._container=r._container,this._pane=r._panes.overlayPane,this._resetStateTimeout=0,r.on("unload",this._destroy,this)},addHooks:function(){X(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ye(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Pe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(r){if(!r.shiftKey||r.which!==1&&r.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),fs(),Tu(),this._startPoint=this._map.mouseEventToContainerPoint(r),X(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(r){this._moved||(this._moved=!0,this._box=ce("div","leaflet-zoom-box",this._container),J(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(r);var a=new Z(this._point,this._startPoint),u=a.getSize();Fe(this._box,a.min),this._box.style.width=u.x+"px",this._box.style.height=u.y+"px"},_finish:function(){this._moved&&(Pe(this._box),be(this._container,"leaflet-crosshair")),ps(),Su(),ye(document,{contextmenu:ki,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(r){if(!(r.which!==1&&r.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(l(this._resetState,this),0);var a=new ve(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(a).fire("boxzoomend",{boxZoomBounds:a})}},_onKeyDown:function(r){r.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});le.addInitHook("addHandler","boxZoom",$p),le.mergeOptions({doubleClickZoom:!0});var Gp=on.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(r){var a=this._map,u=a.getZoom(),h=a.options.zoomDelta,f=r.originalEvent.shiftKey?u-h:u+h;a.options.doubleClickZoom==="center"?a.setZoom(f):a.setZoomAround(r.containerPoint,f)}});le.addInitHook("addHandler","doubleClickZoom",Gp),le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Kp=on.extend({addHooks:function(){if(!this._draggable){var r=this._map;this._draggable=new jn(r._mapPane,r._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),r.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),r.on("zoomend",this._onZoomEnd,this),r.whenReady(this._onZoomEnd,this))}J(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){be(this._map._container,"leaflet-grab"),be(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var r=this._map;if(r._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var a=ae(this._map.options.maxBounds);this._offsetLimit=ee(this._map.latLngToContainerPoint(a.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(a.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;r.fire("movestart").fire("dragstart"),r.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(r){if(this._map.options.inertia){var a=this._lastTime=+new Date,u=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(u),this._times.push(a),this._prunePositions(a)}this._map.fire("move",r).fire("drag",r)},_prunePositions:function(r){for(;this._positions.length>1&&r-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var r=this._map.getSize().divideBy(2),a=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=a.subtract(r).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(r,a){return r-(r-a)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var r=this._draggable._newPos.subtract(this._draggable._startPos),a=this._offsetLimit;r.x<a.min.x&&(r.x=this._viscousLimit(r.x,a.min.x)),r.y<a.min.y&&(r.y=this._viscousLimit(r.y,a.min.y)),r.x>a.max.x&&(r.x=this._viscousLimit(r.x,a.max.x)),r.y>a.max.y&&(r.y=this._viscousLimit(r.y,a.max.y)),this._draggable._newPos=this._draggable._startPos.add(r)}},_onPreDragWrap:function(){var r=this._worldWidth,a=Math.round(r/2),u=this._initialWorldOffset,h=this._draggable._newPos.x,f=(h-a+u)%r+a-u,m=(h+a+u)%r-a-u,y=Math.abs(f+u)<Math.abs(m+u)?f:m;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=y},_onDragEnd:function(r){var a=this._map,u=a.options,h=!u.inertia||r.noInertia||this._times.length<2;if(a.fire("dragend",r),h)a.fire("moveend");else{this._prunePositions(+new Date);var f=this._lastPos.subtract(this._positions[0]),m=(this._lastTime-this._times[0])/1e3,y=u.easeLinearity,x=f.multiplyBy(y/m),I=x.distanceTo([0,0]),O=Math.min(u.inertiaMaxSpeed,I),H=x.multiplyBy(O/I),$=O/(u.inertiaDeceleration*y),te=H.multiplyBy(-$/2).round();!te.x&&!te.y?a.fire("moveend"):(te=a._limitOffset(te,a.options.maxBounds),de(function(){a.panBy(te,{duration:$,easeLinearity:y,noMoveStart:!0,animate:!0})}))}}});le.addInitHook("addHandler","dragging",Kp),le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Yp=on.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(r){this._map=r,this._setPanDelta(r.options.keyboardPanDelta),this._setZoomDelta(r.options.zoomDelta)},addHooks:function(){var r=this._map._container;r.tabIndex<=0&&(r.tabIndex="0"),X(r,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ye(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var r=document.body,a=document.documentElement,u=r.scrollTop||a.scrollTop,h=r.scrollLeft||a.scrollLeft;this._map._container.focus(),window.scrollTo(h,u)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(r){var a=this._panKeys={},u=this.keyCodes,h,f;for(h=0,f=u.left.length;h<f;h++)a[u.left[h]]=[-1*r,0];for(h=0,f=u.right.length;h<f;h++)a[u.right[h]]=[r,0];for(h=0,f=u.down.length;h<f;h++)a[u.down[h]]=[0,r];for(h=0,f=u.up.length;h<f;h++)a[u.up[h]]=[0,-1*r]},_setZoomDelta:function(r){var a=this._zoomKeys={},u=this.keyCodes,h,f;for(h=0,f=u.zoomIn.length;h<f;h++)a[u.zoomIn[h]]=r;for(h=0,f=u.zoomOut.length;h<f;h++)a[u.zoomOut[h]]=-r},_addHooks:function(){X(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ye(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(r){if(!(r.altKey||r.ctrlKey||r.metaKey)){var a=r.keyCode,u=this._map,h;if(a in this._panKeys){if(!u._panAnim||!u._panAnim._inProgress)if(h=this._panKeys[a],r.shiftKey&&(h=b(h).multiplyBy(3)),u.options.maxBounds&&(h=u._limitOffset(b(h),u.options.maxBounds)),u.options.worldCopyJump){var f=u.wrapLatLng(u.unproject(u.project(u.getCenter()).add(h)));u.panTo(f)}else u.panBy(h)}else if(a in this._zoomKeys)u.setZoom(u.getZoom()+(r.shiftKey?3:1)*this._zoomKeys[a]);else if(a===27&&u._popup&&u._popup.options.closeOnEscapeKey)u.closePopup();else return;ki(r)}}});le.addInitHook("addHandler","keyboard",Yp),le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var qp=on.extend({addHooks:function(){X(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ye(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(r){var a=wp(r),u=this._map.options.wheelDebounceTime;this._delta+=a,this._lastMousePos=this._map.mouseEventToContainerPoint(r),this._startTime||(this._startTime=+new Date);var h=Math.max(u-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(l(this._performZoom,this),h),ki(r)},_performZoom:function(){var r=this._map,a=r.getZoom(),u=this._map.options.zoomSnap||0;r._stop();var h=this._delta/(this._map.options.wheelPxPerZoomLevel*4),f=4*Math.log(2/(1+Math.exp(-Math.abs(h))))/Math.LN2,m=u?Math.ceil(f/u)*u:f,y=r._limitZoom(a+(this._delta>0?m:-m))-a;this._delta=0,this._startTime=null,y&&(r.options.scrollWheelZoom==="center"?r.setZoom(a+y):r.setZoomAround(this._lastMousePos,a+y))}});le.addInitHook("addHandler","scrollWheelZoom",qp);var RC=600;le.mergeOptions({tapHold:V.touchNative&&V.safari&&V.mobile,tapTolerance:15});var Qp=on.extend({addHooks:function(){X(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ye(this._map._container,"touchstart",this._onDown,this)},_onDown:function(r){if(clearTimeout(this._holdTimeout),r.touches.length===1){var a=r.touches[0];this._startPos=this._newPos=new N(a.clientX,a.clientY),this._holdTimeout=setTimeout(l(function(){this._cancel(),this._isTapValid()&&(X(document,"touchend",Xe),X(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",a))},this),RC),X(document,"touchend touchcancel contextmenu",this._cancel,this),X(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function r(){ye(document,"touchend",Xe),ye(document,"touchend touchcancel",r)},_cancel:function(){clearTimeout(this._holdTimeout),ye(document,"touchend touchcancel contextmenu",this._cancel,this),ye(document,"touchmove",this._onMove,this)},_onMove:function(r){var a=r.touches[0];this._newPos=new N(a.clientX,a.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(r,a){var u=new MouseEvent(r,{bubbles:!0,cancelable:!0,view:window,screenX:a.screenX,screenY:a.screenY,clientX:a.clientX,clientY:a.clientY});u._simulated=!0,a.target.dispatchEvent(u)}});le.addInitHook("addHandler","tapHold",Qp),le.mergeOptions({touchZoom:V.touch,bounceAtZoomLimits:!0});var Xp=on.extend({addHooks:function(){J(this._map._container,"leaflet-touch-zoom"),X(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){be(this._map._container,"leaflet-touch-zoom"),ye(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(r){var a=this._map;if(!(!r.touches||r.touches.length!==2||a._animatingZoom||this._zooming)){var u=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]);this._centerPoint=a.getSize()._divideBy(2),this._startLatLng=a.containerPointToLatLng(this._centerPoint),a.options.touchZoom!=="center"&&(this._pinchStartLatLng=a.containerPointToLatLng(u.add(h)._divideBy(2))),this._startDist=u.distanceTo(h),this._startZoom=a.getZoom(),this._moved=!1,this._zooming=!0,a._stop(),X(document,"touchmove",this._onTouchMove,this),X(document,"touchend touchcancel",this._onTouchEnd,this),Xe(r)}},_onTouchMove:function(r){if(!(!r.touches||r.touches.length!==2||!this._zooming)){var a=this._map,u=a.mouseEventToContainerPoint(r.touches[0]),h=a.mouseEventToContainerPoint(r.touches[1]),f=u.distanceTo(h)/this._startDist;if(this._zoom=a.getScaleZoom(f,this._startZoom),!a.options.bounceAtZoomLimits&&(this._zoom<a.getMinZoom()&&f<1||this._zoom>a.getMaxZoom()&&f>1)&&(this._zoom=a._limitZoom(this._zoom)),a.options.touchZoom==="center"){if(this._center=this._startLatLng,f===1)return}else{var m=u._add(h)._divideBy(2)._subtract(this._centerPoint);if(f===1&&m.x===0&&m.y===0)return;this._center=a.unproject(a.project(this._pinchStartLatLng,this._zoom).subtract(m),this._zoom)}this._moved||(a._moveStart(!0,!1),this._moved=!0),Oe(this._animRequest);var y=l(a._move,a,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=de(y,this,!0),Xe(r)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Oe(this._animRequest),ye(document,"touchmove",this._onTouchMove,this),ye(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});le.addInitHook("addHandler","touchZoom",Xp),le.BoxZoom=$p,le.DoubleClickZoom=Gp,le.Drag=Kp,le.Keyboard=Yp,le.ScrollWheelZoom=qp,le.TapHold=Qp,le.TouchZoom=Xp,n.Bounds=Z,n.Browser=V,n.CRS=nt,n.Canvas=jp,n.Circle=Bu,n.CircleMarker=ra,n.Class=qe,n.Control=Ht,n.DivIcon=Bp,n.DivOverlay=an,n.DomEvent=YE,n.DomUtil=GE,n.Draggable=jn,n.Evented=Qe,n.FeatureGroup=vn,n.GeoJSON=wn,n.GridLayer=ws,n.Handler=on,n.Icon=ar,n.ImageOverlay=ua,n.LatLng=q,n.LatLngBounds=ve,n.Layer=jt,n.LayerGroup=or,n.LineUtil=lC,n.Map=le,n.Marker=ia,n.Mixin=nC,n.Path=Wn,n.Point=N,n.PolyUtil=iC,n.Polygon=lr,n.Polyline=yn,n.Popup=ca,n.PosAnimation=Ep,n.Projection=uC,n.Rectangle=Zp,n.Renderer=En,n.SVG=Cs,n.SVGOverlay=Fp,n.TileLayer=cr,n.Tooltip=ha,n.Transformation=ls,n.Util=Tt,n.VideoOverlay=zp,n.bind=l,n.bounds=ee,n.canvas=Wp,n.circle=gC,n.circleMarker=_C,n.control=gs,n.divIcon=kC,n.extend=s,n.featureGroup=fC,n.geoJSON=Dp,n.geoJson=wC,n.gridLayer=IC,n.icon=pC,n.imageOverlay=EC,n.latLng=K,n.latLngBounds=ae,n.layerGroup=dC,n.map=qE,n.marker=mC,n.point=b,n.polygon=yC,n.polyline=vC,n.popup=SC,n.rectangle=LC,n.setOptions=k,n.stamp=d,n.svg=Vp,n.svgOverlay=TC,n.tileLayer=Up,n.tooltip=xC,n.transformation=Hn,n.version=i,n.videoOverlay=CC;var OC=window.L;n.noConflict=function(){return window.L=OC,this},window.L=n})})(Lh,Lh.exports);var Fo=Lh.exports;const yx=Oo(Fo);function ef(t,e,n){return Object.freeze({instance:t,context:e,container:n})}function tf(t,e){return e==null?function(i,s){const o=P.useRef();return o.current||(o.current=t(i,s)),o}:function(i,s){const o=P.useRef();o.current||(o.current=t(i,s));const l=P.useRef(i),{instance:c}=o.current;return P.useEffect(function(){l.current!==i&&(e(c,i,l.current),l.current=i)},[c,i,s]),o}}function wx(t,e){P.useEffect(function(){return(e.layerContainer??e.map).addLayer(t.instance),function(){var o;(o=e.layerContainer)==null||o.removeLayer(t.instance),e.map.removeLayer(t.instance)}},[e,t])}function Vy(t){return function(n){const i=jy(),s=t(Jd(n,i),i);return By(i.map,n.attribution),Wy(s.current,n.eventHandlers),wx(s.current,i),s}}function Ex(t,e){const n=tf(t,e),i=Vy(n);return mx(i)}function Cx(t,e){const n=tf(t),i=vx(n,e);return _x(i)}function Tx(t,e){const n=tf(t,e),i=Vy(n);return gx(i)}function Sx(t,e,n){const{opacity:i,zIndex:s}=e;i!=null&&i!==n.opacity&&t.setOpacity(i),s!=null&&s!==n.zIndex&&t.setZIndex(s)}function Rh(){return Rh=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Rh.apply(this,arguments)}function xx({bounds:t,boundsOptions:e,center:n,children:i,className:s,id:o,placeholder:l,style:c,whenReady:d,zoom:p,...g},_){const[v]=P.useState({className:s,id:o,style:c}),[T,S]=P.useState(null);P.useImperativeHandle(_,()=>(T==null?void 0:T.map)??null,[T]);const k=P.useCallback(E=>{if(E!==null&&T===null){const w=new Fo.Map(E,g);n!=null&&p!=null?w.setView(n,p):t!=null&&w.fitBounds(t,e),d!=null&&w.whenReady(d),S(fx(w))}},[]);P.useEffect(()=>()=>{T==null||T.map.remove()},[T]);const D=T?xt.createElement(Hy,{value:T},i):l??null;return xt.createElement("div",Rh({},v,{ref:k}),D)}const kx=P.forwardRef(xx),Ix=Ex(function({position:e,...n},i){const s=new Fo.Marker(e,n);return ef(s,px(i,{overlayContainer:s}))},function(e,n,i){n.position!==i.position&&e.setLatLng(n.position),n.icon!=null&&n.icon!==i.icon&&e.setIcon(n.icon),n.zIndexOffset!=null&&n.zIndexOffset!==i.zIndexOffset&&e.setZIndexOffset(n.zIndexOffset),n.opacity!=null&&n.opacity!==i.opacity&&e.setOpacity(n.opacity),e.dragging!=null&&n.draggable!==i.draggable&&(n.draggable===!0?e.dragging.enable():e.dragging.disable())}),Px=Cx(function(e,n){const i=new Fo.Popup(e,n.overlayContainer);return ef(i,n)},function(e,n,{position:i},s){P.useEffect(function(){const{instance:l}=e;function c(p){p.popup===l&&(l.update(),s(!0))}function d(p){p.popup===l&&s(!1)}return n.map.on({popupopen:c,popupclose:d}),n.overlayContainer==null?(i!=null&&l.setLatLng(i),l.openOn(n.map)):n.overlayContainer.bindPopup(l),function(){var g;n.map.off({popupopen:c,popupclose:d}),(g=n.overlayContainer)==null||g.unbindPopup(),n.map.removeLayer(l)}},[e,n,s,i])}),Nx=Tx(function({url:e,...n},i){const s=new Fo.TileLayer(e,Jd(n,i));return ef(s,i)},function(e,n,i){Sx(e,n,i);const{url:s}=n;s!=null&&s!==i.url&&e.setUrl(s)}),Lx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",Rx="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",Ox="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";var h_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(t,e){if(!t)throw ss(e)},ss=function(t){return new Error("Firebase Database ("+Zy.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&i+1<t.length&&(t.charCodeAt(i+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++i)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},Ax=function(t){const e=[];let n=0,i=0;for(;n<t.length;){const s=t[n++];if(s<128)e[i++]=String.fromCharCode(s);else if(s>191&&s<224){const o=t[n++];e[i++]=String.fromCharCode((s&31)<<6|o&63)}else if(s>239&&s<365){const o=t[n++],l=t[n++],c=t[n++],d=((s&7)<<18|(o&63)<<12|(l&63)<<6|c&63)-65536;e[i++]=String.fromCharCode(55296+(d>>10)),e[i++]=String.fromCharCode(56320+(d&1023))}else{const o=t[n++],l=t[n++];e[i++]=String.fromCharCode((s&15)<<12|(o&63)<<6|l&63)}}return e.join("")},nf={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let s=0;s<t.length;s+=3){const o=t[s],l=s+1<t.length,c=l?t[s+1]:0,d=s+2<t.length,p=d?t[s+2]:0,g=o>>2,_=(o&3)<<4|c>>4;let v=(c&15)<<2|p>>6,T=p&63;d||(T=64,l||(v=64)),i.push(n[g],n[_],n[v],n[T])}return i.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray($y(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Ax(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let s=0;s<t.length;){const o=n[t.charAt(s++)],c=s<t.length?n[t.charAt(s)]:0;++s;const p=s<t.length?n[t.charAt(s)]:64;++s;const _=s<t.length?n[t.charAt(s)]:64;if(++s,o==null||c==null||p==null||_==null)throw new Mx;const v=o<<2|c>>4;if(i.push(v),p!==64){const T=c<<4&240|p>>2;if(i.push(T),_!==64){const S=p<<6&192|_;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Mx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Gy=function(t){const e=$y(t);return nf.encodeByteArray(e,!0)},yl=function(t){return Gy(t).replace(/\./g,"")},wl=function(t){try{return nf.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(t){return Ky(void 0,t)}function Ky(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Dx(n)||(t[n]=Ky(t[n],e[n]));return t}function Dx(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fx=()=>zx().__FIREBASE_DEFAULTS__,Bx=()=>{if(typeof process>"u"||typeof h_>"u")return;const t=h_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Ux=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&wl(t[1]);return e&&JSON.parse(e)},rf=()=>{try{return Fx()||Bx()||Ux()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hx=t=>{var e,n;return(n=(e=rf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},jx=t=>{const e=Hx(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),i]:[e.substring(0,n),i]},Yy=()=>{var t;return(t=rf())===null||t===void 0?void 0:t.config},Wx=t=>{var e;return(e=rf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sf{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,i)=>{n?this.reject(n):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,i))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},i=e||"demo-project",s=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${i}`,aud:i,iat:s,exp:s+3600,auth_time:s,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t),c="";return[yl(JSON.stringify(n)),yl(JSON.stringify(l)),c].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function of(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function Zx(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function qy(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Qy(){return Zy.NODE_ADMIN===!0}function $x(){try{return typeof indexedDB=="object"}catch{return!1}}function Gx(){return new Promise((t,e)=>{try{let n=!0;const i="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(i);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(i),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var o;e(((o=s.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kx="FirebaseError";class vi extends Error{constructor(e,n,i){super(n),this.code=e,this.customData=i,this.name=Kx,Object.setPrototypeOf(this,vi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bo.prototype.create)}}class Bo{constructor(e,n,i){this.service=e,this.serviceName=n,this.errors=i}create(e,...n){const i=n[0]||{},s=`${this.service}/${e}`,o=this.errors[e],l=o?Yx(o,i):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new vi(s,c,i)}}function Yx(t,e){return t.replace(qx,(n,i)=>{const s=e[i];return s!=null?String(s):`<${i}?>`})}const qx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eo(t){return JSON.parse(t)}function Ke(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xy=function(t){let e={},n={},i={},s="";try{const o=t.split(".");e=Eo(wl(o[0])||""),n=Eo(wl(o[1])||""),s=o[2],i=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:i,signature:s}},Qx=function(t){const e=Xy(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Xx=function(t){const e=Xy(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xr(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function d_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function El(t,e,n){const i={};for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&(i[s]=e.call(n,t[s],s,t));return i}function Oh(t,e){if(t===e)return!0;const n=Object.keys(t),i=Object.keys(e);for(const s of n){if(!i.includes(s))return!1;const o=t[s],l=e[s];if(f_(o)&&f_(l)){if(!Oh(o,l))return!1}else if(o!==l)return!1}for(const s of i)if(!n.includes(s))return!1;return!0}function f_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function af(t){const e=[];for(const[n,i]of Object.entries(t))Array.isArray(i)?i.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const i=this.W_;if(typeof e=="string")for(let _=0;_<16;_++)i[_]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let _=0;_<16;_++)i[_]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let _=16;_<80;_++){const v=i[_-3]^i[_-8]^i[_-14]^i[_-16];i[_]=(v<<1|v>>>31)&4294967295}let s=this.chain_[0],o=this.chain_[1],l=this.chain_[2],c=this.chain_[3],d=this.chain_[4],p,g;for(let _=0;_<80;_++){_<40?_<20?(p=c^o&(l^c),g=1518500249):(p=o^l^c,g=1859775393):_<60?(p=o&l|c&(o|l),g=2400959708):(p=o^l^c,g=3395469782);const v=(s<<5|s>>>27)+p+d+g+i[_]&4294967295;d=c,c=l,l=(o<<30|o>>>2)&4294967295,o=s,s=v}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+o&4294967295,this.chain_[2]=this.chain_[2]+l&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const i=n-this.blockSize;let s=0;const o=this.buf_;let l=this.inbuf_;for(;s<n;){if(l===0)for(;s<=i;)this.compress_(e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<n;)if(o[l]=e.charCodeAt(s),++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}else for(;s<n;)if(o[l]=e[s],++l,++s,l===this.blockSize){this.compress_(o),l=0;break}}this.inbuf_=l,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let s=this.blockSize-1;s>=56;s--)this.buf_[s]=n&255,n/=256;this.compress_(this.buf_);let i=0;for(let s=0;s<5;s++)for(let o=24;o>=0;o-=8)e[i]=this.chain_[s]>>o&255,++i;return e}}function ek(t,e){const n=new tk(t,e);return n.subscribe.bind(n)}class tk{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,i){let s;if(e===void 0&&n===void 0&&i===void 0)throw new Error("Missing Observer.");nk(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:i},s.next===void 0&&(s.next=_c),s.error===void 0&&(s.error=_c),s.complete===void 0&&(s.complete=_c);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function nk(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function _c(){}function Jy(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ik=function(t){const e=[];let n=0;for(let i=0;i<t.length;i++){let s=t.charCodeAt(i);if(s>=55296&&s<=56319){const o=s-55296;i++,F(i<t.length,"Surrogate pair missing trail surrogate.");const l=t.charCodeAt(i)-56320;s=65536+(o<<10)+l}s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):s<65536?(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},ru=function(t){let e=0;for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yi(t){return t&&t._delegate?t._delegate:t}class di{constructor(e,n,i){this.name=e,this.instanceFactory=n,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Li="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rk{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const i=new sf;if(this.instancesDeferred.set(n,i),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&i.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const i=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(i)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:i})}catch(o){if(s)return null;throw o}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(ok(e))try{this.getOrInitializeService({instanceIdentifier:Li})}catch{}for(const[n,i]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const o=this.getOrInitializeService({instanceIdentifier:s});i.resolve(o)}catch{}}}}clearInstance(e=Li){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Li){return this.instances.has(e)}getOptions(e=Li){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:i,options:n});for(const[o,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(o);i===c&&l.resolve(s)}return s}onInit(e,n){var i;const s=this.normalizeInstanceIdentifier(n),o=(i=this.onInitCallbacks.get(s))!==null&&i!==void 0?i:new Set;o.add(e),this.onInitCallbacks.set(s,o);const l=this.instances.get(s);return l&&e(l,s),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){const i=this.onInitCallbacks.get(n);if(i)for(const s of i)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:sk(e),options:n}),this.instances.set(e,i),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=Li){return this.component?this.component.multipleInstances?e:Li:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function sk(t){return t===Li?void 0:t}function ok(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ak{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new rk(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const lk={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},uk=me.INFO,ck={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},hk=(t,e,...n)=>{if(e<t.logLevel)return;const i=new Date().toISOString(),s=ck[e];if(s)console[s](`[${i}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class lf{constructor(e){this.name=e,this._logLevel=uk,this._logHandler=hk,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?lk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const dk=(t,e)=>e.some(n=>t instanceof n);let p_,m_;function fk(){return p_||(p_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pk(){return m_||(m_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const ew=new WeakMap,Ah=new WeakMap,tw=new WeakMap,gc=new WeakMap,uf=new WeakMap;function mk(t){const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("success",o),t.removeEventListener("error",l)},o=()=>{n(ai(t.result)),s()},l=()=>{i(t.error),s()};t.addEventListener("success",o),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&ew.set(n,t)}).catch(()=>{}),uf.set(e,t),e}function _k(t){if(Ah.has(t))return;const e=new Promise((n,i)=>{const s=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",l),t.removeEventListener("abort",l)},o=()=>{n(),s()},l=()=>{i(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",o),t.addEventListener("error",l),t.addEventListener("abort",l)});Ah.set(t,e)}let Mh={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Ah.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tw.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ai(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function gk(t){Mh=t(Mh)}function vk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const i=t.call(vc(this),e,...n);return tw.set(i,e.sort?e.sort():[e]),ai(i)}:pk().includes(t)?function(...e){return t.apply(vc(this),e),ai(ew.get(this))}:function(...e){return ai(t.apply(vc(this),e))}}function yk(t){return typeof t=="function"?vk(t):(t instanceof IDBTransaction&&_k(t),dk(t,fk())?new Proxy(t,Mh):t)}function ai(t){if(t instanceof IDBRequest)return mk(t);if(gc.has(t))return gc.get(t);const e=yk(t);return e!==t&&(gc.set(t,e),uf.set(e,t)),e}const vc=t=>uf.get(t);function wk(t,e,{blocked:n,upgrade:i,blocking:s,terminated:o}={}){const l=indexedDB.open(t,e),c=ai(l);return i&&l.addEventListener("upgradeneeded",d=>{i(ai(l.result),d.oldVersion,d.newVersion,ai(l.transaction),d)}),n&&l.addEventListener("blocked",d=>n(d.oldVersion,d.newVersion,d)),c.then(d=>{o&&d.addEventListener("close",()=>o()),s&&d.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),c}const Ek=["get","getKey","getAll","getAllKeys","count"],Ck=["put","add","delete","clear"],yc=new Map;function __(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(yc.get(e))return yc.get(e);const n=e.replace(/FromIndex$/,""),i=e!==n,s=Ck.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Ek.includes(n)))return;const o=async function(l,...c){const d=this.transaction(l,s?"readwrite":"readonly");let p=d.store;return i&&(p=p.index(c.shift())),(await Promise.all([p[n](...c),s&&d.done]))[0]};return yc.set(e,o),o}gk(t=>({...t,get:(e,n,i)=>__(e,n)||t.get(e,n,i),has:(e,n)=>!!__(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tk{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Sk(n)){const i=n.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(n=>n).join(" ")}}function Sk(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const bh="@firebase/app",g_="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zi=new lf("@firebase/app"),xk="@firebase/app-compat",kk="@firebase/analytics-compat",Ik="@firebase/analytics",Pk="@firebase/app-check-compat",Nk="@firebase/app-check",Lk="@firebase/auth",Rk="@firebase/auth-compat",Ok="@firebase/database",Ak="@firebase/database-compat",Mk="@firebase/functions",bk="@firebase/functions-compat",Dk="@firebase/installations",zk="@firebase/installations-compat",Fk="@firebase/messaging",Bk="@firebase/messaging-compat",Uk="@firebase/performance",Hk="@firebase/performance-compat",jk="@firebase/remote-config",Wk="@firebase/remote-config-compat",Vk="@firebase/storage",Zk="@firebase/storage-compat",$k="@firebase/firestore",Gk="@firebase/firestore-compat",Kk="firebase",Yk="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dh="[DEFAULT]",qk={[bh]:"fire-core",[xk]:"fire-core-compat",[Ik]:"fire-analytics",[kk]:"fire-analytics-compat",[Nk]:"fire-app-check",[Pk]:"fire-app-check-compat",[Lk]:"fire-auth",[Rk]:"fire-auth-compat",[Ok]:"fire-rtdb",[Ak]:"fire-rtdb-compat",[Mk]:"fire-fn",[bk]:"fire-fn-compat",[Dk]:"fire-iid",[zk]:"fire-iid-compat",[Fk]:"fire-fcm",[Bk]:"fire-fcm-compat",[Uk]:"fire-perf",[Hk]:"fire-perf-compat",[jk]:"fire-rc",[Wk]:"fire-rc-compat",[Vk]:"fire-gcs",[Zk]:"fire-gcs-compat",[$k]:"fire-fst",[Gk]:"fire-fst-compat","fire-js":"fire-js",[Kk]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=new Map,zh=new Map;function Qk(t,e){try{t.container.addComponent(e)}catch(n){Zi.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function $i(t){const e=t.name;if(zh.has(e))return Zi.debug(`There were multiple attempts to register component ${e}.`),!1;zh.set(e,t);for(const n of Cl.values())Qk(n,t);return!0}function Xk(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},li=new Bo("app","Firebase",Jk);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(e,n,i){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new di("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw li.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=Yk;function nw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const i=Object.assign({name:Dh,automaticDataCollectionEnabled:!1},e),s=i.name;if(typeof s!="string"||!s)throw li.create("bad-app-name",{appName:String(s)});if(n||(n=Yy()),!n)throw li.create("no-options");const o=Cl.get(s);if(o){if(Oh(n,o.options)&&Oh(i,o.config))return o;throw li.create("duplicate-app",{appName:s})}const l=new ak(s);for(const d of zh.values())l.addComponent(d);const c=new e1(n,i,l);return Cl.set(s,c),c}function t1(t=Dh){const e=Cl.get(t);if(!e&&t===Dh&&Yy())return nw();if(!e)throw li.create("no-app",{appName:t});return e}function pn(t,e,n){var i;let s=(i=qk[t])!==null&&i!==void 0?i:t;n&&(s+=`-${n}`);const o=s.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const c=[`Unable to register library "${s}" with version "${e}":`];o&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),o&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zi.warn(c.join(" "));return}$i(new di(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n1="firebase-heartbeat-database",i1=1,Co="firebase-heartbeat-store";let wc=null;function iw(){return wc||(wc=wk(n1,i1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Co)}catch(n){console.warn(n)}}}}).catch(t=>{throw li.create("idb-open",{originalErrorMessage:t.message})})),wc}async function r1(t){try{const n=(await iw()).transaction(Co),i=await n.objectStore(Co).get(rw(t));return await n.done,i}catch(e){if(e instanceof vi)Zi.warn(e.message);else{const n=li.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zi.warn(n.message)}}}async function v_(t,e){try{const i=(await iw()).transaction(Co,"readwrite");await i.objectStore(Co).put(e,rw(t)),await i.done}catch(n){if(n instanceof vi)Zi.warn(n.message);else{const i=li.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Zi.warn(i.message)}}}function rw(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1=1024,o1=30*24*60*60*1e3;class a1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new u1(n),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){var e,n;const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=y_();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o)))return this._heartbeatsCache.heartbeats.push({date:o,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=o1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=y_(),{heartbeatsToSend:i,unsentEntries:s}=l1(this._heartbeatsCache.heartbeats),o=yl(JSON.stringify({version:2,heartbeats:i}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function y_(){return new Date().toISOString().substring(0,10)}function l1(t,e=s1){const n=[];let i=t.slice();for(const s of t){const o=n.find(l=>l.agent===s.agent);if(o){if(o.dates.push(s.date),w_(n)>e){o.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),w_(n)>e){n.pop();break}i=i.slice(1)}return{heartbeatsToSend:n,unsentEntries:i}}class u1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $x()?Gx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await r1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const s=await this.read();return v_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function w_(t){return yl(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){$i(new di("platform-logger",e=>new Tk(e),"PRIVATE")),$i(new di("heartbeat",e=>new a1(e),"PRIVATE")),pn(bh,g_,t),pn(bh,g_,"esm2017"),pn("fire-js","")}c1("");var h1="firebase",d1="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn(h1,d1,"app");var E_={};const C_="@firebase/database",T_="1.0.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let sw="";function f1(t){sw=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ke(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:Eo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return zn(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ow=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new p1(e)}}catch{}return new m1},bi=ow("localStorage"),Fh=ow("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br=new lf("@firebase/database"),_1=function(){let t=1;return function(){return t++}}(),aw=function(t){const e=ik(t),n=new Jx;n.update(e);const i=n.digest();return nf.encodeByteArray(i)},Ho=function(...t){let e="";for(let n=0;n<t.length;n++){const i=t[n];Array.isArray(i)||i&&typeof i=="object"&&typeof i.length=="number"?e+=Ho.apply(null,i):typeof i=="object"?e+=Ke(i):e+=i,e+=" "}return e};let Bi=null,S_=!0;const g1=function(t,e){F(!e||t===!0||t===!1,"Can't turn on custom loggers persistently."),t===!0?(Br.logLevel=me.VERBOSE,Bi=Br.log.bind(Br),e&&Fh.set("logging_enabled",!0)):typeof t=="function"?Bi=t:(Bi=null,Fh.remove("logging_enabled"))},ot=function(...t){if(S_===!0&&(S_=!1,Bi===null&&Fh.get("logging_enabled")===!0&&g1(!0)),Bi){const e=Ho.apply(null,t);Bi(e)}},jo=function(t){return function(...e){ot(t,...e)}},Bh=function(...t){const e="FIREBASE INTERNAL ERROR: "+Ho(...t);Br.error(e)},bn=function(...t){const e=`FIREBASE FATAL ERROR: ${Ho(...t)}`;throw Br.error(e),new Error(e)},Pt=function(...t){const e="FIREBASE WARNING: "+Ho(...t);Br.warn(e)},v1=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Pt("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},lw=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},y1=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},Jr="[MIN_NAME]",Gi="[MAX_NAME]",os=function(t,e){if(t===e)return 0;if(t===Jr||e===Gi)return-1;if(e===Jr||t===Gi)return 1;{const n=x_(t),i=x_(e);return n!==null?i!==null?n-i===0?t.length-e.length:n-i:-1:i!==null?1:t<e?-1:1}},w1=function(t,e){return t===e?0:t<e?-1:1},Rs=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ke(e))},cf=function(t){if(typeof t!="object"||t===null)return Ke(t);const e=[];for(const i in t)e.push(i);e.sort();let n="{";for(let i=0;i<e.length;i++)i!==0&&(n+=","),n+=Ke(e[i]),n+=":",n+=cf(t[e[i]]);return n+="}",n},uw=function(t,e){const n=t.length;if(n<=e)return[t];const i=[];for(let s=0;s<n;s+=e)s+e>n?i.push(t.substring(s,n)):i.push(t.substring(s,s+e));return i};function Ct(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const cw=function(t){F(!lw(t),"Invalid JSON number");const e=11,n=52,i=(1<<e-1)-1;let s,o,l,c,d;t===0?(o=0,l=0,s=1/t===-1/0?1:0):(s=t<0,t=Math.abs(t),t>=Math.pow(2,1-i)?(c=Math.min(Math.floor(Math.log(t)/Math.LN2),i),o=c+i,l=Math.round(t*Math.pow(2,n-c)-Math.pow(2,n))):(o=0,l=Math.round(t/Math.pow(2,1-i-n))));const p=[];for(d=n;d;d-=1)p.push(l%2?1:0),l=Math.floor(l/2);for(d=e;d;d-=1)p.push(o%2?1:0),o=Math.floor(o/2);p.push(s?1:0),p.reverse();const g=p.join("");let _="";for(d=0;d<64;d+=8){let v=parseInt(g.substr(d,8),2).toString(16);v.length===1&&(v="0"+v),_=_+v}return _.toLowerCase()},E1=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},C1=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function T1(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const i=new Error(t+" at "+e._path.toString()+": "+n);return i.code=t.toUpperCase(),i}const S1=new RegExp("^-?(0*)\\d{1,10}$"),x1=-2147483648,k1=2147483647,x_=function(t){if(S1.test(t)){const e=Number(t);if(e>=x1&&e<=k1)return e}return null},Wo=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Pt("Exception was thrown by user callback.",n),e},Math.floor(0))}},I1=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Qs=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P1{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(i=>this.appCheck=i)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,i)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(i=>i.addTokenListener(e))}notifyForInvalidToken(){Pt(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,n,i){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=i,this.auth_=null,this.auth_=i.getImmediate({optional:!0}),this.auth_||i.onInit(s=>this.auth_=s)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(ot("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,i)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,i):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pt(e)}}class Ur{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ur.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hf="5",hw="v",dw="s",fw="r",pw="f",mw=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,_w="ls",gw="p",Uh="ac",vw="websocket",yw="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n,i,s,o=!1,l="",c=!1,d=!1){this.secure=n,this.namespace=i,this.webSocketOnly=s,this.nodeAdmin=o,this.persistenceKey=l,this.includeNamespaceInQueryParams=c,this.isUsingEmulator=d,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=bi.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&bi.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function L1(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Ew(t,e,n){F(typeof e=="string","typeof type must == string"),F(typeof n=="object","typeof params must == object");let i;if(e===vw)i=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===yw)i=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);L1(t)&&(n.ns=t.namespace);const s=[];return Ct(n,(o,l)=>{s.push(o+"="+l)}),i+s.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(){this.counters_={}}incrementCounter(e,n=1){zn(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return bx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ec={},Cc={};function df(t){const e=t.toString();return Ec[e]||(Ec[e]=new R1),Ec[e]}function O1(t,e){const n=t.toString();return Cc[n]||(Cc[n]=e()),Cc[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const i=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let s=0;s<i.length;++s)i[s]&&Wo(()=>{this.onMessage_(i[s])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="start",M1="close",b1="pLPCommand",D1="pRTLPCB",Cw="id",Tw="pw",Sw="ser",z1="cb",F1="seg",B1="ts",U1="d",H1="dframe",xw=1870,kw=30,j1=xw-kw,W1=25e3,V1=3e4;class Rr{constructor(e,n,i,s,o,l,c){this.connId=e,this.repoInfo=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.transportSessionId=l,this.lastSessionId=c,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jo(e),this.stats_=df(n),this.urlFn=d=>(this.appCheckToken&&(d[Uh]=this.appCheckToken),Ew(n,yw,d))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new A1(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(V1)),y1(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ff((...o)=>{const[l,c,d,p,g]=o;if(this.incrementIncomingBytes_(o),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,l===k_)this.id=c,this.password=d;else if(l===M1)c?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(c,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+l)},(...o)=>{const[l,c]=o;this.incrementIncomingBytes_(o),this.myPacketOrderer.handleResponse(l,c)},()=>{this.onClosed_()},this.urlFn);const i={};i[k_]="t",i[Sw]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(i[z1]=this.scriptTagHolder.uniqueCallbackIdentifier),i[hw]=hf,this.transportSessionId&&(i[dw]=this.transportSessionId),this.lastSessionId&&(i[_w]=this.lastSessionId),this.applicationId&&(i[gw]=this.applicationId),this.appCheckToken&&(i[Uh]=this.appCheckToken),typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(i[fw]=pw);const s=this.urlFn(i);this.log_("Connecting via long-poll to "+s),this.scriptTagHolder.addTag(s,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Rr.forceAllow_=!0}static forceDisallow(){Rr.forceDisallow_=!0}static isAvailable(){return Rr.forceAllow_?!0:!Rr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!E1()&&!C1()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=Gy(n),s=uw(i,j1);for(let o=0;o<s.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,s.length,s[o]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const i={};i[H1]="t",i[Cw]=e,i[Tw]=n,this.myDisconnFrame.src=this.urlFn(i),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ke(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class ff{constructor(e,n,i,s){this.onDisconnect=i,this.urlFn=s,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_1(),window[b1+this.uniqueCallbackIdentifier]=e,window[D1+this.uniqueCallbackIdentifier]=n,this.myIFrame=ff.createIFrame_();let o="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(o='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(c){ot("frame writing exception"),c.stack&&ot(c.stack),ot(c)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||ot("No IE domain setting required")}catch{const i=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+i+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[Cw]=this.myID,e[Tw]=this.myPW,e[Sw]=this.currentSerial;let n=this.urlFn(e),i="",s=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+kw+i.length<=xw;){const l=this.pendingSegs.shift();i=i+"&"+F1+s+"="+l.seg+"&"+B1+s+"="+l.ts+"&"+U1+s+"="+l.d,s++}return n=n+i,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,i){this.pendingSegs.push({seg:e,ts:n,d:i}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const i=()=>{this.outstandingRequests.delete(n),this.newRequest_()},s=setTimeout(i,Math.floor(W1)),o=()=>{clearTimeout(s),i()};this.addTag(e,o)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const i=this.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=e,i.onload=i.onreadystatechange=function(){const s=i.readyState;(!s||s==="loaded"||s==="complete")&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),n())},i.onerror=()=>{ot("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(i)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=16384,$1=45e3;let Tl=null;typeof MozWebSocket<"u"?Tl=MozWebSocket:typeof WebSocket<"u"&&(Tl=WebSocket);class Kt{constructor(e,n,i,s,o,l,c){this.connId=e,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jo(this.connId),this.stats_=df(n),this.connURL=Kt.connectionURL_(n,l,c,s,i),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,i,s,o){const l={};return l[hw]=hf,typeof location<"u"&&location.hostname&&mw.test(location.hostname)&&(l[fw]=pw),n&&(l[dw]=n),i&&(l[_w]=i),s&&(l[Uh]=s),o&&(l[gw]=o),Ew(e,vw,l)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,bi.set("previous_websocket_failure",!0);try{let i;Qy(),this.mySock=new Tl(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){Kt.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&Tl!==null&&!Kt.forceDisallow_}static previouslyFailed(){return bi.isInMemoryStorage||bi.get("previous_websocket_failure")===!0}markConnectionHealthy(){bi.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const i=Eo(n);this.onMessage(i)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(F(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const i=this.extractFrameCount_(n);i!==null&&this.appendFrame_(i)}}send(e){this.resetKeepAlive();const n=Ke(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const i=uw(n,Z1);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor($1))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Kt.responsesRequiredToBeHealthy=2;Kt.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[Rr,Kt]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(e){const n=Kt&&Kt.isAvailable();let i=n&&!Kt.previouslyFailed();if(e.webSocketOnly&&(n||Pt("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Kt];else{const s=this.transports_=[];for(const o of To.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);To.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}To.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=6e4,K1=5e3,Y1=10*1024,q1=100*1024,Tc="t",I_="d",Q1="s",P_="r",X1="e",N_="o",L_="a",R_="n",O_="p",J1="h";class eI{constructor(e,n,i,s,o,l,c,d,p,g){this.id=e,this.repoInfo_=n,this.applicationId_=i,this.appCheckToken_=s,this.authToken_=o,this.onMessage_=l,this.onReady_=c,this.onDisconnect_=d,this.onKill_=p,this.lastSessionId=g,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jo("c:"+this.id+":"),this.transportManager_=new To(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,i)},Math.floor(0));const s=e.healthyTimeout||0;s>0&&(this.healthyTimeout_=Qs(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>q1?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Y1?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(s)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Tc in e){const n=e[Tc];n===L_?this.upgradeIfSecondaryHealthy_():n===P_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===N_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=Rs("t",e),i=Rs("d",e);if(n==="c")this.onSecondaryControl_(i);else if(n==="d")this.pendingDataMessages.push(i);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:O_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:L_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:R_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=Rs("t",e),i=Rs("d",e);n==="c"?this.onControl_(i):n==="d"&&this.onDataMessage_(i)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=Rs(Tc,e);if(I_ in e){const i=e[I_];if(n===J1){const s=Object.assign({},i);this.repoInfo_.isUsingEmulator&&(s.h=this.repoInfo_.host),this.onHandshake_(s)}else if(n===R_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let s=0;s<this.pendingDataMessages.length;++s)this.onDataMessage_(this.pendingDataMessages[s]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Q1?this.onConnectionShutdown_(i):n===P_?this.onReset_(i):n===X1?Bh("Server Error: "+i):n===N_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Bh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,i=e.v,s=e.h;this.sessionId=e.s,this.repoInfo_.host=s,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),hf!==i&&Pt("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),Qs(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(G1))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Qs(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(K1))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:O_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(bi.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{put(e,n,i,s){}merge(e,n,i,s){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,i){}onDisconnectMerge(e,n,i){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pw{constructor(e){this.allowedEvents_=e,this.listeners_={},F(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const i=[...this.listeners_[e]];for(let s=0;s<i.length;s++)i[s].callback.apply(i[s].context,n)}}on(e,n,i){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:i});const s=this.getInitialEvent(e);s&&n.apply(i,s)}off(e,n,i){this.validateEventType_(e);const s=this.listeners_[e]||[];for(let o=0;o<s.length;o++)if(s[o].callback===n&&(!i||i===s[o].context)){s.splice(o,1);return}}validateEventType_(e){F(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl extends Pw{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!of()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Sl}getInitialEvent(e){return F(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A_=32,M_=768;class _e{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let i=0;for(let s=0;s<this.pieces_.length;s++)this.pieces_[s].length>0&&(this.pieces_[i]=this.pieces_[s],i++);this.pieces_.length=i,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function he(){return new _e("")}function ie(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function fi(t){return t.pieces_.length-t.pieceNum_}function we(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new _e(t.pieces_,e)}function Nw(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function tI(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function Lw(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Rw(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new _e(e,0)}function je(t,e){const n=[];for(let i=t.pieceNum_;i<t.pieces_.length;i++)n.push(t.pieces_[i]);if(e instanceof _e)for(let i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{const i=e.split("/");for(let s=0;s<i.length;s++)i[s].length>0&&n.push(i[s])}return new _e(n,0)}function re(t){return t.pieceNum_>=t.pieces_.length}function gt(t,e){const n=ie(t),i=ie(e);if(n===null)return e;if(n===i)return gt(we(t),we(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function pf(t,e){if(fi(t)!==fi(e))return!1;for(let n=t.pieceNum_,i=e.pieceNum_;n<=t.pieces_.length;n++,i++)if(t.pieces_[n]!==e.pieces_[i])return!1;return!0}function Yt(t,e){let n=t.pieceNum_,i=e.pieceNum_;if(fi(t)>fi(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[i])return!1;++n,++i}return!0}class nI{constructor(e,n){this.errorPrefix_=n,this.parts_=Lw(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let i=0;i<this.parts_.length;i++)this.byteLength_+=ru(this.parts_[i]);Ow(this)}}function iI(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=ru(e),Ow(t)}function rI(t){const e=t.parts_.pop();t.byteLength_-=ru(e),t.parts_.length>0&&(t.byteLength_-=1)}function Ow(t){if(t.byteLength_>M_)throw new Error(t.errorPrefix_+"has a key path longer than "+M_+" bytes ("+t.byteLength_+").");if(t.parts_.length>A_)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+A_+") or object contains a cycle "+Ri(t))}function Ri(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf extends Pw{constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const i=!document[e];i!==this.visible_&&(this.visible_=i,this.trigger("visible",i))},!1)}static getInstance(){return new mf}getInitialEvent(e){return F(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os=1e3,sI=60*5*1e3,b_=30*1e3,oI=1.3,aI=3e4,lI="server_kill",D_=3;class Nn extends Iw{constructor(e,n,i,s,o,l,c,d){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=l,this.appCheckTokenProvider_=c,this.authOverride_=d,this.id=Nn.nextPersistentConnectionId_++,this.log_=jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Os,this.maxReconnectDelay_=sI,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d&&!Qy())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");mf.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Sl.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,i){const s=++this.requestNumber_,o={r:s,a:e,b:n};this.log_(Ke(o)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(e){this.initConnection_();const n=new sf,s={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:l=>{const c=l.d;l.s==="ok"?n.resolve(c):n.reject(c)}};this.outstandingGets_.push(s),this.outstandingGetCount_++;const o=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(o),n.promise}listen(e,n,i,s){this.initConnection_();const o=e._queryIdentifier,l=e._path.toString();this.log_("Listen called for "+l+" "+o),this.listens.has(l)||this.listens.set(l,new Map),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(l).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:n,query:e,tag:i};this.listens.get(l).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,i=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(i)})}sendListen_(e){const n=e.query,i=n._path.toString(),s=n._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i},l="q";e.tag&&(o.q=n._queryObject,o.t=e.tag),o.h=e.hashFn(),this.sendRequest(l,o,c=>{const d=c.d,p=c.s;Nn.warnOnListenWarnings_(d,n),(this.listens.get(i)&&this.listens.get(i).get(s))===e&&(this.log_("listen response",c),p!=="ok"&&this.removeListen_(i,s),e.onComplete&&e.onComplete(p,d))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&zn(e,"w")){const i=Xr(e,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+n._queryParams.getIndex().toString()+'"',o=n._path.toString();Pt(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Xx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=b_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Qx(e)?"auth":"gauth",i={cred:e};this.authOverride_===null?i.noauth=!0:typeof this.authOverride_=="object"&&(i.authvar=this.authOverride_),this.sendRequest(n,i,s=>{const o=s.s,l=s.d||"error";this.authToken_===e&&(o==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,l))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,i=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,i)})}unlisten(e,n){const i=e._path.toString(),s=e._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),F(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,e._queryObject,n)}sendUnlisten_(e,n,i,s){this.log_("Unlisten on "+e+" for "+n);const o={p:e},l="n";s&&(o.q=i,o.t=s),this.sendRequest(l,o)}onDisconnectPut(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:i})}onDisconnectMerge(e,n,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,i):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:i})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,i,s){const o={p:n,d:i};this.log_("onDisconnect "+e,o),this.sendRequest(e,o,l=>{s&&setTimeout(()=>{s(l.s,l.d)},Math.floor(0))})}put(e,n,i,s){this.putInternal("p",e,n,i,s)}merge(e,n,i,s){this.putInternal("m",e,n,i,s)}putInternal(e,n,i,s,o){this.initConnection_();const l={p:n,d:i};o!==void 0&&(l.h=o),this.outstandingPuts_.push({action:e,request:l,onComplete:s}),this.outstandingPutCount_++;const c=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(c):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,i=this.outstandingPuts_[e].request,s=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,i,o=>{this.log_(n+" response",o),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,i=>{if(i.s!=="ok"){const o=i.d;this.log_("reportStats","Error sending stats: "+o)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ke(e));const n=e.r,i=this.requestCBHash_[n];i&&(delete this.requestCBHash_[n],i(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Bh("Unrecognized action received from server: "+Ke(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>aI&&(this.reconnectDelay_=Os),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*oI)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),s=this.id+":"+Nn.nextConnectionId_++,o=this.lastSessionId;let l=!1,c=null;const d=function(){c?c.close():(l=!0,i())},p=function(_){F(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(_)};this.realtime_={close:d,sendRequest:p};const g=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,v]=await Promise.all([this.authTokenProvider_.getToken(g),this.appCheckTokenProvider_.getToken(g)]);l?ot("getToken() completed but was canceled"):(ot("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=v&&v.token,c=new eI(s,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,i,T=>{Pt(T+" ("+this.repoInfo_.toString()+")"),this.interrupt(lI)},o))}catch(_){this.log_("Failed to get token: "+_),l||(this.repoInfo_.nodeAdmin&&Pt(_),d())}}}interrupt(e){ot("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){ot("Resuming connection for reason: "+e),delete this.interruptReasons_[e],d_(this.interruptReasons_)&&(this.reconnectDelay_=Os,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let i;n?i=n.map(o=>cf(o)).join("$"):i="default";const s=this.removeListen_(e,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(e,n){const i=new _e(e).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(n),o.delete(n),o.size===0&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(e,n){ot("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=D_&&(this.reconnectDelay_=b_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){ot("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=D_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+sw.replace(/\./g,"-")]=1,of()?e["framework.cordova"]=1:qy()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Sl.getInstance().currentlyOnline();return d_(this.interruptReasons_)&&e}}Nn.nextPersistentConnectionId_=0;Nn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new ne(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class su{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const i=new ne(Jr,e),s=new ne(Jr,n);return this.compare(i,s)!==0}minPost(){return ne.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ra;class Aw extends su{static get __EMPTY_NODE(){return Ra}static set __EMPTY_NODE(e){Ra=e}compare(e,n){return os(e.name,n.name)}isDefinedOn(e){throw ss("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return ne.MIN}maxPost(){return new ne(Gi,Ra)}makePost(e,n){return F(typeof e=="string","KeyIndex indexValue must always be a string."),new ne(e,Ra)}toString(){return".key"}}const Hr=new Aw;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oa{constructor(e,n,i,s,o=null){this.isReverse_=s,this.resultGenerator_=o,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(e=e,l=n?i(e.key,n):1,s&&(l*=-1),l<0)this.isReverse_?e=e.left:e=e.right;else if(l===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ge{constructor(e,n,i,s,o){this.key=e,this.value=n,this.color=i??Ge.RED,this.left=s??vt.EMPTY_NODE,this.right=o??vt.EMPTY_NODE}copy(e,n,i,s,o){return new Ge(e??this.key,n??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,i){let s=this;const o=i(e,s.key);return o<0?s=s.copy(null,null,null,s.left.insert(e,n,i),null):o===0?s=s.copy(null,n,null,null,null):s=s.copy(null,null,null,null,s.right.insert(e,n,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return vt.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let i,s;if(i=this,n(e,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),n(e,i.key)===0){if(i.right.isEmpty())return vt.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ge.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ge.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ge.RED=!0;Ge.BLACK=!1;class uI{copy(e,n,i,s,o){return this}insert(e,n,i){return new Ge(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class vt{constructor(e,n=vt.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new vt(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ge.BLACK,null,null))}remove(e){return new vt(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ge.BLACK,null,null))}get(e){let n,i=this.root_;for(;!i.isEmpty();){if(n=this.comparator_(e,i.key),n===0)return i.value;n<0?i=i.left:n>0&&(i=i.right)}return null}getPredecessorKey(e){let n,i=this.root_,s=null;for(;!i.isEmpty();)if(n=this.comparator_(e,i.key),n===0){if(i.left.isEmpty())return s?s.key:null;for(i=i.left;!i.right.isEmpty();)i=i.right;return i.key}else n<0?i=i.left:n>0&&(s=i,i=i.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Oa(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Oa(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Oa(this.root_,null,this.comparator_,!0,e)}}vt.EMPTY_NODE=new uI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cI(t,e){return os(t.name,e.name)}function _f(t,e){return os(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hh;function hI(t){Hh=t}const Mw=function(t){return typeof t=="number"?"number:"+cw(t):"string:"+t},bw=function(t){if(t.isLeafNode()){const e=t.val();F(typeof e=="string"||typeof e=="number"||typeof e=="object"&&zn(e,".sv"),"Priority must be a string or number.")}else F(t===Hh||t.isEmpty(),"priority of unexpected type.");F(t===Hh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z_;class Ze{constructor(e,n=Ze.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),bw(this.priorityNode_)}static set __childrenNodeConstructor(e){z_=e}static get __childrenNodeConstructor(){return z_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ze(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return re(e)?this:ie(e)===".priority"?this.priorityNode_:Ze.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:Ze.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const i=ie(e);return i===null?n:n.isEmpty()&&i!==".priority"?this:(F(i!==".priority"||fi(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(i,Ze.__childrenNodeConstructor.EMPTY_NODE.updateChild(we(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Mw(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=cw(this.value_):e+=this.value_,this.lazyHash_=aw(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ze.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ze.__childrenNodeConstructor?-1:(F(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,i=typeof this.value_,s=Ze.VALUE_TYPE_ORDER.indexOf(n),o=Ze.VALUE_TYPE_ORDER.indexOf(i);return F(s>=0,"Unknown leaf type: "+n),F(o>=0,"Unknown leaf type: "+i),s===o?i==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Ze.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dw,zw;function dI(t){Dw=t}function fI(t){zw=t}class pI extends su{compare(e,n){const i=e.node.getPriority(),s=n.node.getPriority(),o=i.compareTo(s);return o===0?os(e.name,n.name):o}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return ne.MIN}maxPost(){return new ne(Gi,new Ze("[PRIORITY-POST]",zw))}makePost(e,n){const i=Dw(e);return new ne(n,new Ze("[PRIORITY-POST]",i))}toString(){return".priority"}}const Me=new pI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mI=Math.log(2);class _I{constructor(e){const n=o=>parseInt(Math.log(o)/mI,10),i=o=>parseInt(Array(o+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const s=i(this.count);this.bits_=e+1&s}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const xl=function(t,e,n,i){t.sort(e);const s=function(d,p){const g=p-d;let _,v;if(g===0)return null;if(g===1)return _=t[d],v=n?n(_):_,new Ge(v,_.node,Ge.BLACK,null,null);{const T=parseInt(g/2,10)+d,S=s(d,T),k=s(T+1,p);return _=t[T],v=n?n(_):_,new Ge(v,_.node,Ge.BLACK,S,k)}},o=function(d){let p=null,g=null,_=t.length;const v=function(S,k){const D=_-S,E=_;_-=S;const w=s(D+1,E),C=t[D],R=n?n(C):C;T(new Ge(R,C.node,k,null,w))},T=function(S){p?(p.left=S,p=S):(g=S,p=S)};for(let S=0;S<d.count;++S){const k=d.nextBitIsOne(),D=Math.pow(2,d.count-(S+1));k?v(D,Ge.BLACK):(v(D,Ge.BLACK),v(D,Ge.RED))}return g},l=new _I(t.length),c=o(l);return new vt(i||e,c)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sc;const fr={};class In{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return F(fr&&Me,"ChildrenNode.ts has not been loaded"),Sc=Sc||new In({".priority":fr},{".priority":Me}),Sc}get(e){const n=Xr(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof vt?n:null}hasIndex(e){return zn(this.indexSet_,e.toString())}addIndex(e,n){F(e!==Hr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const i=[];let s=!1;const o=n.getIterator(ne.Wrap);let l=o.getNext();for(;l;)s=s||e.isDefinedOn(l.node),i.push(l),l=o.getNext();let c;s?c=xl(i,e.getCompare()):c=fr;const d=e.toString(),p=Object.assign({},this.indexSet_);p[d]=e;const g=Object.assign({},this.indexes_);return g[d]=c,new In(g,p)}addToIndexes(e,n){const i=El(this.indexes_,(s,o)=>{const l=Xr(this.indexSet_,o);if(F(l,"Missing index implementation for "+o),s===fr)if(l.isDefinedOn(e.node)){const c=[],d=n.getIterator(ne.Wrap);let p=d.getNext();for(;p;)p.name!==e.name&&c.push(p),p=d.getNext();return c.push(e),xl(c,l.getCompare())}else return fr;else{const c=n.get(e.name);let d=s;return c&&(d=d.remove(new ne(e.name,c))),d.insert(e,e.node)}});return new In(i,this.indexSet_)}removeFromIndexes(e,n){const i=El(this.indexes_,s=>{if(s===fr)return s;{const o=n.get(e.name);return o?s.remove(new ne(e.name,o)):s}});return new In(i,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let As;class Y{constructor(e,n,i){this.children_=e,this.priorityNode_=n,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&bw(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return As||(As=new Y(new vt(_f),null,In.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||As}updatePriority(e){return this.children_.isEmpty()?this:new Y(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?As:n}}getChild(e){const n=ie(e);return n===null?this:this.getImmediateChild(n).getChild(we(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(F(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const i=new ne(e,n);let s,o;n.isEmpty()?(s=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(i,this.children_));const l=s.isEmpty()?As:this.priorityNode_;return new Y(s,l,o)}}updateChild(e,n){const i=ie(e);if(i===null)return n;{F(ie(e)!==".priority"||fi(e)===1,".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(we(e),n);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let i=0,s=0,o=!0;if(this.forEachChild(Me,(l,c)=>{n[l]=c.val(e),i++,o&&Y.INTEGER_REGEXP_.test(l)?s=Math.max(s,Number(l)):o=!1}),!e&&o&&s<2*i){const l=[];for(const c in n)l[c]=n[c];return l}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Mw(this.getPriority().val())+":"),this.forEachChild(Me,(n,i)=>{const s=i.hash();s!==""&&(e+=":"+n+":"+s)}),this.lazyHash_=e===""?"":aw(e)}return this.lazyHash_}getPredecessorChildName(e,n,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new ne(e,n));return o?o.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.minKey();return i&&i.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new ne(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const i=n.maxKey();return i&&i.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new ne(n,this.children_.get(n)):null}forEachChild(e,n){const i=this.resolveIndex_(e);return i?i.inorderTraversal(s=>n(s.name,s.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getIteratorFrom(e,s=>s);{const s=this.children_.getIteratorFrom(e.name,ne.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const i=this.resolveIndex_(n);if(i)return i.getReverseIteratorFrom(e,s=>s);{const s=this.children_.getReverseIteratorFrom(e.name,ne.Wrap);let o=s.peek();for(;o!=null&&n.compare(o,e)>0;)s.getNext(),o=s.peek();return s}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Vo?-1:0}withIndex(e){if(e===Hr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Y(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Hr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const i=this.getIterator(Me),s=n.getIterator(Me);let o=i.getNext(),l=s.getNext();for(;o&&l;){if(o.name!==l.name||!o.node.equals(l.node))return!1;o=i.getNext(),l=s.getNext()}return o===null&&l===null}else return!1;else return!1}}resolveIndex_(e){return e===Hr?null:this.indexMap_.get(e.toString())}}Y.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class gI extends Y{constructor(){super(new vt(_f),Y.EMPTY_NODE,In.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Y.EMPTY_NODE}isEmpty(){return!1}}const Vo=new gI;Object.defineProperties(ne,{MIN:{value:new ne(Jr,Y.EMPTY_NODE)},MAX:{value:new ne(Gi,Vo)}});Aw.__EMPTY_NODE=Y.EMPTY_NODE;Ze.__childrenNodeConstructor=Y;hI(Vo);fI(Vo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vI=!0;function at(t,e=null){if(t===null)return Y.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),F(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new Ze(n,at(e))}if(!(t instanceof Array)&&vI){const n=[];let i=!1;if(Ct(t,(l,c)=>{if(l.substring(0,1)!=="."){const d=at(c);d.isEmpty()||(i=i||!d.getPriority().isEmpty(),n.push(new ne(l,d)))}}),n.length===0)return Y.EMPTY_NODE;const o=xl(n,cI,l=>l.name,_f);if(i){const l=xl(n,Me.getCompare());return new Y(o,at(e),new In({".priority":l},{".priority":Me}))}else return new Y(o,at(e),In.Default)}else{let n=Y.EMPTY_NODE;return Ct(t,(i,s)=>{if(zn(t,i)&&i.substring(0,1)!=="."){const o=at(s);(o.isLeafNode()||!o.isEmpty())&&(n=n.updateImmediateChild(i,o))}}),n.updatePriority(at(e))}}dI(at);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI extends su{constructor(e){super(),this.indexPath_=e,F(!re(e)&&ie(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const i=this.extractChild(e.node),s=this.extractChild(n.node),o=i.compareTo(s);return o===0?os(e.name,n.name):o}makePost(e,n){const i=at(e),s=Y.EMPTY_NODE.updateChild(this.indexPath_,i);return new ne(n,s)}maxPost(){const e=Y.EMPTY_NODE.updateChild(this.indexPath_,Vo);return new ne(Gi,e)}toString(){return Lw(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wI extends su{compare(e,n){const i=e.node.compareTo(n.node);return i===0?os(e.name,n.name):i}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return ne.MIN}maxPost(){return ne.MAX}makePost(e,n){const i=at(e);return new ne(n,i)}toString(){return".value"}}const EI=new wI;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fw(t){return{type:"value",snapshotNode:t}}function es(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function So(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function xo(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function CI(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e){this.index_=e}updateChild(e,n,i,s,o,l){F(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const c=e.getImmediateChild(n);return c.getChild(s).equals(i.getChild(s))&&c.isEmpty()===i.isEmpty()||(l!=null&&(i.isEmpty()?e.hasChild(n)?l.trackChildChange(So(n,c)):F(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):c.isEmpty()?l.trackChildChange(es(n,i)):l.trackChildChange(xo(n,i,c))),e.isLeafNode()&&i.isEmpty())?e:e.updateImmediateChild(n,i).withIndex(this.index_)}updateFullNode(e,n,i){return i!=null&&(e.isLeafNode()||e.forEachChild(Me,(s,o)=>{n.hasChild(s)||i.trackChildChange(So(s,o))}),n.isLeafNode()||n.forEachChild(Me,(s,o)=>{if(e.hasChild(s)){const l=e.getImmediateChild(s);l.equals(o)||i.trackChildChange(xo(s,o,l))}else i.trackChildChange(es(s,o))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Y.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.indexedFilter_=new gf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ko.getStartPost_(e),this.endPost_=ko.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,i=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&i}updateChild(e,n,i,s,o,l){return this.matches(new ne(n,i))||(i=Y.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,i,s,o,l)}updateFullNode(e,n,i){n.isLeafNode()&&(n=Y.EMPTY_NODE);let s=n.withIndex(this.index_);s=s.updatePriority(Y.EMPTY_NODE);const o=this;return n.forEachChild(Me,(l,c)=>{o.matches(new ne(l,c))||(s=s.updateImmediateChild(l,Y.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const i=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?i<=0:i<0},this.withinEndPost=n=>{const i=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?i<=0:i<0},this.rangedFilter_=new ko(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,i,s,o,l){return this.rangedFilter_.matches(new ne(n,i))||(i=Y.EMPTY_NODE),e.getImmediateChild(n).equals(i)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,i,s,o,l):this.fullLimitUpdateChild_(e,n,i,o,l)}updateFullNode(e,n,i){let s;if(n.isLeafNode()||n.isEmpty())s=Y.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){s=Y.EMPTY_NODE.withIndex(this.index_);let o;this.reverse_?o=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):o=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let l=0;for(;o.hasNext()&&l<this.limit_;){const c=o.getNext();if(this.withinDirectionalStart(c))if(this.withinDirectionalEnd(c))s=s.updateImmediateChild(c.name,c.node),l++;else break;else continue}}else{s=n.withIndex(this.index_),s=s.updatePriority(Y.EMPTY_NODE);let o;this.reverse_?o=s.getReverseIterator(this.index_):o=s.getIterator(this.index_);let l=0;for(;o.hasNext();){const c=o.getNext();l<this.limit_&&this.withinDirectionalStart(c)&&this.withinDirectionalEnd(c)?l++:s=s.updateImmediateChild(c.name,Y.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,s,i)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,i,s,o){let l;if(this.reverse_){const _=this.index_.getCompare();l=(v,T)=>_(T,v)}else l=this.index_.getCompare();const c=e;F(c.numChildren()===this.limit_,"");const d=new ne(n,i),p=this.reverse_?c.getFirstChild(this.index_):c.getLastChild(this.index_),g=this.rangedFilter_.matches(d);if(c.hasChild(n)){const _=c.getImmediateChild(n);let v=s.getChildAfterChild(this.index_,p,this.reverse_);for(;v!=null&&(v.name===n||c.hasChild(v.name));)v=s.getChildAfterChild(this.index_,v,this.reverse_);const T=v==null?1:l(v,d);if(g&&!i.isEmpty()&&T>=0)return o!=null&&o.trackChildChange(xo(n,i,_)),c.updateImmediateChild(n,i);{o!=null&&o.trackChildChange(So(n,_));const k=c.updateImmediateChild(n,Y.EMPTY_NODE);return v!=null&&this.rangedFilter_.matches(v)?(o!=null&&o.trackChildChange(es(v.name,v.node)),k.updateImmediateChild(v.name,v.node)):k}}else return i.isEmpty()?e:g&&l(p,d)>=0?(o!=null&&(o.trackChildChange(So(p.name,p.node)),o.trackChildChange(es(n,i))),c.updateImmediateChild(n,i).updateImmediateChild(p.name,Y.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Me}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Jr}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Gi}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Me}copy(){const e=new vf;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function SI(t){return t.loadsAllData()?new gf(t.getIndex()):t.hasLimit()?new TI(t):new ko(t)}function F_(t){const e={};if(t.isDefault())return e;let n;if(t.index_===Me?n="$priority":t.index_===EI?n="$value":t.index_===Hr?n="$key":(F(t.index_ instanceof yI,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Ke(n),t.startSet_){const i=t.startAfterSet_?"startAfter":"startAt";e[i]=Ke(t.indexStartValue_),t.startNameSet_&&(e[i]+=","+Ke(t.indexStartName_))}if(t.endSet_){const i=t.endBeforeSet_?"endBefore":"endAt";e[i]=Ke(t.indexEndValue_),t.endNameSet_&&(e[i]+=","+Ke(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function B_(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==Me&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl extends Iw{constructor(e,n,i,s){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=i,this.appCheckTokenProvider_=s,this.log_=jo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(F(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,i,s){const o=e._path.toString();this.log_("Listen called for "+o+" "+e._queryIdentifier);const l=kl.getListenId_(e,i),c={};this.listens_[l]=c;const d=F_(e._queryParams);this.restRequest_(o+".json",d,(p,g)=>{let _=g;if(p===404&&(_=null,p=null),p===null&&this.onDataUpdate_(o,_,!1,i),Xr(this.listens_,l)===c){let v;p?p===401?v="permission_denied":v="rest_error:"+p:v="ok",s(v,null)}})}unlisten(e,n){const i=kl.getListenId_(e,n);delete this.listens_[i]}get(e){const n=F_(e._queryParams),i=e._path.toString(),s=new sf;return this.restRequest_(i+".json",n,(o,l)=>{let c=l;o===404&&(c=null,o=null),o===null?(this.onDataUpdate_(i,c,!1,null),s.resolve(c)):s.reject(new Error(c))}),s.promise}refreshAuthToken(e){}restRequest_(e,n={},i){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([s,o])=>{s&&s.accessToken&&(n.auth=s.accessToken),o&&o.token&&(n.ac=o.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+af(n);this.log_("Sending REST request for "+l);const c=new XMLHttpRequest;c.onreadystatechange=()=>{if(i&&c.readyState===4){this.log_("REST Response for "+l+" received. status:",c.status,"response:",c.responseText);let d=null;if(c.status>=200&&c.status<300){try{d=Eo(c.responseText)}catch{Pt("Failed to parse JSON response for "+l+": "+c.responseText)}i(null,d)}else c.status!==401&&c.status!==404&&Pt("Got unsuccessful REST response for "+l+" Status: "+c.status),i(c.status);i=null}},c.open("GET",l,!0),c.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xI{constructor(){this.rootNode_=Y.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Il(){return{value:null,children:new Map}}function Bw(t,e,n){if(re(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const i=ie(e);t.children.has(i)||t.children.set(i,Il());const s=t.children.get(i);e=we(e),Bw(s,e,n)}}function jh(t,e,n){t.value!==null?n(e,t.value):kI(t,(i,s)=>{const o=new _e(e.toString()+"/"+i);jh(s,o,n)})}function kI(t,e){t.children.forEach((n,i)=>{e(i,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Ct(this.last_,(i,s)=>{n[i]=n[i]-s}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_=10*1e3,PI=30*1e3,NI=5*60*1e3;class LI{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new II(e);const i=U_+(PI-U_)*Math.random();Qs(this.reportStats_.bind(this),Math.floor(i))}reportStats_(){const e=this.statsListener_.get(),n={};let i=!1;Ct(e,(s,o)=>{o>0&&zn(this.statsToReport_,s)&&(n[s]=o,i=!0)}),i&&this.server_.reportStats(n),Qs(this.reportStats_.bind(this),Math.floor(Math.random()*2*NI))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(qt||(qt={}));function Uw(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function yf(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function wf(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pl{constructor(e,n,i){this.path=e,this.affectedTree=n,this.revert=i,this.type=qt.ACK_USER_WRITE,this.source=Uw()}operationForChild(e){if(re(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new _e(e));return new Pl(he(),n,this.revert)}}else return F(ie(this.path)===e,"operationForChild called for unrelated child."),new Pl(we(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Io{constructor(e,n){this.source=e,this.path=n,this.type=qt.LISTEN_COMPLETE}operationForChild(e){return re(this.path)?new Io(this.source,he()):new Io(this.source,we(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n,i){this.source=e,this.path=n,this.snap=i,this.type=qt.OVERWRITE}operationForChild(e){return re(this.path)?new Ki(this.source,he(),this.snap.getImmediateChild(e)):new Ki(this.source,we(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n,i){this.source=e,this.path=n,this.children=i,this.type=qt.MERGE}operationForChild(e){if(re(this.path)){const n=this.children.subtree(new _e(e));return n.isEmpty()?null:n.value?new Ki(this.source,he(),n.value):new Po(this.source,he(),n)}else return F(ie(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Po(this.source,we(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yi{constructor(e,n,i){this.node_=e,this.fullyInitialized_=n,this.filtered_=i}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(re(e))return this.isFullyInitialized()&&!this.filtered_;const n=ie(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RI{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function OI(t,e,n,i){const s=[],o=[];return e.forEach(l=>{l.type==="child_changed"&&t.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&o.push(CI(l.childName,l.snapshotNode))}),Ms(t,s,"child_removed",e,i,n),Ms(t,s,"child_added",e,i,n),Ms(t,s,"child_moved",o,i,n),Ms(t,s,"child_changed",e,i,n),Ms(t,s,"value",e,i,n),s}function Ms(t,e,n,i,s,o){const l=i.filter(c=>c.type===n);l.sort((c,d)=>MI(t,c,d)),l.forEach(c=>{const d=AI(t,c,o);s.forEach(p=>{p.respondsTo(c.type)&&e.push(p.createEvent(d,t.query_))})})}function AI(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function MI(t,e,n){if(e.childName==null||n.childName==null)throw ss("Should only compare child_ events.");const i=new ne(e.childName,e.snapshotNode),s=new ne(n.childName,n.snapshotNode);return t.index_.compare(i,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(t,e){return{eventCache:t,serverCache:e}}function Xs(t,e,n,i){return ou(new Yi(e,n,i),t.serverCache)}function Hw(t,e,n,i){return ou(t.eventCache,new Yi(e,n,i))}function Wh(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function qi(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;const bI=()=>(xc||(xc=new vt(w1)),xc);class Te{constructor(e,n=bI()){this.value=e,this.children=n}static fromObject(e){let n=new Te(null);return Ct(e,(i,s)=>{n=n.set(new _e(i),s)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:he(),value:this.value};if(re(e))return null;{const i=ie(e),s=this.children.get(i);if(s!==null){const o=s.findRootMostMatchingPathAndValue(we(e),n);return o!=null?{path:je(new _e(i),o.path),value:o.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(re(e))return this;{const n=ie(e),i=this.children.get(n);return i!==null?i.subtree(we(e)):new Te(null)}}set(e,n){if(re(e))return new Te(n,this.children);{const i=ie(e),o=(this.children.get(i)||new Te(null)).set(we(e),n),l=this.children.insert(i,o);return new Te(this.value,l)}}remove(e){if(re(e))return this.children.isEmpty()?new Te(null):new Te(null,this.children);{const n=ie(e),i=this.children.get(n);if(i){const s=i.remove(we(e));let o;return s.isEmpty()?o=this.children.remove(n):o=this.children.insert(n,s),this.value===null&&o.isEmpty()?new Te(null):new Te(this.value,o)}else return this}}get(e){if(re(e))return this.value;{const n=ie(e),i=this.children.get(n);return i?i.get(we(e)):null}}setTree(e,n){if(re(e))return n;{const i=ie(e),o=(this.children.get(i)||new Te(null)).setTree(we(e),n);let l;return o.isEmpty()?l=this.children.remove(i):l=this.children.insert(i,o),new Te(this.value,l)}}fold(e){return this.fold_(he(),e)}fold_(e,n){const i={};return this.children.inorderTraversal((s,o)=>{i[s]=o.fold_(je(e,s),n)}),n(e,this.value,i)}findOnPath(e,n){return this.findOnPath_(e,he(),n)}findOnPath_(e,n,i){const s=this.value?i(n,this.value):!1;if(s)return s;if(re(e))return null;{const o=ie(e),l=this.children.get(o);return l?l.findOnPath_(we(e),je(n,o),i):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,he(),n)}foreachOnPath_(e,n,i){if(re(e))return this;{this.value&&i(n,this.value);const s=ie(e),o=this.children.get(s);return o?o.foreachOnPath_(we(e),je(n,s),i):new Te(null)}}foreach(e){this.foreach_(he(),e)}foreach_(e,n){this.children.inorderTraversal((i,s)=>{s.foreach_(je(e,i),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,i)=>{i.value&&e(n,i.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.writeTree_=e}static empty(){return new en(new Te(null))}}function Js(t,e,n){if(re(e))return new en(new Te(n));{const i=t.writeTree_.findRootMostValueAndPath(e);if(i!=null){const s=i.path;let o=i.value;const l=gt(s,e);return o=o.updateChild(l,n),new en(t.writeTree_.set(s,o))}else{const s=new Te(n),o=t.writeTree_.setTree(e,s);return new en(o)}}}function H_(t,e,n){let i=t;return Ct(n,(s,o)=>{i=Js(i,je(e,s),o)}),i}function j_(t,e){if(re(e))return en.empty();{const n=t.writeTree_.setTree(e,new Te(null));return new en(n)}}function Vh(t,e){return Ji(t,e)!=null}function Ji(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(gt(n.path,e)):null}function W_(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(Me,(i,s)=>{e.push(new ne(i,s))}):t.writeTree_.children.inorderTraversal((i,s)=>{s.value!=null&&e.push(new ne(i,s.value))}),e}function ui(t,e){if(re(e))return t;{const n=Ji(t,e);return n!=null?new en(new Te(n)):new en(t.writeTree_.subtree(e))}}function Zh(t){return t.writeTree_.isEmpty()}function ts(t,e){return jw(he(),t.writeTree_,e)}function jw(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let i=null;return e.children.inorderTraversal((s,o)=>{s===".priority"?(F(o.value!==null,"Priority writes must always be leaf nodes"),i=o.value):n=jw(je(t,s),o,n)}),!n.getChild(t).isEmpty()&&i!==null&&(n=n.updateChild(je(t,".priority"),i)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t,e){return $w(e,t)}function DI(t,e,n,i,s){F(i>t.lastWriteId,"Stacking an older write on top of newer ones"),s===void 0&&(s=!0),t.allWrites.push({path:e,snap:n,writeId:i,visible:s}),s&&(t.visibleWrites=Js(t.visibleWrites,e,n)),t.lastWriteId=i}function zI(t,e){for(let n=0;n<t.allWrites.length;n++){const i=t.allWrites[n];if(i.writeId===e)return i}return null}function FI(t,e){const n=t.allWrites.findIndex(c=>c.writeId===e);F(n>=0,"removeWrite called with nonexistent writeId.");const i=t.allWrites[n];t.allWrites.splice(n,1);let s=i.visible,o=!1,l=t.allWrites.length-1;for(;s&&l>=0;){const c=t.allWrites[l];c.visible&&(l>=n&&BI(c,i.path)?s=!1:Yt(i.path,c.path)&&(o=!0)),l--}if(s){if(o)return UI(t),!0;if(i.snap)t.visibleWrites=j_(t.visibleWrites,i.path);else{const c=i.children;Ct(c,d=>{t.visibleWrites=j_(t.visibleWrites,je(i.path,d))})}return!0}else return!1}function BI(t,e){if(t.snap)return Yt(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&Yt(je(t.path,n),e))return!0;return!1}function UI(t){t.visibleWrites=Ww(t.allWrites,HI,he()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function HI(t){return t.visible}function Ww(t,e,n){let i=en.empty();for(let s=0;s<t.length;++s){const o=t[s];if(e(o)){const l=o.path;let c;if(o.snap)Yt(n,l)?(c=gt(n,l),i=Js(i,c,o.snap)):Yt(l,n)&&(c=gt(l,n),i=Js(i,he(),o.snap.getChild(c)));else if(o.children){if(Yt(n,l))c=gt(n,l),i=H_(i,c,o.children);else if(Yt(l,n))if(c=gt(l,n),re(c))i=H_(i,he(),o.children);else{const d=Xr(o.children,ie(c));if(d){const p=d.getChild(we(c));i=Js(i,he(),p)}}}else throw ss("WriteRecord should have .snap or .children")}}return i}function Vw(t,e,n,i,s){if(!i&&!s){const o=Ji(t.visibleWrites,e);if(o!=null)return o;{const l=ui(t.visibleWrites,e);if(Zh(l))return n;if(n==null&&!Vh(l,he()))return null;{const c=n||Y.EMPTY_NODE;return ts(l,c)}}}else{const o=ui(t.visibleWrites,e);if(!s&&Zh(o))return n;if(!s&&n==null&&!Vh(o,he()))return null;{const l=function(p){return(p.visible||s)&&(!i||!~i.indexOf(p.writeId))&&(Yt(p.path,e)||Yt(e,p.path))},c=Ww(t.allWrites,l,e),d=n||Y.EMPTY_NODE;return ts(c,d)}}}function jI(t,e,n){let i=Y.EMPTY_NODE;const s=Ji(t.visibleWrites,e);if(s)return s.isLeafNode()||s.forEachChild(Me,(o,l)=>{i=i.updateImmediateChild(o,l)}),i;if(n){const o=ui(t.visibleWrites,e);return n.forEachChild(Me,(l,c)=>{const d=ts(ui(o,new _e(l)),c);i=i.updateImmediateChild(l,d)}),W_(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}else{const o=ui(t.visibleWrites,e);return W_(o).forEach(l=>{i=i.updateImmediateChild(l.name,l.node)}),i}}function WI(t,e,n,i,s){F(i||s,"Either existingEventSnap or existingServerSnap must exist");const o=je(e,n);if(Vh(t.visibleWrites,o))return null;{const l=ui(t.visibleWrites,o);return Zh(l)?s.getChild(n):ts(l,s.getChild(n))}}function VI(t,e,n,i){const s=je(e,n),o=Ji(t.visibleWrites,s);if(o!=null)return o;if(i.isCompleteForChild(n)){const l=ui(t.visibleWrites,s);return ts(l,i.getNode().getImmediateChild(n))}else return null}function ZI(t,e){return Ji(t.visibleWrites,e)}function $I(t,e,n,i,s,o,l){let c;const d=ui(t.visibleWrites,e),p=Ji(d,he());if(p!=null)c=p;else if(n!=null)c=ts(d,n);else return[];if(c=c.withIndex(l),!c.isEmpty()&&!c.isLeafNode()){const g=[],_=l.getCompare(),v=o?c.getReverseIteratorFrom(i,l):c.getIteratorFrom(i,l);let T=v.getNext();for(;T&&g.length<s;)_(T,i)!==0&&g.push(T),T=v.getNext();return g}else return[]}function GI(){return{visibleWrites:en.empty(),allWrites:[],lastWriteId:-1}}function Nl(t,e,n,i){return Vw(t.writeTree,t.treePath,e,n,i)}function Cf(t,e){return jI(t.writeTree,t.treePath,e)}function V_(t,e,n,i){return WI(t.writeTree,t.treePath,e,n,i)}function Ll(t,e){return ZI(t.writeTree,je(t.treePath,e))}function KI(t,e,n,i,s,o){return $I(t.writeTree,t.treePath,e,n,i,s,o)}function Tf(t,e,n){return VI(t.writeTree,t.treePath,e,n)}function Zw(t,e){return $w(je(t.treePath,e),t.writeTree)}function $w(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YI{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,i=e.childName;F(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),F(i!==".priority","Only non-priority child changes can be tracked.");const s=this.changeMap.get(i);if(s){const o=s.type;if(n==="child_added"&&o==="child_removed")this.changeMap.set(i,xo(i,e.snapshotNode,s.snapshotNode));else if(n==="child_removed"&&o==="child_added")this.changeMap.delete(i);else if(n==="child_removed"&&o==="child_changed")this.changeMap.set(i,So(i,s.oldSnap));else if(n==="child_changed"&&o==="child_added")this.changeMap.set(i,es(i,e.snapshotNode));else if(n==="child_changed"&&o==="child_changed")this.changeMap.set(i,xo(i,e.snapshotNode,s.oldSnap));else throw ss("Illegal combination of changes: "+e+" occurred after "+s)}else this.changeMap.set(i,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qI{getCompleteChild(e){return null}getChildAfterChild(e,n,i){return null}}const Gw=new qI;class Sf{constructor(e,n,i=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=i}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const i=this.optCompleteServerCache_!=null?new Yi(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Tf(this.writes_,e,i)}}getChildAfterChild(e,n,i){const s=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:qi(this.viewCache_),o=KI(this.writes_,s,n,1,i,e);return o.length===0?null:o[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QI(t){return{filter:t}}function XI(t,e){F(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),F(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function JI(t,e,n,i,s){const o=new YI;let l,c;if(n.type===qt.OVERWRITE){const p=n;p.source.fromUser?l=$h(t,e,p.path,p.snap,i,s,o):(F(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered()&&!re(p.path),l=Rl(t,e,p.path,p.snap,i,s,c,o))}else if(n.type===qt.MERGE){const p=n;p.source.fromUser?l=tP(t,e,p.path,p.children,i,s,o):(F(p.source.fromServer,"Unknown source."),c=p.source.tagged||e.serverCache.isFiltered(),l=Gh(t,e,p.path,p.children,i,s,c,o))}else if(n.type===qt.ACK_USER_WRITE){const p=n;p.revert?l=rP(t,e,p.path,i,s,o):l=nP(t,e,p.path,p.affectedTree,i,s,o)}else if(n.type===qt.LISTEN_COMPLETE)l=iP(t,e,n.path,i,o);else throw ss("Unknown operation type: "+n.type);const d=o.getChanges();return eP(e,l,d),{viewCache:l,changes:d}}function eP(t,e,n){const i=e.eventCache;if(i.isFullyInitialized()){const s=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=Wh(t);(n.length>0||!t.eventCache.isFullyInitialized()||s&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Fw(Wh(e)))}}function Kw(t,e,n,i,s,o){const l=e.eventCache;if(Ll(i,n)!=null)return e;{let c,d;if(re(n))if(F(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const p=qi(e),g=p instanceof Y?p:Y.EMPTY_NODE,_=Cf(i,g);c=t.filter.updateFullNode(e.eventCache.getNode(),_,o)}else{const p=Nl(i,qi(e));c=t.filter.updateFullNode(e.eventCache.getNode(),p,o)}else{const p=ie(n);if(p===".priority"){F(fi(n)===1,"Can't have a priority with additional path components");const g=l.getNode();d=e.serverCache.getNode();const _=V_(i,n,g,d);_!=null?c=t.filter.updatePriority(g,_):c=l.getNode()}else{const g=we(n);let _;if(l.isCompleteForChild(p)){d=e.serverCache.getNode();const v=V_(i,n,l.getNode(),d);v!=null?_=l.getNode().getImmediateChild(p).updateChild(g,v):_=l.getNode().getImmediateChild(p)}else _=Tf(i,p,e.serverCache);_!=null?c=t.filter.updateChild(l.getNode(),p,_,g,s,o):c=l.getNode()}}return Xs(e,c,l.isFullyInitialized()||re(n),t.filter.filtersNodes())}}function Rl(t,e,n,i,s,o,l,c){const d=e.serverCache;let p;const g=l?t.filter:t.filter.getIndexedFilter();if(re(n))p=g.updateFullNode(d.getNode(),i,null);else if(g.filtersNodes()&&!d.isFiltered()){const T=d.getNode().updateChild(n,i);p=g.updateFullNode(d.getNode(),T,null)}else{const T=ie(n);if(!d.isCompleteForPath(n)&&fi(n)>1)return e;const S=we(n),D=d.getNode().getImmediateChild(T).updateChild(S,i);T===".priority"?p=g.updatePriority(d.getNode(),D):p=g.updateChild(d.getNode(),T,D,S,Gw,null)}const _=Hw(e,p,d.isFullyInitialized()||re(n),g.filtersNodes()),v=new Sf(s,_,o);return Kw(t,_,n,s,v,c)}function $h(t,e,n,i,s,o,l){const c=e.eventCache;let d,p;const g=new Sf(s,e,o);if(re(n))p=t.filter.updateFullNode(e.eventCache.getNode(),i,l),d=Xs(e,p,!0,t.filter.filtersNodes());else{const _=ie(n);if(_===".priority")p=t.filter.updatePriority(e.eventCache.getNode(),i),d=Xs(e,p,c.isFullyInitialized(),c.isFiltered());else{const v=we(n),T=c.getNode().getImmediateChild(_);let S;if(re(v))S=i;else{const k=g.getCompleteChild(_);k!=null?Nw(v)===".priority"&&k.getChild(Rw(v)).isEmpty()?S=k:S=k.updateChild(v,i):S=Y.EMPTY_NODE}if(T.equals(S))d=e;else{const k=t.filter.updateChild(c.getNode(),_,S,v,g,l);d=Xs(e,k,c.isFullyInitialized(),t.filter.filtersNodes())}}}return d}function Z_(t,e){return t.eventCache.isCompleteForChild(e)}function tP(t,e,n,i,s,o,l){let c=e;return i.foreach((d,p)=>{const g=je(n,d);Z_(e,ie(g))&&(c=$h(t,c,g,p,s,o,l))}),i.foreach((d,p)=>{const g=je(n,d);Z_(e,ie(g))||(c=$h(t,c,g,p,s,o,l))}),c}function $_(t,e,n){return n.foreach((i,s)=>{e=e.updateChild(i,s)}),e}function Gh(t,e,n,i,s,o,l,c){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let d=e,p;re(n)?p=i:p=new Te(null).setTree(n,i);const g=e.serverCache.getNode();return p.children.inorderTraversal((_,v)=>{if(g.hasChild(_)){const T=e.serverCache.getNode().getImmediateChild(_),S=$_(t,T,v);d=Rl(t,d,new _e(_),S,s,o,l,c)}}),p.children.inorderTraversal((_,v)=>{const T=!e.serverCache.isCompleteForChild(_)&&v.value===null;if(!g.hasChild(_)&&!T){const S=e.serverCache.getNode().getImmediateChild(_),k=$_(t,S,v);d=Rl(t,d,new _e(_),k,s,o,l,c)}}),d}function nP(t,e,n,i,s,o,l){if(Ll(s,n)!=null)return e;const c=e.serverCache.isFiltered(),d=e.serverCache;if(i.value!=null){if(re(n)&&d.isFullyInitialized()||d.isCompleteForPath(n))return Rl(t,e,n,d.getNode().getChild(n),s,o,c,l);if(re(n)){let p=new Te(null);return d.getNode().forEachChild(Hr,(g,_)=>{p=p.set(new _e(g),_)}),Gh(t,e,n,p,s,o,c,l)}else return e}else{let p=new Te(null);return i.foreach((g,_)=>{const v=je(n,g);d.isCompleteForPath(v)&&(p=p.set(g,d.getNode().getChild(v)))}),Gh(t,e,n,p,s,o,c,l)}}function iP(t,e,n,i,s){const o=e.serverCache,l=Hw(e,o.getNode(),o.isFullyInitialized()||re(n),o.isFiltered());return Kw(t,l,n,i,Gw,s)}function rP(t,e,n,i,s,o){let l;if(Ll(i,n)!=null)return e;{const c=new Sf(i,e,s),d=e.eventCache.getNode();let p;if(re(n)||ie(n)===".priority"){let g;if(e.serverCache.isFullyInitialized())g=Nl(i,qi(e));else{const _=e.serverCache.getNode();F(_ instanceof Y,"serverChildren would be complete if leaf node"),g=Cf(i,_)}g=g,p=t.filter.updateFullNode(d,g,o)}else{const g=ie(n);let _=Tf(i,g,e.serverCache);_==null&&e.serverCache.isCompleteForChild(g)&&(_=d.getImmediateChild(g)),_!=null?p=t.filter.updateChild(d,g,_,we(n),c,o):e.eventCache.getNode().hasChild(g)?p=t.filter.updateChild(d,g,Y.EMPTY_NODE,we(n),c,o):p=d,p.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=Nl(i,qi(e)),l.isLeafNode()&&(p=t.filter.updateFullNode(p,l,o)))}return l=e.serverCache.isFullyInitialized()||Ll(i,he())!=null,Xs(e,p,l,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const i=this.query_._queryParams,s=new gf(i.getIndex()),o=SI(i);this.processor_=QI(o);const l=n.serverCache,c=n.eventCache,d=s.updateFullNode(Y.EMPTY_NODE,l.getNode(),null),p=o.updateFullNode(Y.EMPTY_NODE,c.getNode(),null),g=new Yi(d,l.isFullyInitialized(),s.filtersNodes()),_=new Yi(p,c.isFullyInitialized(),o.filtersNodes());this.viewCache_=ou(_,g),this.eventGenerator_=new RI(this.query_)}get query(){return this.query_}}function oP(t){return t.viewCache_.serverCache.getNode()}function aP(t,e){const n=qi(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!re(e)&&!n.getImmediateChild(ie(e)).isEmpty())?n.getChild(e):null}function G_(t){return t.eventRegistrations_.length===0}function lP(t,e){t.eventRegistrations_.push(e)}function K_(t,e,n){const i=[];if(n){F(e==null,"A cancel should cancel all event registrations.");const s=t.query._path;t.eventRegistrations_.forEach(o=>{const l=o.createCancelEvent(n,s);l&&i.push(l)})}if(e){let s=[];for(let o=0;o<t.eventRegistrations_.length;++o){const l=t.eventRegistrations_[o];if(!l.matches(e))s.push(l);else if(e.hasAnyCallback()){s=s.concat(t.eventRegistrations_.slice(o+1));break}}t.eventRegistrations_=s}else t.eventRegistrations_=[];return i}function Y_(t,e,n,i){e.type===qt.MERGE&&e.source.queryId!==null&&(F(qi(t.viewCache_),"We should always have a full cache before handling merges"),F(Wh(t.viewCache_),"Missing event cache, even though we have a server cache"));const s=t.viewCache_,o=JI(t.processor_,s,e,n,i);return XI(t.processor_,o.viewCache),F(o.viewCache.serverCache.isFullyInitialized()||!s.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=o.viewCache,Yw(t,o.changes,o.viewCache.eventCache.getNode(),null)}function uP(t,e){const n=t.viewCache_.eventCache,i=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(Me,(o,l)=>{i.push(es(o,l))}),n.isFullyInitialized()&&i.push(Fw(n.getNode())),Yw(t,i,n.getNode(),e)}function Yw(t,e,n,i){const s=i?[i]:t.eventRegistrations_;return OI(t.eventGenerator_,e,n,s)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ol;class cP{constructor(){this.views=new Map}}function hP(t){F(!Ol,"__referenceConstructor has already been defined"),Ol=t}function dP(){return F(Ol,"Reference.ts has not been loaded"),Ol}function fP(t){return t.views.size===0}function xf(t,e,n,i){const s=e.source.queryId;if(s!==null){const o=t.views.get(s);return F(o!=null,"SyncTree gave us an op for an invalid query."),Y_(o,e,n,i)}else{let o=[];for(const l of t.views.values())o=o.concat(Y_(l,e,n,i));return o}}function pP(t,e,n,i,s){const o=e._queryIdentifier,l=t.views.get(o);if(!l){let c=Nl(n,s?i:null),d=!1;c?d=!0:i instanceof Y?(c=Cf(n,i),d=!1):(c=Y.EMPTY_NODE,d=!1);const p=ou(new Yi(c,d,!1),new Yi(i,s,!1));return new sP(e,p)}return l}function mP(t,e,n,i,s,o){const l=pP(t,e,i,s,o);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,l),lP(l,n),uP(l,n)}function _P(t,e,n,i){const s=e._queryIdentifier,o=[];let l=[];const c=pi(t);if(s==="default")for(const[d,p]of t.views.entries())l=l.concat(K_(p,n,i)),G_(p)&&(t.views.delete(d),p.query._queryParams.loadsAllData()||o.push(p.query));else{const d=t.views.get(s);d&&(l=l.concat(K_(d,n,i)),G_(d)&&(t.views.delete(s),d.query._queryParams.loadsAllData()||o.push(d.query)))}return c&&!pi(t)&&o.push(new(dP())(e._repo,e._path)),{removed:o,events:l}}function qw(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function jr(t,e){let n=null;for(const i of t.views.values())n=n||aP(i,e);return n}function Qw(t,e){if(e._queryParams.loadsAllData())return au(t);{const i=e._queryIdentifier;return t.views.get(i)}}function Xw(t,e){return Qw(t,e)!=null}function pi(t){return au(t)!=null}function au(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al;function gP(t){F(!Al,"__referenceConstructor has already been defined"),Al=t}function vP(){return F(Al,"Reference.ts has not been loaded"),Al}let yP=1;class q_{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Te(null),this.pendingWriteTree_=GI(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wP(t,e,n,i,s){return DI(t.pendingWriteTree_,e,n,i,s),s?Zo(t,new Ki(Uw(),e,n)):[]}function Or(t,e,n=!1){const i=zI(t.pendingWriteTree_,e);if(FI(t.pendingWriteTree_,e)){let o=new Te(null);return i.snap!=null?o=o.set(he(),!0):Ct(i.children,l=>{o=o.set(new _e(l),!0)}),Zo(t,new Pl(i.path,o,n))}else return[]}function lu(t,e,n){return Zo(t,new Ki(yf(),e,n))}function EP(t,e,n){const i=Te.fromObject(n);return Zo(t,new Po(yf(),e,i))}function CP(t,e){return Zo(t,new Io(yf(),e))}function TP(t,e,n){const i=kf(t,n);if(i){const s=If(i),o=s.path,l=s.queryId,c=gt(o,e),d=new Io(wf(l),c);return Pf(t,o,d)}else return[]}function Kh(t,e,n,i,s=!1){const o=e._path,l=t.syncPointTree_.get(o);let c=[];if(l&&(e._queryIdentifier==="default"||Xw(l,e))){const d=_P(l,e,n,i);fP(l)&&(t.syncPointTree_=t.syncPointTree_.remove(o));const p=d.removed;if(c=d.events,!s){const g=p.findIndex(v=>v._queryParams.loadsAllData())!==-1,_=t.syncPointTree_.findOnPath(o,(v,T)=>pi(T));if(g&&!_){const v=t.syncPointTree_.subtree(o);if(!v.isEmpty()){const T=kP(v);for(let S=0;S<T.length;++S){const k=T[S],D=k.query,E=n0(t,k);t.listenProvider_.startListening(eo(D),Ml(t,D),E.hashFn,E.onComplete)}}}!_&&p.length>0&&!i&&(g?t.listenProvider_.stopListening(eo(e),null):p.forEach(v=>{const T=t.queryToTagMap.get(uu(v));t.listenProvider_.stopListening(eo(v),T)}))}IP(t,p)}return c}function SP(t,e,n,i){const s=kf(t,i);if(s!=null){const o=If(s),l=o.path,c=o.queryId,d=gt(l,e),p=new Ki(wf(c),d,n);return Pf(t,l,p)}else return[]}function xP(t,e,n,i){const s=kf(t,i);if(s){const o=If(s),l=o.path,c=o.queryId,d=gt(l,e),p=Te.fromObject(n),g=new Po(wf(c),d,p);return Pf(t,l,g)}else return[]}function Q_(t,e,n,i=!1){const s=e._path;let o=null,l=!1;t.syncPointTree_.foreachOnPath(s,(v,T)=>{const S=gt(v,s);o=o||jr(T,S),l=l||pi(T)});let c=t.syncPointTree_.get(s);c?(l=l||pi(c),o=o||jr(c,he())):(c=new cP,t.syncPointTree_=t.syncPointTree_.set(s,c));let d;o!=null?d=!0:(d=!1,o=Y.EMPTY_NODE,t.syncPointTree_.subtree(s).foreachChild((T,S)=>{const k=jr(S,he());k&&(o=o.updateImmediateChild(T,k))}));const p=Xw(c,e);if(!p&&!e._queryParams.loadsAllData()){const v=uu(e);F(!t.queryToTagMap.has(v),"View does not exist, but we have a tag");const T=PP();t.queryToTagMap.set(v,T),t.tagToQueryMap.set(T,v)}const g=Ef(t.pendingWriteTree_,s);let _=mP(c,e,n,g,o,d);if(!p&&!l&&!i){const v=Qw(c,e);_=_.concat(NP(t,e,v))}return _}function Jw(t,e,n){const s=t.pendingWriteTree_,o=t.syncPointTree_.findOnPath(e,(l,c)=>{const d=gt(l,e),p=jr(c,d);if(p)return p});return Vw(s,e,o,n,!0)}function Zo(t,e){return e0(e,t.syncPointTree_,null,Ef(t.pendingWriteTree_,he()))}function e0(t,e,n,i){if(re(t.path))return t0(t,e,n,i);{const s=e.get(he());n==null&&s!=null&&(n=jr(s,he()));let o=[];const l=ie(t.path),c=t.operationForChild(l),d=e.children.get(l);if(d&&c){const p=n?n.getImmediateChild(l):null,g=Zw(i,l);o=o.concat(e0(c,d,p,g))}return s&&(o=o.concat(xf(s,t,i,n))),o}}function t0(t,e,n,i){const s=e.get(he());n==null&&s!=null&&(n=jr(s,he()));let o=[];return e.children.inorderTraversal((l,c)=>{const d=n?n.getImmediateChild(l):null,p=Zw(i,l),g=t.operationForChild(l);g&&(o=o.concat(t0(g,c,d,p)))}),s&&(o=o.concat(xf(s,t,i,n))),o}function n0(t,e){const n=e.query,i=Ml(t,n);return{hashFn:()=>(oP(e)||Y.EMPTY_NODE).hash(),onComplete:s=>{if(s==="ok")return i?TP(t,n._path,i):CP(t,n._path);{const o=T1(s,n);return Kh(t,n,null,o)}}}}function Ml(t,e){const n=uu(e);return t.queryToTagMap.get(n)}function uu(t){return t._path.toString()+"$"+t._queryIdentifier}function kf(t,e){return t.tagToQueryMap.get(e)}function If(t){const e=t.indexOf("$");return F(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new _e(t.substr(0,e))}}function Pf(t,e,n){const i=t.syncPointTree_.get(e);F(i,"Missing sync point for query tag that we're tracking");const s=Ef(t.pendingWriteTree_,e);return xf(i,n,s,null)}function kP(t){return t.fold((e,n,i)=>{if(n&&pi(n))return[au(n)];{let s=[];return n&&(s=qw(n)),Ct(i,(o,l)=>{s=s.concat(l)}),s}})}function eo(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(vP())(t._repo,t._path):t}function IP(t,e){for(let n=0;n<e.length;++n){const i=e[n];if(!i._queryParams.loadsAllData()){const s=uu(i),o=t.queryToTagMap.get(s);t.queryToTagMap.delete(s),t.tagToQueryMap.delete(o)}}}function PP(){return yP++}function NP(t,e,n){const i=e._path,s=Ml(t,e),o=n0(t,n),l=t.listenProvider_.startListening(eo(e),s,o.hashFn,o.onComplete),c=t.syncPointTree_.subtree(i);if(s)F(!pi(c.value),"If we're adding a query, it shouldn't be shadowed");else{const d=c.fold((p,g,_)=>{if(!re(p)&&g&&pi(g))return[au(g).query];{let v=[];return g&&(v=v.concat(qw(g).map(T=>T.query))),Ct(_,(T,S)=>{v=v.concat(S)}),v}});for(let p=0;p<d.length;++p){const g=d[p];t.listenProvider_.stopListening(eo(g),Ml(t,g))}}return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nf{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Nf(n)}node(){return this.node_}}class Lf{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=je(this.path_,e);return new Lf(this.syncTree_,n)}node(){return Jw(this.syncTree_,this.path_)}}const LP=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},X_=function(t,e,n){if(!t||typeof t!="object")return t;if(F(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return RP(t[".sv"],e,n);if(typeof t[".sv"]=="object")return OP(t[".sv"],e);F(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},RP=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:F(!1,"Unexpected server value: "+t)}},OP=function(t,e,n){t.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const i=t.increment;typeof i!="number"&&F(!1,"Unexpected increment value: "+i);const s=e.node();if(F(s!==null&&typeof s<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!s.isLeafNode())return i;const l=s.getValue();return typeof l!="number"?i:l+i},AP=function(t,e,n,i){return Rf(e,new Lf(n,t),i)},MP=function(t,e,n){return Rf(t,new Nf(e),n)};function Rf(t,e,n){const i=t.getPriority().val(),s=X_(i,e.getImmediateChild(".priority"),n);let o;if(t.isLeafNode()){const l=t,c=X_(l.getValue(),e,n);return c!==l.getValue()||s!==l.getPriority().val()?new Ze(c,at(s)):t}else{const l=t;return o=l,s!==l.getPriority().val()&&(o=o.updatePriority(new Ze(s))),l.forEachChild(Me,(c,d)=>{const p=Rf(d,e.getImmediateChild(c),n);p!==d&&(o=o.updateImmediateChild(c,p))}),o}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Of{constructor(e="",n=null,i={children:{},childCount:0}){this.name=e,this.parent=n,this.node=i}}function Af(t,e){let n=e instanceof _e?e:new _e(e),i=t,s=ie(n);for(;s!==null;){const o=Xr(i.node.children,s)||{children:{},childCount:0};i=new Of(s,i,o),n=we(n),s=ie(n)}return i}function as(t){return t.node.value}function i0(t,e){t.node.value=e,Yh(t)}function r0(t){return t.node.childCount>0}function bP(t){return as(t)===void 0&&!r0(t)}function cu(t,e){Ct(t.node.children,(n,i)=>{e(new Of(n,t,i))})}function s0(t,e,n,i){n&&!i&&e(t),cu(t,s=>{s0(s,e,!0,i)}),n&&i&&e(t)}function DP(t,e,n){let i=n?t:t.parent;for(;i!==null;){if(e(i))return!0;i=i.parent}return!1}function $o(t){return new _e(t.parent===null?t.name:$o(t.parent)+"/"+t.name)}function Yh(t){t.parent!==null&&zP(t.parent,t.name,t)}function zP(t,e,n){const i=bP(n),s=zn(t.node.children,e);i&&s?(delete t.node.children[e],t.node.childCount--,Yh(t)):!i&&!s&&(t.node.children[e]=n.node,t.node.childCount++,Yh(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP=/[\[\].#$\/\u0000-\u001F\u007F]/,BP=/[\[\].#$\u0000-\u001F\u007F]/,kc=10*1024*1024,o0=function(t){return typeof t=="string"&&t.length!==0&&!FP.test(t)},a0=function(t){return typeof t=="string"&&t.length!==0&&!BP.test(t)},UP=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),a0(t)},l0=function(t,e,n){const i=n instanceof _e?new nI(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Ri(i));if(typeof e=="function")throw new Error(t+"contains a function "+Ri(i)+" with contents = "+e.toString());if(lw(e))throw new Error(t+"contains "+e.toString()+" "+Ri(i));if(typeof e=="string"&&e.length>kc/3&&ru(e)>kc)throw new Error(t+"contains a string greater than "+kc+" utf8 bytes "+Ri(i)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let s=!1,o=!1;if(Ct(e,(l,c)=>{if(l===".value")s=!0;else if(l!==".priority"&&l!==".sv"&&(o=!0,!o0(l)))throw new Error(t+" contains an invalid key ("+l+") "+Ri(i)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);iI(i,l),l0(t,c,i),rI(i)}),s&&o)throw new Error(t+' contains ".value" child '+Ri(i)+" in addition to actual children.")}},u0=function(t,e,n,i){if(!(i&&n===void 0)&&!a0(n))throw new Error(Jy(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},HP=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),u0(t,e,n,i)},jP=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!o0(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!UP(n))throw new Error(Jy(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function c0(t,e){let n=null;for(let i=0;i<e.length;i++){const s=e[i],o=s.getPath();n!==null&&!pf(o,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:o}),n.events.push(s)}n&&t.eventLists_.push(n)}function h0(t,e,n){c0(t,n),d0(t,i=>pf(i,e))}function er(t,e,n){c0(t,n),d0(t,i=>Yt(i,e)||Yt(e,i))}function d0(t,e){t.recursionDepth_++;let n=!0;for(let i=0;i<t.eventLists_.length;i++){const s=t.eventLists_[i];if(s){const o=s.path;e(o)?(VP(t.eventLists_[i]),t.eventLists_[i]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function VP(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const i=n.getEventRunner();Bi&&ot("event: "+n.toString()),Wo(i)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="repo_interrupt",$P=25;class GP{constructor(e,n,i,s){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=i,this.appCheckProvider_=s,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new WP,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Il(),this.transactionQueueTree_=new Of,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function KP(t,e,n){if(t.stats_=df(t.repoInfo_),t.forceRestClient_||I1())t.server_=new kl(t.repoInfo_,(i,s,o,l)=>{J_(t,i,s,o,l)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>eg(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ke(n)}catch(i){throw new Error("Invalid authOverride provided: "+i)}}t.persistentConnection_=new Nn(t.repoInfo_,e,(i,s,o,l)=>{J_(t,i,s,o,l)},i=>{eg(t,i)},i=>{qP(t,i)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(i=>{t.server_.refreshAuthToken(i)}),t.appCheckProvider_.addTokenChangeListener(i=>{t.server_.refreshAppCheckToken(i.token)}),t.statsReporter_=O1(t.repoInfo_,()=>new LI(t.stats_,t.server_)),t.infoData_=new xI,t.infoSyncTree_=new q_({startListening:(i,s,o,l)=>{let c=[];const d=t.infoData_.getNode(i._path);return d.isEmpty()||(c=lu(t.infoSyncTree_,i._path,d),setTimeout(()=>{l("ok")},0)),c},stopListening:()=>{}}),Mf(t,"connected",!1),t.serverSyncTree_=new q_({startListening:(i,s,o,l)=>(t.server_.listen(i,o,s,(c,d)=>{const p=l(c,d);er(t.eventQueue_,i._path,p)}),[]),stopListening:(i,s)=>{t.server_.unlisten(i,s)}})}function YP(t){const n=t.infoData_.getNode(new _e(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function f0(t){return LP({timestamp:YP(t)})}function J_(t,e,n,i,s){t.dataUpdateCount++;const o=new _e(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let l=[];if(s)if(i){const d=El(n,p=>at(p));l=xP(t.serverSyncTree_,o,d,s)}else{const d=at(n);l=SP(t.serverSyncTree_,o,d,s)}else if(i){const d=El(n,p=>at(p));l=EP(t.serverSyncTree_,o,d)}else{const d=at(n);l=lu(t.serverSyncTree_,o,d)}let c=o;l.length>0&&(c=Df(t,o)),er(t.eventQueue_,c,l)}function eg(t,e){Mf(t,"connected",e),e===!1&&XP(t)}function qP(t,e){Ct(e,(n,i)=>{Mf(t,n,i)})}function Mf(t,e,n){const i=new _e("/.info/"+e),s=at(n);t.infoData_.updateSnapshot(i,s);const o=lu(t.infoSyncTree_,i,s);er(t.eventQueue_,i,o)}function QP(t){return t.nextWriteId_++}function XP(t){p0(t,"onDisconnectEvents");const e=f0(t),n=Il();jh(t.onDisconnect_,he(),(s,o)=>{const l=AP(s,o,t.serverSyncTree_,e);Bw(n,s,l)});let i=[];jh(n,he(),(s,o)=>{i=i.concat(lu(t.serverSyncTree_,s,o));const l=iN(t,s);Df(t,l)}),t.onDisconnect_=Il(),er(t.eventQueue_,he(),i)}function JP(t,e,n){let i;ie(e._path)===".info"?i=Q_(t.infoSyncTree_,e,n):i=Q_(t.serverSyncTree_,e,n),h0(t.eventQueue_,e._path,i)}function tg(t,e,n){let i;ie(e._path)===".info"?i=Kh(t.infoSyncTree_,e,n):i=Kh(t.serverSyncTree_,e,n),h0(t.eventQueue_,e._path,i)}function eN(t){t.persistentConnection_&&t.persistentConnection_.interrupt(ZP)}function p0(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),ot(n,...e)}function m0(t,e,n){return Jw(t.serverSyncTree_,e,n)||Y.EMPTY_NODE}function bf(t,e=t.transactionQueueTree_){if(e||hu(t,e),as(e)){const n=g0(t,e);F(n.length>0,"Sending zero length transaction queue"),n.every(s=>s.status===0)&&tN(t,$o(e),n)}else r0(e)&&cu(e,n=>{bf(t,n)})}function tN(t,e,n){const i=n.map(p=>p.currentWriteId),s=m0(t,e,i);let o=s;const l=s.hash();for(let p=0;p<n.length;p++){const g=n[p];F(g.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),g.status=1,g.retryCount++;const _=gt(e,g.path);o=o.updateChild(_,g.currentOutputSnapshotRaw)}const c=o.val(!0),d=e;t.server_.put(d.toString(),c,p=>{p0(t,"transaction put response",{path:d.toString(),status:p});let g=[];if(p==="ok"){const _=[];for(let v=0;v<n.length;v++)n[v].status=2,g=g.concat(Or(t.serverSyncTree_,n[v].currentWriteId)),n[v].onComplete&&_.push(()=>n[v].onComplete(null,!0,n[v].currentOutputSnapshotResolved)),n[v].unwatcher();hu(t,Af(t.transactionQueueTree_,e)),bf(t,t.transactionQueueTree_),er(t.eventQueue_,e,g);for(let v=0;v<_.length;v++)Wo(_[v])}else{if(p==="datastale")for(let _=0;_<n.length;_++)n[_].status===3?n[_].status=4:n[_].status=0;else{Pt("transaction at "+d.toString()+" failed: "+p);for(let _=0;_<n.length;_++)n[_].status=4,n[_].abortReason=p}Df(t,e)}},l)}function Df(t,e){const n=_0(t,e),i=$o(n),s=g0(t,n);return nN(t,s,i),i}function nN(t,e,n){if(e.length===0)return;const i=[];let s=[];const l=e.filter(c=>c.status===0).map(c=>c.currentWriteId);for(let c=0;c<e.length;c++){const d=e[c],p=gt(n,d.path);let g=!1,_;if(F(p!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)g=!0,_=d.abortReason,s=s.concat(Or(t.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=$P)g=!0,_="maxretry",s=s.concat(Or(t.serverSyncTree_,d.currentWriteId,!0));else{const v=m0(t,d.path,l);d.currentInputSnapshot=v;const T=e[c].update(v.val());if(T!==void 0){l0("transaction failed: Data returned ",T,d.path);let S=at(T);typeof T=="object"&&T!=null&&zn(T,".priority")||(S=S.updatePriority(v.getPriority()));const D=d.currentWriteId,E=f0(t),w=MP(S,v,E);d.currentOutputSnapshotRaw=S,d.currentOutputSnapshotResolved=w,d.currentWriteId=QP(t),l.splice(l.indexOf(D),1),s=s.concat(wP(t.serverSyncTree_,d.path,w,d.currentWriteId,d.applyLocally)),s=s.concat(Or(t.serverSyncTree_,D,!0))}else g=!0,_="nodata",s=s.concat(Or(t.serverSyncTree_,d.currentWriteId,!0))}er(t.eventQueue_,n,s),s=[],g&&(e[c].status=2,function(v){setTimeout(v,Math.floor(0))}(e[c].unwatcher),e[c].onComplete&&(_==="nodata"?i.push(()=>e[c].onComplete(null,!1,e[c].currentInputSnapshot)):i.push(()=>e[c].onComplete(new Error(_),!1,null))))}hu(t,t.transactionQueueTree_);for(let c=0;c<i.length;c++)Wo(i[c]);bf(t,t.transactionQueueTree_)}function _0(t,e){let n,i=t.transactionQueueTree_;for(n=ie(e);n!==null&&as(i)===void 0;)i=Af(i,n),e=we(e),n=ie(e);return i}function g0(t,e){const n=[];return v0(t,e,n),n.sort((i,s)=>i.order-s.order),n}function v0(t,e,n){const i=as(e);if(i)for(let s=0;s<i.length;s++)n.push(i[s]);cu(e,s=>{v0(t,s,n)})}function hu(t,e){const n=as(e);if(n){let i=0;for(let s=0;s<n.length;s++)n[s].status!==2&&(n[i]=n[s],i++);n.length=i,i0(e,n.length>0?n:void 0)}cu(e,i=>{hu(t,i)})}function iN(t,e){const n=$o(_0(t,e)),i=Af(t.transactionQueueTree_,e);return DP(i,s=>{Ic(t,s)}),Ic(t,i),s0(i,s=>{Ic(t,s)}),n}function Ic(t,e){const n=as(e);if(n){const i=[];let s=[],o=-1;for(let l=0;l<n.length;l++)n[l].status===3||(n[l].status===1?(F(o===l-1,"All SENT items should be at beginning of queue."),o=l,n[l].status=3,n[l].abortReason="set"):(F(n[l].status===0,"Unexpected transaction status in abort"),n[l].unwatcher(),s=s.concat(Or(t.serverSyncTree_,n[l].currentWriteId,!0)),n[l].onComplete&&i.push(n[l].onComplete.bind(null,new Error("set"),!1,null))));o===-1?i0(e,void 0):n.length=o+1,er(t.eventQueue_,$o(e),s);for(let l=0;l<i.length;l++)Wo(i[l])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(t){let e="";const n=t.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let s=n[i];try{s=decodeURIComponent(s.replace(/\+/g," "))}catch{}e+="/"+s}return e}function sN(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const i=n.split("=");i.length===2?e[decodeURIComponent(i[0])]=decodeURIComponent(i[1]):Pt(`Invalid query segment '${n}' in query '${t}'`)}return e}const ng=function(t,e){const n=oN(t),i=n.namespace;n.domain==="firebase.com"&&bn(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!i||i==="undefined")&&n.domain!=="localhost"&&bn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||v1();const s=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new ww(n.host,n.secure,i,s,e,"",i!==n.subdomain),path:new _e(n.pathString)}},oN=function(t){let e="",n="",i="",s="",o="",l=!0,c="https",d=443;if(typeof t=="string"){let p=t.indexOf("//");p>=0&&(c=t.substring(0,p-1),t=t.substring(p+2));let g=t.indexOf("/");g===-1&&(g=t.length);let _=t.indexOf("?");_===-1&&(_=t.length),e=t.substring(0,Math.min(g,_)),g<_&&(s=rN(t.substring(g,_)));const v=sN(t.substring(Math.min(t.length,_)));p=e.indexOf(":"),p>=0?(l=c==="https"||c==="wss",d=parseInt(e.substring(p+1),10)):p=e.length;const T=e.slice(0,p);if(T.toLowerCase()==="localhost")n="localhost";else if(T.split(".").length<=2)n=T;else{const S=e.indexOf(".");i=e.substring(0,S).toLowerCase(),n=e.substring(S+1),o=i}"ns"in v&&(o=v.ns)}return{host:e,port:d,domain:n,subdomain:i,secure:l,scheme:c,pathString:s,namespace:o}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(e,n,i,s){this.eventType=e,this.eventRegistration=n,this.snapshot=i,this.prevName=s}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ke(this.snapshot.exportVal())}}class w0{constructor(e,n,i){this.eventRegistration=e,this.error=n,this.path=i}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aN{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zf{constructor(e,n,i,s){this._repo=e,this._path=n,this._queryParams=i,this._orderByCalled=s}get key(){return re(this._path)?null:Nw(this._path)}get ref(){return new Fn(this._repo,this._path)}get _queryIdentifier(){const e=B_(this._queryParams),n=cf(e);return n==="{}"?"default":n}get _queryObject(){return B_(this._queryParams)}isEqual(e){if(e=yi(e),!(e instanceof zf))return!1;const n=this._repo===e._repo,i=pf(this._path,e._path),s=this._queryIdentifier===e._queryIdentifier;return n&&i&&s}toJSON(){return this.toString()}toString(){return this._repo.toString()+tI(this._path)}}class Fn extends zf{constructor(e,n){super(e,n,new vf,!1)}get parent(){const e=Rw(this._path);return e===null?null:new Fn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class No{constructor(e,n,i){this._node=e,this.ref=n,this._index=i}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new _e(e),i=bl(this.ref,e);return new No(this._node.getChild(n),i,Me)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(i,s)=>e(new No(s,bl(this.ref,i),Me)))}hasChild(e){const n=new _e(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lN(t,e){return t=yi(t),t._checkNotDeleted("ref"),e!==void 0?bl(t._root,e):t._root}function bl(t,e){return t=yi(t),ie(t._path)===null?HP("child","path",e,!1):u0("child","path",e,!1),new Fn(t._repo,je(t._path,e))}class Ff{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const i=n._queryParams.getIndex();return new y0("value",this,new No(e.snapshotNode,new Fn(n._repo,n._path),i))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new w0(this,e,n):null}matches(e){return e instanceof Ff?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class Bf{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new w0(this,e,n):null}createEvent(e,n){F(e.childName!=null,"Child events should have a childName.");const i=bl(new Fn(n._repo,n._path),e.childName),s=n._queryParams.getIndex();return new y0(e.type,this,new No(e.snapshotNode,i,s),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof Bf?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function uN(t,e,n,i,s){let o;if(typeof i=="object"&&(o=void 0,s=i),typeof i=="function"&&(o=i),s&&s.onlyOnce){const d=n,p=(g,_)=>{tg(t._repo,t,c),d(g,_)};p.userCallback=n.userCallback,p.context=n.context,n=p}const l=new aN(n,o||void 0),c=e==="value"?new Ff(l):new Bf(e,l);return JP(t._repo,t,c),()=>tg(t._repo,t,c)}function cN(t,e,n,i){return uN(t,"value",e,n,i)}hP(Fn);gP(Fn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN="FIREBASE_DATABASE_EMULATOR_HOST",qh={};let dN=!1;function fN(t,e,n,i){t.repoInfo_=new ww(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),i&&(t.authTokenProvider_=i)}function pN(t,e,n,i,s){let o=i||t.options.databaseURL;o===void 0&&(t.options.projectId||bn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ot("Using default host for project ",t.options.projectId),o=`${t.options.projectId}-default-rtdb.firebaseio.com`);let l=ng(o,s),c=l.repoInfo,d,p;typeof process<"u"&&E_&&(p=E_[hN]),p?(d=!0,o=`http://${p}?ns=${c.namespace}`,l=ng(o,s),c=l.repoInfo):d=!l.repoInfo.secure;const g=s&&d?new Ur(Ur.OWNER):new N1(t.name,t.options,e);jP("Invalid Firebase Database URL",l),re(l.path)||bn("Database URL must point to the root of a Firebase Database (not including a child path).");const _=_N(c,t,g,new P1(t.name,n));return new gN(_,t)}function mN(t,e){const n=qh[e];(!n||n[t.key]!==t)&&bn(`Database ${e}(${t.repoInfo_}) has already been deleted.`),eN(t),delete n[t.key]}function _N(t,e,n,i){let s=qh[e.name];s||(s={},qh[e.name]=s);let o=s[t.toURLString()];return o&&bn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new GP(t,dN,n,i),s[t.toURLString()]=o,o}class gN{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(KP(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Fn(this._repo,he())),this._rootInternal}_delete(){return this._rootInternal!==null&&(mN(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&bn("Cannot call "+e+" on a deleted database.")}}function vN(t=t1(),e){const n=Xk(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const i=jx("database");i&&yN(n,...i)}return n}function yN(t,e,n,i={}){t=yi(t),t._checkNotDeleted("useEmulator"),t._instanceStarted&&bn("Cannot call useEmulator() after instance has already been initialized.");const s=t._repoInternal;let o;if(s.repoInfo_.nodeAdmin)i.mockUserToken&&bn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ur(Ur.OWNER);else if(i.mockUserToken){const l=typeof i.mockUserToken=="string"?i.mockUserToken:Vx(i.mockUserToken,t.app.options.projectId);o=new Ur(l)}fN(s,e,n,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){f1(Uo),$i(new di("database",(e,{instanceIdentifier:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("auth-internal"),o=e.getProvider("app-check-internal");return pN(i,s,o,n)},"PUBLIC").setMultipleInstances(!0)),pn(C_,T_,t),pn(C_,T_,"esm2017")}Nn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Nn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};wN();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="firebasestorage.googleapis.com",EN="storageBucket",CN=2*60*1e3,TN=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn extends vi{constructor(e,n,i=0){super(Pc(e),`Firebase Storage: ${n} (${Pc(e)})`),this.status_=i,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,gn.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Pc(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var _n;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(_n||(_n={}));function Pc(t){return"storage/"+t}function SN(){const t="An unknown error occurred, please check the error payload for server response.";return new gn(_n.UNKNOWN,t)}function xN(){return new gn(_n.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function kN(){return new gn(_n.CANCELED,"User canceled the upload/download.")}function IN(t){return new gn(_n.INVALID_URL,"Invalid URL '"+t+"'.")}function PN(t){return new gn(_n.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function ig(t){return new gn(_n.INVALID_ARGUMENT,t)}function C0(){return new gn(_n.APP_DELETED,"The Firebase app was deleted.")}function NN(t){return new gn(_n.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let i;try{i=Qt.makeFromUrl(e,n)}catch{return new Qt(e,"")}if(i.path==="")return i;throw PN(e)}static makeFromUrl(e,n){let i=null;const s="([A-Za-z0-9.\\-_]+)";function o(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const l="(/(.*))?$",c=new RegExp("^gs://"+s+l,"i"),d={bucket:1,path:3};function p(R){R.path_=decodeURIComponent(R.path)}const g="v[A-Za-z0-9_]+",_=n.replace(/[.]/g,"\\."),v="(/([^?#]*).*)?$",T=new RegExp(`^https?://${_}/${g}/b/${s}/o${v}`,"i"),S={bucket:1,path:3},k=n===E0?"(?:storage.googleapis.com|storage.cloud.google.com)":n,D="([^?#]*)",E=new RegExp(`^https?://${k}/${s}/${D}`,"i"),C=[{regex:c,indices:d,postModify:o},{regex:T,indices:S,postModify:p},{regex:E,indices:{bucket:1,path:2},postModify:p}];for(let R=0;R<C.length;R++){const z=C[R],A=z.regex.exec(e);if(A){const U=A[z.indices.bucket];let j=A[z.indices.path];j||(j=""),i=new Qt(U,j),z.postModify(i);break}}if(i==null)throw IN(e);return i}}class LN{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RN(t,e,n){let i=1,s=null,o=null,l=!1,c=0;function d(){return c===2}let p=!1;function g(...D){p||(p=!0,e.apply(null,D))}function _(D){s=setTimeout(()=>{s=null,t(T,d())},D)}function v(){o&&clearTimeout(o)}function T(D,...E){if(p){v();return}if(D){v(),g.call(null,D,...E);return}if(d()||l){v(),g.call(null,D,...E);return}i<64&&(i*=2);let C;c===1?(c=2,C=0):C=(i+Math.random())*1e3,_(C)}let S=!1;function k(D){S||(S=!0,v(),!p&&(s!==null?(D||(c=2),clearTimeout(s),_(0)):D||(c=1)))}return _(0),o=setTimeout(()=>{l=!0,k(!0)},n),k}function ON(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t){return t!==void 0}function rg(t,e,n,i){if(i<e)throw ig(`Invalid value for '${t}'. Expected ${e} or greater.`);if(i>n)throw ig(`Invalid value for '${t}'. Expected ${n} or less.`)}function MN(t){const e=encodeURIComponent;let n="?";for(const i in t)if(t.hasOwnProperty(i)){const s=e(i)+"="+e(t[i]);n=n+s+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Dl;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Dl||(Dl={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bN(t,e){const n=t>=500&&t<600,s=[408,429].indexOf(t)!==-1,o=e.indexOf(t)!==-1;return n||s||o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DN{constructor(e,n,i,s,o,l,c,d,p,g,_,v=!0){this.url_=e,this.method_=n,this.headers_=i,this.body_=s,this.successCodes_=o,this.additionalRetryCodes_=l,this.callback_=c,this.errorCallback_=d,this.timeout_=p,this.progressCallback_=g,this.connectionFactory_=_,this.retry=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,S)=>{this.resolve_=T,this.reject_=S,this.start_()})}start_(){const e=(i,s)=>{if(s){i(!1,new Aa(!1,null,!0));return}const o=this.connectionFactory_();this.pendingConnection_=o;const l=c=>{const d=c.loaded,p=c.lengthComputable?c.total:-1;this.progressCallback_!==null&&this.progressCallback_(d,p)};this.progressCallback_!==null&&o.addUploadProgressListener(l),o.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&o.removeUploadProgressListener(l),this.pendingConnection_=null;const c=o.getErrorCode()===Dl.NO_ERROR,d=o.getStatus();if(!c||bN(d,this.additionalRetryCodes_)&&this.retry){const g=o.getErrorCode()===Dl.ABORT;i(!1,new Aa(!1,null,g));return}const p=this.successCodes_.indexOf(d)!==-1;i(!0,new Aa(p,o))})},n=(i,s)=>{const o=this.resolve_,l=this.reject_,c=s.connection;if(s.wasSuccessCode)try{const d=this.callback_(c,c.getResponse());AN(d)?o(d):o()}catch(d){l(d)}else if(c!==null){const d=SN();d.serverResponse=c.getErrorText(),this.errorCallback_?l(this.errorCallback_(c,d)):l(d)}else if(s.canceled){const d=this.appDelete_?C0():kN();l(d)}else{const d=xN();l(d)}};this.canceled_?n(!1,new Aa(!1,null,!0)):this.backoffId_=RN(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&ON(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Aa{constructor(e,n,i){this.wasSuccessCode=e,this.connection=n,this.canceled=!!i}}function zN(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function FN(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function BN(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UN(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function HN(t,e,n,i,s,o,l=!0){const c=MN(t.urlParams),d=t.url+c,p=Object.assign({},t.headers);return BN(p,e),zN(p,n),FN(p,o),UN(p,i),new DN(d,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function WN(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zl{constructor(e,n){this._service=e,n instanceof Qt?this._location=n:this._location=Qt.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new zl(e,n)}get root(){const e=new Qt(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return WN(this._location.path)}get storage(){return this._service}get parent(){const e=jN(this._location.path);if(e===null)return null;const n=new Qt(this._location.bucket,e);return new zl(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw NN(e)}}function sg(t,e){const n=e==null?void 0:e[EN];return n==null?null:Qt.makeFromBucketSpec(n,t)}class VN{constructor(e,n,i,s,o){this.app=e,this._authProvider=n,this._appCheckProvider=i,this._url=s,this._firebaseVersion=o,this._bucket=null,this._host=E0,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=CN,this._maxUploadRetryTime=TN,this._requests=new Set,s!=null?this._bucket=Qt.makeFromBucketSpec(s,this._host):this._bucket=sg(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Qt.makeFromBucketSpec(this._url,e):this._bucket=sg(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rg("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rg("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new zl(this,e)}_makeRequest(e,n,i,s,o=!0){if(this._deleted)return new LN(C0());{const l=HN(e,this._appId,i,s,n,this._firebaseVersion,o);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[i,s]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,i,s).getPromise()}}const og="@firebase/storage",ag="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZN="storage";function $N(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return new VN(n,i,s,e,Uo)}function GN(){$i(new di(ZN,$N,"PUBLIC").setMultipleInstances(!0)),pn(og,ag,""),pn(og,ag,"esm2017")}GN();function T0(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(t);s<i.length;s++)e.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(t,i[s])&&(n[i[s]]=t[i[s]]);return n}function S0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const KN=S0,x0=new Bo("auth","Firebase",S0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fl=new lf("@firebase/auth");function YN(t,...e){Fl.logLevel<=me.WARN&&Fl.warn(`Auth (${Uo}): ${t}`,...e)}function Ka(t,...e){Fl.logLevel<=me.ERROR&&Fl.error(`Auth (${Uo}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(t,...e){throw Uf(t,...e)}function k0(t,...e){return Uf(t,...e)}function qN(t,e,n){const i=Object.assign(Object.assign({},KN()),{[e]:n});return new Bo("auth","Firebase",i).create(e,{appName:t.name})}function Uf(t,...e){if(typeof t!="string"){const n=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=t.name),t._errorFactory.create(n,...i)}return x0.create(t,...e)}function fe(t,e,...n){if(!t)throw Uf(e,...n)}function to(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ka(e),new Error(e)}function Bl(t,e){t||to(e)}function QN(){return ug()==="http:"||ug()==="https:"}function ug(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(QN()||Zx()||"connection"in navigator)?navigator.onLine:!0}function JN(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bl(n>e,"Short delay should be less than long delay!"),this.isMobile=of()||qy()}get(){return XN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eL(t,e){Bl(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{static initialize(e,n,i){this.fetchImpl=e,n&&(this.headersImpl=n),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;to("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;to("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;to("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nL=new Go(3e4,6e4);function P0(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function du(t,e,n,i,s={}){return N0(t,s,async()=>{let o={},l={};i&&(e==="GET"?l=i:o={body:JSON.stringify(i)});const c=af(Object.assign({key:t.config.apiKey},l)).slice(1),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/json",t.languageCode&&(d["X-Firebase-Locale"]=t.languageCode),I0.fetch()(L0(t,t.config.apiHost,n,c),Object.assign({method:e,headers:d,referrerPolicy:"no-referrer"},o))})}async function N0(t,e,n){t._canInitEmulator=!1;const i=Object.assign(Object.assign({},tL),e);try{const s=new iL(t),o=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Ma(t,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const c=o.ok?l.errorMessage:l.error.message,[d,p]=c.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Ma(t,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Ma(t,"email-already-in-use",l);if(d==="USER_DISABLED")throw Ma(t,"user-disabled",l);const g=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw qN(t,g,p);lg(t,g)}}catch(s){if(s instanceof vi)throw s;lg(t,"network-request-failed",{message:String(s)})}}function L0(t,e,n,i){const s=`${e}${n}?${i}`;return t.config.emulator?eL(t.config,s):`${t.config.apiScheme}://${s}`}class iL{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,i)=>{this.timer=setTimeout(()=>i(k0(this.auth,"network-request-failed")),nL.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ma(t,e,n){const i={appName:t.name};n.email&&(i.email=n.email),n.phoneNumber&&(i.phoneNumber=n.phoneNumber);const s=k0(t,e,i);return s.customData._tokenResponse=n,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rL(t,e){return du(t,"POST","/v1/accounts:delete",e)}async function sL(t,e){return du(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function no(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function oL(t,e=!1){const n=yi(t),i=await n.getIdToken(e),s=R0(i);fe(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const o=typeof s.firebase=="object"?s.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:s,token:i,authTime:no(Nc(s.auth_time)),issuedAtTime:no(Nc(s.iat)),expirationTime:no(Nc(s.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function Nc(t){return Number(t)*1e3}function R0(t){const[e,n,i]=t.split(".");if(e===void 0||n===void 0||i===void 0)return Ka("JWT malformed, contained fewer than 3 sections"),null;try{const s=wl(n);return s?JSON.parse(s):(Ka("Failed to decode base64 JWT payload"),null)}catch(s){return Ka("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function aL(t){const e=R0(t);return fe(e,"internal-error"),fe(typeof e.exp<"u","internal-error"),fe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qh(t,e,n=!1){if(n)return e;try{return await e}catch(i){throw i instanceof vi&&lL(i)&&t.auth.currentUser===t&&await t.auth.signOut(),i}}function lL({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const i=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),i}else{this.errorBackoff=3e4;const s=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,s)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=no(this.lastLoginAt),this.creationTime=no(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ul(t){var e;const n=t.auth,i=await t.getIdToken(),s=await Qh(t,sL(n,{idToken:i}));fe(s==null?void 0:s.users.length,n,"internal-error");const o=s.users[0];t._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?dL(o.providerUserInfo):[],c=hL(t.providerData,l),d=t.isAnonymous,p=!(t.email&&o.passwordHash)&&!(c!=null&&c.length),g=d?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new O0(o.createdAt,o.lastLoginAt),isAnonymous:g};Object.assign(t,_)}async function cL(t){const e=yi(t);await Ul(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hL(t,e){return[...t.filter(i=>!e.some(s=>s.providerId===i.providerId)),...e]}function dL(t){return t.map(e=>{var{providerId:n}=e,i=T0(e,["providerId"]);return{providerId:n,uid:i.rawId||"",displayName:i.displayName||null,email:i.email||null,phoneNumber:i.phoneNumber||null,photoURL:i.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function fL(t,e){const n=await N0(t,{},async()=>{const i=af({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:o}=t.config,l=L0(t,s,"/v1/token",`key=${o}`),c=await t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",I0.fetch()(l,{method:"POST",headers:c,body:i})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pL(t,e){return du(t,"POST","/v2/accounts:revokeToken",P0(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){fe(e.idToken,"internal-error"),fe(typeof e.idToken<"u","internal-error"),fe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):aL(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return fe(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:i,refreshToken:s,expiresIn:o}=await fL(e,n);this.updateTokensAndExpiration(i,s,Number(o))}updateTokensAndExpiration(e,n,i){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,n){const{refreshToken:i,accessToken:s,expirationTime:o}=n,l=new Lo;return i&&(fe(typeof i=="string","internal-error",{appName:e}),l.refreshToken=i),s&&(fe(typeof s=="string","internal-error",{appName:e}),l.accessToken=s),o&&(fe(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Lo,this.toJSON())}_performRefresh(){return to("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(t,e){fe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Wr{constructor(e){var{uid:n,auth:i,stsTokenManager:s}=e,o=T0(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=i,this.stsTokenManager=s,this.accessToken=s.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new O0(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const n=await Qh(this,this.stsTokenManager.getToken(this.auth,e));return fe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return oL(this,e)}reload(){return cL(this)}_assign(e){this!==e&&(fe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){fe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),n&&await Ul(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qh(this,rL(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var i,s,o,l,c,d,p,g;const _=(i=n.displayName)!==null&&i!==void 0?i:void 0,v=(s=n.email)!==null&&s!==void 0?s:void 0,T=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(l=n.photoURL)!==null&&l!==void 0?l:void 0,k=(c=n.tenantId)!==null&&c!==void 0?c:void 0,D=(d=n._redirectEventId)!==null&&d!==void 0?d:void 0,E=(p=n.createdAt)!==null&&p!==void 0?p:void 0,w=(g=n.lastLoginAt)!==null&&g!==void 0?g:void 0,{uid:C,emailVerified:R,isAnonymous:z,providerData:A,stsTokenManager:U}=n;fe(C&&U,e,"internal-error");const j=Lo.fromJSON(this.name,U);fe(typeof C=="string",e,"internal-error"),Zn(_,e.name),Zn(v,e.name),fe(typeof R=="boolean",e,"internal-error"),fe(typeof z=="boolean",e,"internal-error"),Zn(T,e.name),Zn(S,e.name),Zn(k,e.name),Zn(D,e.name),Zn(E,e.name),Zn(w,e.name);const oe=new Wr({uid:C,auth:e,email:v,emailVerified:R,displayName:_,isAnonymous:z,photoURL:S,phoneNumber:T,tenantId:k,stsTokenManager:j,createdAt:E,lastLoginAt:w});return A&&Array.isArray(A)&&(oe.providerData=A.map(Q=>Object.assign({},Q))),D&&(oe._redirectEventId=D),oe}static async _fromIdTokenResponse(e,n,i=!1){const s=new Lo;s.updateFromServerResponse(n);const o=new Wr({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:i});return await Ul(o),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg=new Map;function Di(t){Bl(t instanceof Function,"Expected a class definition");let e=cg.get(t);return e?(Bl(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}A0.type="NONE";const hg=A0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t,e,n){return`firebase:${t}:${e}:${n}`}class Vr{constructor(e,n,i){this.persistence=e,this.auth=n,this.userKey=i;const{config:s,name:o}=this.auth;this.fullUserKey=Lc(this.userKey,s.apiKey,o),this.fullPersistenceKey=Lc("persistence",s.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Wr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,i="authUser"){if(!n.length)return new Vr(Di(hg),e,i);const s=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=s[0]||Di(hg);const l=Lc(i,e.config.apiKey,e.name);let c=null;for(const p of n)try{const g=await p._get(l);if(g){const _=Wr._fromJSON(e,g);p!==o&&(c=_),o=p;break}}catch{}const d=s.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new Vr(o,e,i):(o=d[0],c&&await o._set(l,c.toJSON()),await Promise.all(n.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Vr(o,e,i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(vL(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(mL(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(wL(e))return"Blackberry";if(EL(e))return"Webos";if(_L(e))return"Safari";if((e.includes("chrome/")||gL(e))&&!e.includes("edge/"))return"Chrome";if(yL(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=t.match(n);if((i==null?void 0:i.length)===2)return i[1]}return"Other"}function mL(t=mn()){return/firefox\//i.test(t)}function _L(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function gL(t=mn()){return/crios\//i.test(t)}function vL(t=mn()){return/iemobile/i.test(t)}function yL(t=mn()){return/android/i.test(t)}function wL(t=mn()){return/blackberry/i.test(t)}function EL(t=mn()){return/webos/i.test(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M0(t,e=[]){let n;switch(t){case"Browser":n=dg(mn());break;case"Worker":n=`${dg(mn())}-${t}`;break;default:n=t}const i=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Uo}/${i}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const i=o=>new Promise((l,c)=>{try{const d=e(o);l(d)}catch(d){c(d)}});i.onAbort=n,this.queue.push(i);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const i of this.queue)await i(e),i.onAbort&&n.push(i.onAbort)}catch(i){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i==null?void 0:i.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TL(t,e={}){return du(t,"GET","/v2/passwordPolicy",P0(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=6;class xL{constructor(e){var n,i,s,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:SL,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(s=(i=e.allowedNonAlphanumericCharacters)===null||i===void 0?void 0:i.join(""))!==null&&s!==void 0?s:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,i,s,o,l,c;const d={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,d),this.validatePasswordCharacterOptions(e,d),d.isValid&&(d.isValid=(n=d.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),d.isValid&&(d.isValid=(i=d.meetsMaxPasswordLength)!==null&&i!==void 0?i:!0),d.isValid&&(d.isValid=(s=d.containsLowercaseLetter)!==null&&s!==void 0?s:!0),d.isValid&&(d.isValid=(o=d.containsUppercaseLetter)!==null&&o!==void 0?o:!0),d.isValid&&(d.isValid=(l=d.containsNumericCharacter)!==null&&l!==void 0?l:!0),d.isValid&&(d.isValid=(c=d.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),d}validatePasswordLengthOptions(e,n){const i=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;i&&(n.meetsMinPasswordLength=e.length>=i),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let i;for(let s=0;s<e.length;s++)i=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,n,i,s,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kL{constructor(e,n,i,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=i,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fg(this),this.idTokenSubscription=new fg(this),this.beforeStateQueue=new CL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=x0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Di(n)),this._initializationPromise=this.queue(async()=>{var i,s;if(!this._deleted&&(this.persistenceManager=await Vr.create(this,e),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)===null||s===void 0?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const i=await this.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=s==null?void 0:s._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&(d!=null&&d.user)&&(s=d.user,o=!0)}if(!s)return this.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(s)}catch(l){s=i,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return s?this.reloadAndSetCurrentUserOrClear(s):this.directlySetCurrentUser(null)}return fe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===s._redirectEventId?this.directlySetCurrentUser(s):this.reloadAndSetCurrentUserOrClear(s)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ul(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=JN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?yi(e):null;return n&&fe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&fe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Di(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TL(this),n=new xL(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Bo("auth","Firebase",e())}onAuthStateChanged(e,n,i){return this.registerStateListener(this.authStateSubscription,e,n,i)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,i){return this.registerStateListener(this.idTokenSubscription,e,n,i)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(i.tenantId=this.tenantId),await pL(this,i)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const i=await this.getOrInitRedirectPersistenceManager(n);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Di(e)||this._popupRedirectResolver;fe(n,this,"argument-error"),this.redirectPersistenceManager=await Vr.create(this,[Di(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,i;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const i=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==i&&(this.lastNotifiedUid=i,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,i,s){if(this._deleted)return()=>{};const o=typeof n=="function"?n:n.next.bind(n);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(fe(c,this,"internal-error"),c.then(()=>{l||o(this.currentUser)}),typeof n=="function"){const d=e.addObserver(n,i,s);return()=>{l=!0,d()}}else{const d=e.addObserver(n);return()=>{l=!0,d()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return fe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=M0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const i=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());i&&(n["X-Firebase-Client"]=i);const s=await this._getAppCheckToken();return s&&(n["X-Firebase-AppCheck"]=s),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&YN(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function IL(t){return yi(t)}class fg{constructor(e){this.auth=e,this.observer=null,this.addObserver=ek(n=>this.observer=n)}get next(){return fe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function PL(t,e){const n=(e==null?void 0:e.persistence)||[],i=(Array.isArray(n)?n:[n]).map(Di);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(i,e==null?void 0:e.popupRedirectResolver)}new Go(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Go(2e3,1e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Go(3e4,6e4);/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Go(5e3,15e3);var pg="@firebase/auth",mg="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NL{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(i=>{e((i==null?void 0:i.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){fe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LL(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RL(t){$i(new di("auth",(e,{options:n})=>{const i=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=i.options;fe(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:M0(t)},p=new kL(i,s,o,d);return PL(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,i)=>{e.getProvider("auth-internal").initialize()})),$i(new di("auth-internal",e=>{const n=IL(e.getProvider("auth").getImmediate());return(i=>new NL(i))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),pn(pg,mg,LL(t)),pn(pg,mg,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OL=5*60;Wx("authIdTokenMaxAge");RL("Browser");const AL={apiKey:"AIzaSyCw03fsZfEd1JyURQZrDioSokaZKYVPUJg",authDomain:"ezapartments-a35e6.firebaseapp.com",databaseURL:"https://ezapartments-a35e6-default-rtdb.firebaseio.com",projectId:"ezapartments-a35e6",storageBucket:"ezapartments-a35e6.appspot.com",messagingSenderId:"827964291256",appId:"1:827964291256:web:e630dc3c79bc640ffc1c4d",measurementId:"G-NGG3RRD1C1"},ML=nw(AL),bL=vN(ML),DL=t=>{const[e,n]=P.useState(),[i,s]=P.useState(null);return P.useEffect(()=>cN(lN(bL,t),o=>{n(o.val())},o=>{s(o)}),[t]),[e,i]};function zL(t){const e=P.useRef(t);return P.useEffect(()=>{e.current=t},[t]),e}function hn(t){const e=zL(t);return P.useCallback(function(...n){return e.current&&e.current(...n)},[e])}function FL(){const t=P.useRef(!0),e=P.useRef(()=>t.current);return P.useEffect(()=>(t.current=!0,()=>{t.current=!1}),[]),e.current}function BL(t){const e=P.useRef(t);return e.current=t,e}function UL(t){const e=BL(t);P.useEffect(()=>()=>e.current(),[])}function HL(t){const e=P.useRef(null);return P.useEffect(()=>{e.current=t}),e.current}const jL=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",WL=typeof document<"u",Xh=WL||jL?P.useLayoutEffect:P.useEffect;var b0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var o="",l=0;l<arguments.length;l++){var c=arguments[l];c&&(o=s(o,i(c)))}return o}function i(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var l="";for(var c in o)e.call(o,c)&&o[c]&&(l=s(l,c));return l}function s(o,l){return l?o?o+" "+l:o+l:o}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(b0);var VL=b0.exports;const xe=Oo(VL);function Jh(){return Jh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Jh.apply(this,arguments)}function D0(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function _g(t){return"default"+t.charAt(0).toUpperCase()+t.substr(1)}function ZL(t){var e=$L(t,"string");return typeof e=="symbol"?e:String(e)}function $L(t,e){if(typeof t!="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var i=n.call(t,e||"default");if(typeof i!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GL(t,e,n){var i=P.useRef(t!==void 0),s=P.useState(e),o=s[0],l=s[1],c=t!==void 0,d=i.current;return i.current=c,!c&&d&&o!==e&&l(e),[c?t:o,P.useCallback(function(p){for(var g=arguments.length,_=new Array(g>1?g-1:0),v=1;v<g;v++)_[v-1]=arguments[v];n&&n.apply(void 0,[p].concat(_)),l(p)},[n])]}function KL(t,e){return Object.keys(e).reduce(function(n,i){var s,o=n,l=o[_g(i)],c=o[i],d=D0(o,[_g(i),i].map(ZL)),p=e[i],g=GL(c,l,t[p]),_=g[0],v=g[1];return Jh({},d,(s={},s[i]=_,s[p]=v,s))},t)}function ed(t,e){return ed=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,s){return i.__proto__=s,i},ed(t,e)}function YL(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,ed(t,e)}const qL=["xxl","xl","lg","md","sm","xs"],QL="xs",XL=P.createContext({prefixes:{},breakpoints:qL,minBreakpoint:QL});function ze(t,e){const{prefixes:n}=P.useContext(XL);return t||n[e]||e}function Hf(t){return t&&t.ownerDocument||document}function JL(t){var e=Hf(t);return e&&e.defaultView||window}function eR(t,e){return JL(t).getComputedStyle(t,e)}var tR=/([A-Z])/g;function nR(t){return t.replace(tR,"-$1").toLowerCase()}var iR=/^ms-/;function ba(t){return nR(t).replace(iR,"-ms-")}var rR=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function sR(t){return!!(t&&rR.test(t))}function Ln(t,e){var n="",i="";if(typeof e=="string")return t.style.getPropertyValue(ba(e))||eR(t).getPropertyValue(ba(e));Object.keys(e).forEach(function(s){var o=e[s];!o&&o!==0?t.style.removeProperty(ba(s)):sR(s)?i+=s+"("+o+") ":n+=ba(s)+": "+o+";"}),i&&(n+="transform: "+i+";"),t.style.cssText+=";"+n}const fu=!!(typeof window<"u"&&window.document&&window.document.createElement);var td=!1,nd=!1;try{var Rc={get passive(){return td=!0},get once(){return nd=td=!0}};fu&&(window.addEventListener("test",Rc,Rc),window.removeEventListener("test",Rc,!0))}catch{}function oR(t,e,n,i){if(i&&typeof i!="boolean"&&!nd){var s=i.once,o=i.capture,l=n;!nd&&s&&(l=n.__once||function c(d){this.removeEventListener(e,c,o),n.call(this,d)},n.__once=l),t.addEventListener(e,l,td?i:o)}t.addEventListener(e,n,i)}function aR(t,e,n,i){var s=i&&typeof i!="boolean"?i.capture:i;t.removeEventListener(e,n,s),n.__once&&t.removeEventListener(e,n.__once,s)}function Hl(t,e,n,i){return oR(t,e,n,i),function(){aR(t,e,n,i)}}function lR(t,e,n,i){if(n===void 0&&(n=!1),i===void 0&&(i=!0),t){var s=document.createEvent("HTMLEvents");s.initEvent(e,n,i),t.dispatchEvent(s)}}function uR(t){var e=Ln(t,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function cR(t,e,n){n===void 0&&(n=5);var i=!1,s=setTimeout(function(){i||lR(t,"transitionend",!0)},e+n),o=Hl(t,"transitionend",function(){i=!0},{once:!0});return function(){clearTimeout(s),o()}}function hR(t,e,n,i){n==null&&(n=uR(t)||0);var s=cR(t,n,i),o=Hl(t,"transitionend",e);return function(){s(),o()}}function gg(t,e){const n=Ln(t,e)||"",i=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*i}function jf(t,e){const n=gg(t,"transitionDuration"),i=gg(t,"transitionDelay"),s=hR(t,o=>{o.target===t&&(s(),e(o))},n+i)}function z0(t){t.offsetHeight}var F0={exports:{}},dR="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",fR=dR,pR=fR;function B0(){}function U0(){}U0.resetWarningCache=B0;var mR=function(){function t(i,s,o,l,c,d){if(d!==pR){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:U0,resetWarningCache:B0};return n.PropTypes=n,n};F0.exports=mR();var _R=F0.exports;const Oc=Oo(_R),vg={disabled:!1},H0=xt.createContext(null);var gR=function(e){return e.scrollTop},Hs="unmounted",Kn="exited",Gt="entering",Sn="entered",Ro="exiting",Bn=function(t){YL(e,t);function e(i,s){var o;o=t.call(this,i,s)||this;var l=s,c=l&&!l.isMounting?i.enter:i.appear,d;return o.appearStatus=null,i.in?c?(d=Kn,o.appearStatus=Gt):d=Sn:i.unmountOnExit||i.mountOnEnter?d=Hs:d=Kn,o.state={status:d},o.nextCallback=null,o}e.getDerivedStateFromProps=function(s,o){var l=s.in;return l&&o.status===Hs?{status:Kn}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(s){var o=null;if(s!==this.props){var l=this.state.status;this.props.in?l!==Gt&&l!==Sn&&(o=Gt):(l===Gt||l===Sn)&&(o=Ro)}this.updateStatus(!1,o)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var s=this.props.timeout,o,l,c;return o=l=c=s,s!=null&&typeof s!="number"&&(o=s.exit,l=s.enter,c=s.appear!==void 0?s.appear:l),{exit:o,enter:l,appear:c}},n.updateStatus=function(s,o){if(s===void 0&&(s=!1),o!==null)if(this.cancelNextCallback(),o===Gt){if(this.props.unmountOnExit||this.props.mountOnEnter){var l=this.props.nodeRef?this.props.nodeRef.current:Lr.findDOMNode(this);l&&gR(l)}this.performEnter(s)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Kn&&this.setState({status:Hs})},n.performEnter=function(s){var o=this,l=this.props.enter,c=this.context?this.context.isMounting:s,d=this.props.nodeRef?[c]:[Lr.findDOMNode(this),c],p=d[0],g=d[1],_=this.getTimeouts(),v=c?_.appear:_.enter;if(!s&&!l||vg.disabled){this.safeSetState({status:Sn},function(){o.props.onEntered(p)});return}this.props.onEnter(p,g),this.safeSetState({status:Gt},function(){o.props.onEntering(p,g),o.onTransitionEnd(v,function(){o.safeSetState({status:Sn},function(){o.props.onEntered(p,g)})})})},n.performExit=function(){var s=this,o=this.props.exit,l=this.getTimeouts(),c=this.props.nodeRef?void 0:Lr.findDOMNode(this);if(!o||vg.disabled){this.safeSetState({status:Kn},function(){s.props.onExited(c)});return}this.props.onExit(c),this.safeSetState({status:Ro},function(){s.props.onExiting(c),s.onTransitionEnd(l.exit,function(){s.safeSetState({status:Kn},function(){s.props.onExited(c)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(s,o){o=this.setNextCallback(o),this.setState(s,o)},n.setNextCallback=function(s){var o=this,l=!0;return this.nextCallback=function(c){l&&(l=!1,o.nextCallback=null,s(c))},this.nextCallback.cancel=function(){l=!1},this.nextCallback},n.onTransitionEnd=function(s,o){this.setNextCallback(o);var l=this.props.nodeRef?this.props.nodeRef.current:Lr.findDOMNode(this),c=s==null&&!this.props.addEndListener;if(!l||c){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var d=this.props.nodeRef?[this.nextCallback]:[l,this.nextCallback],p=d[0],g=d[1];this.props.addEndListener(p,g)}s!=null&&setTimeout(this.nextCallback,s)},n.render=function(){var s=this.state.status;if(s===Hs)return null;var o=this.props,l=o.children;o.in,o.mountOnEnter,o.unmountOnExit,o.appear,o.enter,o.exit,o.timeout,o.addEndListener,o.onEnter,o.onEntering,o.onEntered,o.onExit,o.onExiting,o.onExited,o.nodeRef;var c=D0(o,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return xt.createElement(H0.Provider,{value:null},typeof l=="function"?l(s,c):xt.cloneElement(xt.Children.only(l),c))},e}(xt.Component);Bn.contextType=H0;Bn.propTypes={};function pr(){}Bn.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:pr,onEntering:pr,onEntered:pr,onExit:pr,onExiting:pr,onExited:pr};Bn.UNMOUNTED=Hs;Bn.EXITED=Kn;Bn.ENTERING=Gt;Bn.ENTERED=Sn;Bn.EXITING=Ro;const vR=Bn,yg=t=>!t||typeof t=="function"?t:e=>{t.current=e};function yR(t,e){const n=yg(t),i=yg(e);return s=>{n&&n(s),i&&i(s)}}function Wf(t,e){return P.useMemo(()=>yR(t,e),[t,e])}function wR(t){return t&&"setState"in t?Lr.findDOMNode(t):t??null}const ER=xt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,onExited:o,addEndListener:l,children:c,childRef:d,...p},g)=>{const _=P.useRef(null),v=Wf(_,d),T=A=>{v(wR(A))},S=A=>U=>{A&&_.current&&A(_.current,U)},k=P.useCallback(S(t),[t]),D=P.useCallback(S(e),[e]),E=P.useCallback(S(n),[n]),w=P.useCallback(S(i),[i]),C=P.useCallback(S(s),[s]),R=P.useCallback(S(o),[o]),z=P.useCallback(S(l),[l]);return B.jsx(vR,{ref:g,...p,onEnter:k,onEntered:E,onEntering:D,onExit:w,onExited:R,onExiting:C,addEndListener:z,nodeRef:_,children:typeof c=="function"?(A,U)=>c(A,{...U,ref:T}):xt.cloneElement(c,{ref:T})})}),Vf=ER,j0=P.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=ze(e,"card-body"),B.jsx(n,{ref:s,className:xe(t,e),...i})));j0.displayName="CardBody";const W0=j0,V0=P.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=ze(e,"card-footer"),B.jsx(n,{ref:s,className:xe(t,e),...i})));V0.displayName="CardFooter";const CR=V0,Z0=P.createContext(null);Z0.displayName="CardHeaderContext";const TR=Z0,$0=P.forwardRef(({bsPrefix:t,className:e,as:n="div",...i},s)=>{const o=ze(t,"card-header"),l=P.useMemo(()=>({cardHeaderBsPrefix:o}),[o]);return B.jsx(TR.Provider,{value:l,children:B.jsx(n,{ref:s,...i,className:xe(e,o)})})});$0.displayName="CardHeader";const SR=$0,G0=P.forwardRef(({bsPrefix:t,className:e,variant:n,as:i="img",...s},o)=>{const l=ze(t,"card-img");return B.jsx(i,{ref:o,className:xe(n?`${l}-${n}`:l,e),...s})});G0.displayName="CardImg";const xR=G0,K0=P.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=ze(e,"card-img-overlay"),B.jsx(n,{ref:s,className:xe(t,e),...i})));K0.displayName="CardImgOverlay";const kR=K0,Y0=P.forwardRef(({className:t,bsPrefix:e,as:n="a",...i},s)=>(e=ze(e,"card-link"),B.jsx(n,{ref:s,className:xe(t,e),...i})));Y0.displayName="CardLink";const IR=Y0,Zf=t=>P.forwardRef((e,n)=>B.jsx("div",{...e,ref:n,className:xe(e.className,t)})),PR=Zf("h6"),q0=P.forwardRef(({className:t,bsPrefix:e,as:n=PR,...i},s)=>(e=ze(e,"card-subtitle"),B.jsx(n,{ref:s,className:xe(t,e),...i})));q0.displayName="CardSubtitle";const NR=q0,Q0=P.forwardRef(({className:t,bsPrefix:e,as:n="p",...i},s)=>(e=ze(e,"card-text"),B.jsx(n,{ref:s,className:xe(t,e),...i})));Q0.displayName="CardText";const LR=Q0,RR=Zf("h5"),X0=P.forwardRef(({className:t,bsPrefix:e,as:n=RR,...i},s)=>(e=ze(e,"card-title"),B.jsx(n,{ref:s,className:xe(t,e),...i})));X0.displayName="CardTitle";const OR=X0,J0=P.forwardRef(({bsPrefix:t,className:e,bg:n,text:i,border:s,body:o=!1,children:l,as:c="div",...d},p)=>{const g=ze(t,"card");return B.jsx(c,{ref:p,...d,className:xe(e,g,n&&`bg-${n}`,i&&`text-${i}`,s&&`border-${s}`),children:o?B.jsx(W0,{children:l}):l})});J0.displayName="Card";const bs=Object.assign(J0,{Img:xR,Title:OR,Subtitle:NR,Body:W0,Link:IR,Text:LR,Header:SR,Footer:CR,ImgOverlay:kR}),AR=new yx.Icon({iconUrl:Lx,iconRetinaUrl:Rx,shadowUrl:Ox,iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],shadowSize:[41,41]}),MR=()=>{const t=DL("buddies/");if(console.log("buddy list"),console.log(t),t[0]===void 0)return B.jsx("div",{});const e=Object.values(t[0]);console.log("buddy array"),console.log(e);const n={};return Object.entries(t[0]).map(([i,s])=>{n[s.latitude+":"+s.longitude]?(console.log(n),n[s.latitude+":"+s.longitude].push({buddyId:i,buddy:s})):(console.log(n),n[s.latitude+":"+s.longitude]=[{buddyId:i,buddy:s}])}),B.jsx("div",{children:B.jsxs(kx,{center:[42.04886,-87.67989],zoom:10,style:{height:"1000px",width:"100%"},children:[B.jsx(Nx,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:' <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),Object.values(n).map(i=>B.jsx(Ix,{position:[i[0].buddy.latitude,i[0].buddy.longitude],icon:AR,children:B.jsx(Px,{children:i.map(s=>B.jsx("div",{className:"card",style:{width:"18rem"},children:B.jsxs(bs,{style:{width:"18rem"},children:[B.jsx(bs.Img,{variant:"top",src:s.buddy.image_url}),B.jsxs(bs.Body,{children:[B.jsx(bs.Title,{children:s.buddy.name}),B.jsxs(bs.Text,{children:["Age: ",s.buddy.age,B.jsx("br",{}),"Ethinicity: ",s.buddy.ethinicity,B.jsx("br",{}),"Rating: ",s.buddy.rating,"/5.0",B.jsx("br",{}),"# Favours: ",s.buddy.favor_count]})]})]})}))})}))]})})},eE=P.forwardRef(({bsPrefix:t,fluid:e=!1,as:n="div",className:i,...s},o)=>{const l=ze(t,"container"),c=typeof e=="string"?`-${e}`:"-fluid";return B.jsx(n,{ref:o,...s,className:xe(i,e?`${l}${c}`:l)})});eE.displayName="Container";const wg=eE;var bR=Function.prototype.bind.call(Function.prototype.call,[].slice);function mr(t,e){return bR(t.querySelectorAll(e))}const DR=P.createContext(null),zR=DR,FR="data-rr-ui-";function BR(t){return`${FR}${t}`}const tE=P.createContext(null);tE.displayName="NavbarContext";const Ko=tE,nE=P.forwardRef(({bsPrefix:t,className:e,as:n,...i},s)=>{t=ze(t,"navbar-brand");const o=n||(i.href?"a":"span");return B.jsx(o,{...i,ref:s,className:xe(e,t)})});nE.displayName="NavbarBrand";const UR=nE;function Ds(...t){return t.filter(e=>e!=null).reduce((e,n)=>{if(typeof n!="function")throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return e===null?n:function(...s){e.apply(this,s),n.apply(this,s)}},null)}const HR={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function jR(t,e){const n=`offset${t[0].toUpperCase()}${t.slice(1)}`,i=e[n],s=HR[t];return i+parseInt(Ln(e,s[0]),10)+parseInt(Ln(e,s[1]),10)}const WR={[Kn]:"collapse",[Ro]:"collapsing",[Gt]:"collapsing",[Sn]:"collapse show"},VR=xt.forwardRef(({onEnter:t,onEntering:e,onEntered:n,onExit:i,onExiting:s,className:o,children:l,dimension:c="height",in:d=!1,timeout:p=300,mountOnEnter:g=!1,unmountOnExit:_=!1,appear:v=!1,getDimensionValue:T=jR,...S},k)=>{const D=typeof c=="function"?c():c,E=P.useMemo(()=>Ds(A=>{A.style[D]="0"},t),[D,t]),w=P.useMemo(()=>Ds(A=>{const U=`scroll${D[0].toUpperCase()}${D.slice(1)}`;A.style[D]=`${A[U]}px`},e),[D,e]),C=P.useMemo(()=>Ds(A=>{A.style[D]=null},n),[D,n]),R=P.useMemo(()=>Ds(A=>{A.style[D]=`${T(D,A)}px`,z0(A)},i),[i,T,D]),z=P.useMemo(()=>Ds(A=>{A.style[D]=null},s),[D,s]);return B.jsx(Vf,{ref:k,addEndListener:jf,...S,"aria-expanded":S.role?d:null,onEnter:E,onEntering:w,onEntered:C,onExit:R,onExiting:z,childRef:l.ref,in:d,timeout:p,mountOnEnter:g,unmountOnExit:_,appear:v,children:(A,U)=>xt.cloneElement(l,{...U,className:xe(o,l.props.className,WR[A],D==="width"&&"collapse-horizontal")})})}),ZR=VR,iE=P.forwardRef(({children:t,bsPrefix:e,...n},i)=>{e=ze(e,"navbar-collapse");const s=P.useContext(Ko);return B.jsx(ZR,{in:!!(s&&s.expanded),...n,children:B.jsx("div",{ref:i,className:e,children:t})})});iE.displayName="NavbarCollapse";const $R=iE,rE=P.forwardRef(({bsPrefix:t,className:e,children:n,label:i="Toggle navigation",as:s="button",onClick:o,...l},c)=>{t=ze(t,"navbar-toggler");const{onToggle:d,expanded:p}=P.useContext(Ko)||{},g=hn(_=>{o&&o(_),d&&d()});return s==="button"&&(l.type="button"),B.jsx(s,{...l,ref:c,onClick:g,"aria-label":i,className:xe(e,t,!p&&"collapsed"),children:n||B.jsx("span",{className:`${t}-icon`})})});rE.displayName="NavbarToggle";const GR=rE,id=new WeakMap,Eg=(t,e)=>{if(!t||!e)return;const n=id.get(e)||new Map;id.set(e,n);let i=n.get(t);return i||(i=e.matchMedia(t),i.refCount=0,n.set(i.media,i)),i};function KR(t,e=typeof window>"u"?void 0:window){const n=Eg(t,e),[i,s]=P.useState(()=>n?n.matches:!1);return Xh(()=>{let o=Eg(t,e);if(!o)return s(!1);let l=id.get(e);const c=()=>{s(o.matches)};return o.refCount++,o.addListener(c),c(),()=>{o.removeListener(c),o.refCount--,o.refCount<=0&&(l==null||l.delete(o.media)),o=void 0}},[t]),i}function YR(t){const e=Object.keys(t);function n(c,d){return c===d?d:c?`${c} and ${d}`:d}function i(c){return e[Math.min(e.indexOf(c)+1,e.length-1)]}function s(c){const d=i(c);let p=t[d];return typeof p=="number"?p=`${p-.2}px`:p=`calc(${p} - 0.2px)`,`(max-width: ${p})`}function o(c){let d=t[c];return typeof d=="number"&&(d=`${d}px`),`(min-width: ${d})`}function l(c,d,p){let g;typeof c=="object"?(g=c,p=d,d=!0):(d=d||!0,g={[c]:d});let _=P.useMemo(()=>Object.entries(g).reduce((v,[T,S])=>((S==="up"||S===!0)&&(v=n(v,o(T))),(S==="down"||S===!0)&&(v=n(v,s(T))),v),""),[JSON.stringify(g)]);return KR(_,p)}return l}const qR=YR({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400});function Ac(t){t===void 0&&(t=Hf());try{var e=t.activeElement;return!e||!e.nodeName?null:e}catch{return t.body}}function Cg(t,e){if(t.contains)return t.contains(e);if(t.compareDocumentPosition)return t===e||!!(t.compareDocumentPosition(e)&16)}function QR(t=document){const e=t.defaultView;return Math.abs(e.innerWidth-t.documentElement.clientWidth)}const Tg=BR("modal-open");class XR{constructor({ownerDocument:e,handleContainerOverflow:n=!0,isRTL:i=!1}={}){this.handleContainerOverflow=n,this.isRTL=i,this.modals=[],this.ownerDocument=e}getScrollbarWidth(){return QR(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(e){}removeModalAttributes(e){}setContainerStyle(e){const n={overflow:"hidden"},i=this.isRTL?"paddingLeft":"paddingRight",s=this.getElement();e.style={overflow:s.style.overflow,[i]:s.style[i]},e.scrollBarWidth&&(n[i]=`${parseInt(Ln(s,i)||"0",10)+e.scrollBarWidth}px`),s.setAttribute(Tg,""),Ln(s,n)}reset(){[...this.modals].forEach(e=>this.remove(e))}removeContainerStyle(e){const n=this.getElement();n.removeAttribute(Tg),Object.assign(n.style,e.style)}add(e){let n=this.modals.indexOf(e);return n!==-1||(n=this.modals.length,this.modals.push(e),this.setModalAttributes(e),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(e){const n=this.modals.indexOf(e);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}isTopModal(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}const $f=XR,sE=P.createContext(fu?window:void 0);sE.Provider;function Gf(){return P.useContext(sE)}const Mc=(t,e)=>fu?t==null?(e||Hf()).body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),t&&("nodeType"in t||t.getBoundingClientRect)?t:null):null;function JR(t,e){const n=Gf(),[i,s]=P.useState(()=>Mc(t,n==null?void 0:n.document));if(!i){const o=Mc(t);o&&s(o)}return P.useEffect(()=>{e&&i&&e(i)},[e,i]),P.useEffect(()=>{const o=Mc(t);o!==i&&s(o)},[t,i]),i}function eO({children:t,in:e,onExited:n,mountOnEnter:i,unmountOnExit:s}){const o=P.useRef(null),l=P.useRef(e),c=hn(n);P.useEffect(()=>{e?l.current=!0:c(o.current)},[e,c]);const d=Wf(o,t.ref),p=P.cloneElement(t,{ref:d});return e?p:s||!l.current&&i?null:p}function tO({in:t,onTransition:e}){const n=P.useRef(null),i=P.useRef(!0),s=hn(e);return Xh(()=>{if(!n.current)return;let o=!1;return s({in:t,element:n.current,initial:i.current,isStale:()=>o}),()=>{o=!0}},[t,s]),Xh(()=>(i.current=!1,()=>{i.current=!0}),[]),n}function nO({children:t,in:e,onExited:n,onEntered:i,transition:s}){const[o,l]=P.useState(!e);e&&o&&l(!1);const c=tO({in:!!e,onTransition:p=>{const g=()=>{p.isStale()||(p.in?i==null||i(p.element,p.initial):(l(!0),n==null||n(p.element)))};Promise.resolve(s(p)).then(g,_=>{throw p.in||l(!0),_})}}),d=Wf(c,t.ref);return o&&!e?null:P.cloneElement(t,{ref:d})}function Sg(t,e,n){return t?B.jsx(t,Object.assign({},n)):e?B.jsx(nO,Object.assign({},n,{transition:e})):B.jsx(eO,Object.assign({},n))}function iO(t){return t.code==="Escape"||t.keyCode===27}const rO=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function sO(t,e){if(t==null)return{};var n={},i=Object.keys(t),s,o;for(o=0;o<i.length;o++)s=i[o],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}let bc;function oO(t){return bc||(bc=new $f({ownerDocument:t==null?void 0:t.document})),bc}function aO(t){const e=Gf(),n=t||oO(e),i=P.useRef({dialog:null,backdrop:null});return Object.assign(i.current,{add:()=>n.add(i.current),remove:()=>n.remove(i.current),isTopModal:()=>n.isTopModal(i.current),setDialogRef:P.useCallback(s=>{i.current.dialog=s},[]),setBackdropRef:P.useCallback(s=>{i.current.backdrop=s},[])})}const oE=P.forwardRef((t,e)=>{let{show:n=!1,role:i="dialog",className:s,style:o,children:l,backdrop:c=!0,keyboard:d=!0,onBackdropClick:p,onEscapeKeyDown:g,transition:_,runTransition:v,backdropTransition:T,runBackdropTransition:S,autoFocus:k=!0,enforceFocus:D=!0,restoreFocus:E=!0,restoreFocusOptions:w,renderDialog:C,renderBackdrop:R=ke=>B.jsx("div",Object.assign({},ke)),manager:z,container:A,onShow:U,onHide:j=()=>{},onExit:oe,onExited:Q,onExiting:de,onEnter:Oe,onEntering:Tt,onEntered:qe}=t,Un=sO(t,rO);const ge=Gf(),Qe=JR(A),N=aO(z),G=FL(),b=HL(n),[Z,ee]=P.useState(!n),ve=P.useRef(null);P.useImperativeHandle(e,()=>N,[N]),fu&&!b&&n&&(ve.current=Ac(ge==null?void 0:ge.document)),n&&Z&&ee(!1);const ae=hn(()=>{if(N.add(),wi.current=Hl(document,"keydown",nn),tr.current=Hl(document,"focus",()=>setTimeout(K),!0),U&&U(),k){var ke,us;const Ci=Ac((ke=(us=N.dialog)==null?void 0:us.ownerDocument)!=null?ke:ge==null?void 0:ge.document);N.dialog&&Ci&&!Cg(N.dialog,Ci)&&(ve.current=Ci,N.dialog.focus())}}),q=hn(()=>{if(N.remove(),wi.current==null||wi.current(),tr.current==null||tr.current(),E){var ke;(ke=ve.current)==null||ke.focus==null||ke.focus(w),ve.current=null}});P.useEffect(()=>{!n||!Qe||ae()},[n,Qe,ae]),P.useEffect(()=>{Z&&q()},[Z,q]),UL(()=>{q()});const K=hn(()=>{if(!D||!G()||!N.isTopModal())return;const ke=Ac(ge==null?void 0:ge.document);N.dialog&&ke&&!Cg(N.dialog,ke)&&N.dialog.focus()}),nt=hn(ke=>{ke.target===ke.currentTarget&&(p==null||p(ke),c===!0&&j())}),nn=hn(ke=>{d&&iO(ke)&&N.isTopModal()&&(g==null||g(ke),ke.defaultPrevented||j())}),tr=P.useRef(),wi=P.useRef(),ls=(...ke)=>{ee(!0),Q==null||Q(...ke)};if(!Qe)return null;const Hn=Object.assign({role:i,ref:N.setDialogRef,"aria-modal":i==="dialog"?!0:void 0},Un,{style:o,className:s,tabIndex:-1});let Ei=C?C(Hn):B.jsx("div",Object.assign({},Hn,{children:P.cloneElement(l,{role:"document"})}));Ei=Sg(_,v,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:oe,onExiting:de,onExited:ls,onEnter:Oe,onEntering:Tt,onEntered:qe,children:Ei});let nr=null;return c&&(nr=R({ref:N.setBackdropRef,onClick:nt}),nr=Sg(T,S,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:nr})),B.jsx(B.Fragment,{children:Lr.createPortal(B.jsxs(B.Fragment,{children:[nr,Ei]}),Qe)})});oE.displayName="Modal";const lO=Object.assign(oE,{Manager:$f}),uO={[Gt]:"show",[Sn]:"show"},aE=P.forwardRef(({className:t,children:e,transitionClasses:n={},onEnter:i,...s},o)=>{const l={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...s},c=P.useCallback((d,p)=>{z0(d),i==null||i(d,p)},[i]);return B.jsx(Vf,{ref:o,addEndListener:jf,...l,onEnter:c,childRef:e.ref,children:(d,p)=>P.cloneElement(e,{...p,className:xe("fade",t,e.props.className,uO[d],n[d])})})});aE.displayName="Fade";const cO=aE,lE=P.forwardRef(({className:t,bsPrefix:e,as:n="div",...i},s)=>(e=ze(e,"offcanvas-body"),B.jsx(n,{ref:s,className:xe(t,e),...i})));lE.displayName="OffcanvasBody";const hO=lE,dO={[Gt]:"show",[Sn]:"show"},uE=P.forwardRef(({bsPrefix:t,className:e,children:n,in:i=!1,mountOnEnter:s=!1,unmountOnExit:o=!1,appear:l=!1,...c},d)=>(t=ze(t,"offcanvas"),B.jsx(Vf,{ref:d,addEndListener:jf,in:i,mountOnEnter:s,unmountOnExit:o,appear:l,...c,childRef:n.ref,children:(p,g)=>P.cloneElement(n,{...g,className:xe(e,n.props.className,(p===Gt||p===Ro)&&`${t}-toggling`,dO[p])})})));uE.displayName="OffcanvasToggling";const fO=uE,pO=P.createContext({onHide(){}}),cE=pO,mO={"aria-label":Oc.string,onClick:Oc.func,variant:Oc.oneOf(["white"])},Kf=P.forwardRef(({className:t,variant:e,"aria-label":n="Close",...i},s)=>B.jsx("button",{ref:s,type:"button",className:xe("btn-close",e&&`btn-close-${e}`,t),"aria-label":n,...i}));Kf.displayName="CloseButton";Kf.propTypes=mO;const _O=Kf,gO=P.forwardRef(({closeLabel:t="Close",closeVariant:e,closeButton:n=!1,onHide:i,children:s,...o},l)=>{const c=P.useContext(cE),d=hn(()=>{c==null||c.onHide(),i==null||i()});return B.jsxs("div",{ref:l,...o,children:[s,n&&B.jsx(_O,{"aria-label":t,variant:e,onClick:d})]})}),vO=gO,hE=P.forwardRef(({bsPrefix:t,className:e,closeLabel:n="Close",closeButton:i=!1,...s},o)=>(t=ze(t,"offcanvas-header"),B.jsx(vO,{ref:o,...s,className:xe(e,t),closeLabel:n,closeButton:i})));hE.displayName="OffcanvasHeader";const yO=hE,wO=Zf("h5"),dE=P.forwardRef(({className:t,bsPrefix:e,as:n=wO,...i},s)=>(e=ze(e,"offcanvas-title"),B.jsx(n,{ref:s,className:xe(t,e),...i})));dE.displayName="OffcanvasTitle";const EO=dE;function CO(t,e){return t.classList?!!e&&t.classList.contains(e):(" "+(t.className.baseVal||t.className)+" ").indexOf(" "+e+" ")!==-1}function TO(t,e){t.classList?t.classList.add(e):CO(t,e)||(typeof t.className=="string"?t.className=t.className+" "+e:t.setAttribute("class",(t.className&&t.className.baseVal||"")+" "+e))}function xg(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function SO(t,e){t.classList?t.classList.remove(e):typeof t.className=="string"?t.className=xg(t.className,e):t.setAttribute("class",xg(t.className&&t.className.baseVal||"",e))}const _r={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class fE extends $f{adjustAndStore(e,n,i){const s=n.style[e];n.dataset[e]=s,Ln(n,{[e]:`${parseFloat(Ln(n,e))+i}px`})}restore(e,n){const i=n.dataset[e];i!==void 0&&(delete n.dataset[e],Ln(n,{[e]:i}))}setContainerStyle(e){super.setContainerStyle(e);const n=this.getElement();if(TO(n,"modal-open"),!e.scrollBarWidth)return;const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";mr(n,_r.FIXED_CONTENT).forEach(o=>this.adjustAndStore(i,o,e.scrollBarWidth)),mr(n,_r.STICKY_CONTENT).forEach(o=>this.adjustAndStore(s,o,-e.scrollBarWidth)),mr(n,_r.NAVBAR_TOGGLER).forEach(o=>this.adjustAndStore(s,o,e.scrollBarWidth))}removeContainerStyle(e){super.removeContainerStyle(e);const n=this.getElement();SO(n,"modal-open");const i=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";mr(n,_r.FIXED_CONTENT).forEach(o=>this.restore(i,o)),mr(n,_r.STICKY_CONTENT).forEach(o=>this.restore(s,o)),mr(n,_r.NAVBAR_TOGGLER).forEach(o=>this.restore(s,o))}}let Dc;function xO(t){return Dc||(Dc=new fE(t)),Dc}const kO=fE;function IO(t){return B.jsx(fO,{...t})}function PO(t){return B.jsx(cO,{...t})}const pE=P.forwardRef(({bsPrefix:t,className:e,children:n,"aria-labelledby":i,placement:s="start",responsive:o,show:l=!1,backdrop:c=!0,keyboard:d=!0,scroll:p=!1,onEscapeKeyDown:g,onShow:_,onHide:v,container:T,autoFocus:S=!0,enforceFocus:k=!0,restoreFocus:D=!0,restoreFocusOptions:E,onEntered:w,onExit:C,onExiting:R,onEnter:z,onEntering:A,onExited:U,backdropClassName:j,manager:oe,renderStaticNode:Q=!1,...de},Oe)=>{const Tt=P.useRef();t=ze(t,"offcanvas");const{onToggle:qe}=P.useContext(Ko)||{},[Un,ge]=P.useState(!1),Qe=qR(o||"xs","up");P.useEffect(()=>{ge(o?l&&!Qe:l)},[l,o,Qe]);const N=hn(()=>{qe==null||qe(),v==null||v()}),G=P.useMemo(()=>({onHide:N}),[N]);function b(){return oe||(p?(Tt.current||(Tt.current=new kO({handleContainerOverflow:!1})),Tt.current):xO())}const Z=(q,...K)=>{q&&(q.style.visibility="visible"),z==null||z(q,...K)},ee=(q,...K)=>{q&&(q.style.visibility=""),U==null||U(...K)},ve=P.useCallback(q=>B.jsx("div",{...q,className:xe(`${t}-backdrop`,j)}),[j,t]),ae=q=>B.jsx("div",{...q,...de,className:xe(e,o?`${t}-${o}`:t,`${t}-${s}`),"aria-labelledby":i,children:n});return B.jsxs(B.Fragment,{children:[!Un&&(o||Q)&&ae({}),B.jsx(cE.Provider,{value:G,children:B.jsx(lO,{show:Un,ref:Oe,backdrop:c,container:T,keyboard:d,autoFocus:S,enforceFocus:k&&!p,restoreFocus:D,restoreFocusOptions:E,onEscapeKeyDown:g,onShow:_,onHide:N,onEnter:Z,onEntering:A,onEntered:w,onExit:C,onExiting:R,onExited:ee,manager:b(),transition:IO,backdropTransition:PO,renderBackdrop:ve,renderDialog:ae})})]})});pE.displayName="Offcanvas";const NO=Object.assign(pE,{Body:hO,Header:yO,Title:EO}),mE=P.forwardRef((t,e)=>{const n=P.useContext(Ko);return B.jsx(NO,{ref:e,show:!!(n!=null&&n.expanded),...t,renderStaticNode:!0})});mE.displayName="NavbarOffcanvas";const LO=mE,_E=P.forwardRef(({className:t,bsPrefix:e,as:n="span",...i},s)=>(e=ze(e,"navbar-text"),B.jsx(n,{ref:s,className:xe(t,e),...i})));_E.displayName="NavbarText";const RO=_E,gE=P.forwardRef((t,e)=>{const{bsPrefix:n,expand:i=!0,variant:s="light",bg:o,fixed:l,sticky:c,className:d,as:p="nav",expanded:g,onToggle:_,onSelect:v,collapseOnSelect:T=!1,...S}=KL(t,{expanded:"onToggle"}),k=ze(n,"navbar"),D=P.useCallback((...C)=>{v==null||v(...C),T&&g&&(_==null||_(!1))},[v,T,g,_]);S.role===void 0&&p!=="nav"&&(S.role="navigation");let E=`${k}-expand`;typeof i=="string"&&(E=`${E}-${i}`);const w=P.useMemo(()=>({onToggle:()=>_==null?void 0:_(!g),bsPrefix:k,expanded:!!g,expand:i}),[k,g,i,_]);return B.jsx(Ko.Provider,{value:w,children:B.jsx(zR.Provider,{value:D,children:B.jsx(p,{ref:e,...S,className:xe(d,k,i&&E,s&&`${k}-${s}`,o&&`bg-${o}`,c&&`sticky-${c}`,l&&`fixed-${l}`)})})})});gE.displayName="Navbar";const gr=Object.assign(gE,{Brand:UR,Collapse:$R,Offcanvas:LO,Text:RO,Toggle:GR}),OO=()=>B.jsxs("div",{children:[B.jsx(gr,{expand:"lg",className:"bg-body-tertiary",fixed:"top",children:B.jsx(wg,{children:B.jsx(gr.Brand,{href:"#home",children:"Tenny"})})}),B.jsx(gr,{expand:"lg",className:"bg-body-tertiary",fixed:"bottom",children:B.jsx(wg,{children:B.jsxs(gr.Brand,{href:"#home",placement:"end",children:[B.jsx(gr.Toggle,{"aria-controls":"offcanvasNavbar-expand-"}),B.jsx(gr.Offcanvas,{id:"offcanvasNavbar-expand-","aria-labelledby":"offcanvasNavbarLabel-expand-",placement:"end"})]})})})]}),AO=()=>(P.useState(0),B.jsxs("div",{children:[B.jsx(OO,{}),B.jsx(MR,{})]})),MO=zc.createRoot(document.getElementById("root"));MO.render(B.jsx(xt.StrictMode,{children:B.jsx(AO,{})}));
